<UserControl
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:a="clr-namespace:Com.Aote.Attachs;assembly=s2DLL"
    xmlns:o="clr-namespace:Com.Aote.ObjectTools;assembly=s2DLL"
    xmlns:b="clr-namespace:Com.Aote.Behaviors;assembly=s2DLL"
	xmlns:c="clr-namespace:Com.Aote.Controls;assembly=s2DLL"
    xmlns:m="clr-namespace:Com.Aote.Marks;assembly=s2DLL"
    xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
    xmlns:ei="http://schemas.microsoft.com/expression/2010/interactions"
    xmlns:data="clr-namespace:System.Windows.Data;assembly=System.Windows"
    xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"
    xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"
	xmlns:System="clr-namespace:System;assembly=mscorlib"
	mc:Ignorable="d" FontSize="13"
	x:Class="Com.Aote.Pages.信息列表查询">

    <Grid x:Name="LayoutRoot">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="0.083*"/>
            <ColumnDefinition Width="0.917*"/>
        </Grid.ColumnDefinitions>
        <m:ResourceLoad Margin="0,0,-12,0" Grid.ColumnSpan="2">
           <!--单位列表-->
            <o:ObjectList Name="danobj" WebClientInfo="{StaticResource dbclient}"
				Path="{m:Exp Str=$from t_userfiles where f_unitid\=\'\{unitgo.f_unitid\}\'  }" />
            <!--分公司列表对象-->
            <o:ObjectList Name="fgslist" EntityType="paramvalue" HasEmptyRow="True" WebClientInfo="{StaticResource dbclient}" Path="from paramvalue where param.name='分公司' order by id"/>
            <!--用户档案对象-->
            <o:GeneralObject Name="userfilego" WebClientInfo="{StaticResource dbclient}" 
				EntityType="t_userfiles" Source="{m:Exp Str=daninfos.SelectedItem}"
				IsInit="{m:Exp Str=this.State\=\=$End}"        	>
                <o:PropertySetter  PropertyName="f_substate" Default="完成"/>
            </o:GeneralObject>
			<!--用气性质-->
            <o:ObjectList Name="usegaslist"  EntityType="paramvalue" HasEmptyRow="True" WebClientInfo="{StaticResource dbclient}" Path="from paramvalue where param.name='用气性质'"/>
            


            <!--总公司名称-->
            <o:GeneralObject Name="zonggongsi" EntityType="t_singlevalue" WebClientInfo="{StaticResource dbclient}" 
		  		Path="{m:Exp Str=$one/from t_singlevalue where name \= \'总公司名称\'}"   >
            </o:GeneralObject>

            <o:ObjectList Name="qblist" EntityType="paramvalue" HasEmptyRow="True" WebClientInfo="{StaticResource dbclient}" Path="from paramvalue where param.name='气表品牌'"/>

            <o:ObjectList Name="qjlist" EntityType="paramvalue" HasEmptyRow="True" WebClientInfo="{StaticResource dbclient}" Path="from paramvalue where param.name='气价类型'"/>
            <!--用气设备信息-->
            <o:ObjectList Name="devicelist" EntityType="t_devices" HasEmptyRow="True"></o:ObjectList>
        </m:ResourceLoad>
        <sdk:TabControl Margin="0" Grid.ColumnSpan="2" >




            <sdk:TabItem Header="民用档案" Height="Auto" Width="Auto" >
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*"/>
                        <ColumnDefinition Width="7*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=daninfos.ItemsSource.IsBusy or toExcel.IsBusy}">
                        <toolkit:DockPanel>
                            <Grid x:Name="daninfosearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="28"/>
                                    <RowDefinition Height="28"/>
                                    <RowDefinition Height="28"/>
                                    <RowDefinition Height="28"/>
                                    <RowDefinition Height="28"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="70"/>
                                    <ColumnDefinition Width="50*"/>
                                    <ColumnDefinition Width="70"/>
                                    <ColumnDefinition Width="50*"/>
                                </Grid.ColumnDefinitions>
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>
                                <TextBlock TextWrapping="Wrap" Text="所属公司：" Margin="0" HorizontalAlignment="Right" Grid.Column="2" Grid.Row="3" />
                                <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="0" HorizontalAlignment="Right" />
                                <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" Width="Auto" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid"  Operator="f_userid = 'this'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock TextWrapping="Wrap" Text="表　　号：" Grid.Row="1" Margin="0" HorizontalAlignment="Right"/>
                                <TextBox TextWrapping="Wrap" Grid.Row="1" Grid.Column="1" Text="{m:Bind Path=f_meternumber}" Width="Auto" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_meternumber"  Operator="f_meternumber like '%this%'"/>
                                    </a:Data.Prop>
                                </TextBox>


                                <TextBlock TextWrapping="Wrap" Text="地　　址：" Grid.Row="2" Margin="0,4" HorizontalAlignment="Right" />
                                <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="2" Text="{m:Bind Path=f_address}" Width="Auto" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address"  Operator="f_address like 'this%'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock TextWrapping="Wrap" Text="用户姓名：" Grid.Column="2" Grid.Row="2" Margin="0" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBox TextWrapping="Wrap" Grid.Row="2" Grid.Column="3" Text="{m:Bind Path=f_username}" Width="Auto" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username"  Operator="f_username like 'this%'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <ComboBox Name="Combox1"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="3" Grid.Column="3" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" SelectedValuePath="name"  Height="25">
                                     <ComboBox.ItemTemplate>
										<DataTemplate>
											<TextBlock Text="{Binding name}" Height="20"></TextBlock>
										</DataTemplate>
									</ComboBox.ItemTemplate>
									
									<a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                    </a:Data.Prop>
                                </ComboBox>
								<StackPanel Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                <Button Content="查  询" x:Name="dansearchbutton"  Click="{m:Exp Str=daninfosearch.DataContext.Search()}" Margin="2" FontSize="14" HorizontalAlignment="Left" Width="auto"  />
                                 <Button Content="置  空"   HorizontalAlignment="Left" Margin="2" 
								 Click="{m:Exp Str=daninfosearch.DataContext.f_userid\=null;
								 daninfosearch.DataContext.f_filiale\=null;
								 daninfosearch.DataContext.f_username\=null;
								 daninfosearch.DataContext.f_gaspricetype\=null;
								 daninfosearch.DataContext.f_gaswatchbrand\=null;
								 daninfosearch.DataContext.f_yytdate2\=null;
								 daninfosearch.DataContext.f_yytdate1\=null;
								 daninfosearch.DataContext.f_address\=null;
								 daninfosearch.DataContext.f_cardid\=null}" FontSize="14"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=daninfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel.ToExcel()}" Margin="2"   HorizontalAlignment="Right" Width="auto"/>
								<c:Excel x:Name="toExcel" HQL="{m:Exp Str=daninfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{daninfos.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_cardid:卡号|f_times:写卡次数|f_districtname:小区名称|f_apartment:门牌号|f_phone:电话|f_gaswatchbrand:气表品牌|f_metertype:气表型号$}"/>
					    <c:DownLoad x:Name="downLoad" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							
							</StackPanel>


								<TextBlock TextWrapping="Wrap" Text="气表品牌：" Grid.Column="2"  Margin="0,4" HorizontalAlignment="Right" />
                                <ComboBox Name="Comboxfx" SelectedValue="{m:Bind Path=f_gaswatchbrand}" Grid.Column="3" ItemsSource="{m:Exp Str=qblist}"  Margin="0"  SelectedValuePath="name"  Height="25">
                                     <ComboBox.ItemTemplate>
										<DataTemplate>
											<TextBlock Text="{Binding name}" Height="20"></TextBlock>
										</DataTemplate>
									</ComboBox.ItemTemplate>
									
									
									<a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrand"  Operator="f_gaswatchbrand like 'this%'"/>
                                    </a:Data.Prop>
                                </ComboBox>
                                <TextBlock TextWrapping="Wrap" Text="气价类型：" Grid.Column="2" Grid.Row="1"  Margin="0,4" HorizontalAlignment="Right" />
                                <ComboBox Name="Comboxqj" Grid.Row="1" SelectedValue="{m:Bind Path=f_gaspricetype}" Grid.Column="3" ItemsSource="{m:Exp Str=qjlist}"  Margin="0" SelectedValuePath="name"  Height="25">
                                     <ComboBox.ItemTemplate>
										<DataTemplate>
											<TextBlock Text="{Binding name}" Height="20"></TextBlock>
										</DataTemplate>
									</ComboBox.ItemTemplate>
									
									<a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaspricetype"  Operator="f_gaspricetype like 'this%'"/>
                                    </a:Data.Prop>
                                </ComboBox>
                                <TextBlock TextWrapping="Wrap" Grid.Row="3" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right"><Run Text="建档日期从"/><Run Text=" "/></TextBlock>
                                <sdk:DatePicker Name="tj4" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="3" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                        <o:PropertySetter PropertyName="f_yytdate1" Value="{m:Exp Str=SysTime.Today}"
											Operator="f_yytdate >= substring('this',1,10)"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <sdk:DatePicker Name="tj8" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="4" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_yytdate2"  Value="{m:Exp Str=SysTime.Today}"
											Operator="f_yytdate ^= substring('this',1,10)"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="4" Margin="0" Height="25" TextAlignment="Right"/>
                            </Grid>

                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
                                <sdk:DataPager x:Name="pager2" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=daninfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap"  Margin="5,0,0,3" Text="{m:Exp Str=$共\{daninfos.ItemsSource.Count\}项}"   Foreground="#FF140000" Width="Auto" toolkit:DockPanel.Dock="Bottom" Height="27" />
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"/>
                            </toolkit:DockPanel>

                            <sdk:DataGrid x:Name="daninfos" Margin="0,0,0,3"   IsReadOnly="True"
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="daninfoslist" WebClientInfo="{StaticResource dbclient}"
									Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_userfiles where \{daninfosearch.DataContext.Condition\} and f_usertype\=\'民用\'$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_userfiles where \{daninfosearch.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\' and f_usertype\=\'民用\'$\,$abc$}"
										IsOld="{m:Exp Str=userfile.DataContext.State\=\=$End$}"
										PageIndex="{m:Exp Str=pager2.PageIndex}" PageSize="{m:Exp Str=pager2.PageSize}" SumNames="f_times"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户姓名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="卡号" Binding="{Binding f_cardid}"/>
                                    <sdk:DataGridTextColumn Header="写卡次数" Binding="{Binding f_times}"/>
                                    <sdk:DataGridTextColumn Header="小区名称" Binding="{Binding f_districtname}"/>
                                    <sdk:DataGridTextColumn Header="门牌号" Binding="{Binding f_apartment}"/>

                                    <sdk:DataGridTextColumn Header="电  话" Binding="{Binding f_phone}"/>
                                    <sdk:DataGridTextColumn Header="表安装日期" Binding="{Binding f_watchinstalldate, StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="建档日期" Binding="{Binding f_yytdate, StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="建档时间" Binding="{Binding f_yyttime,StringFormat=hh:mm:ss tt}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>

                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>

                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=userfile.DataContext.IsBusy}" Margin="5,0,0,0" Grid.Column="1" Width="Auto" >
                        <toolkit:DockPanel>
                            <Grid x:Name="userfile" DataContext="{m:Exp Str=userfilego}"  Margin="0,0,0,20" >
                                <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" d:LayoutOverrides="Height">
                                    <Grid Margin="0" HorizontalAlignment="Stretch"  >
                                        <Grid.Background>
                                            <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                                <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                                <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                            </LinearGradientBrush>
                                        </Grid.Background>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="8"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="1"/>

                                            <RowDefinition Height="1"/>
                                            <RowDefinition Height="1"/>
                                            <RowDefinition Height="10"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>

                                            <RowDefinition Height="10"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="10"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>

                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="10"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="10"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="10"/>
                                            <RowDefinition Height="1"/>
                                            <RowDefinition Height="1"/>





                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120"/>
                                            <ColumnDefinition Width="0.1*"/>
                                            <ColumnDefinition Width="110"/>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="0.8*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="用户姓名：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Height="25" Grid.Row="1"/>
                                        <TextBlock Text="小区名称：" Margin="0" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Height="25" Grid.Column="2"/>
                                        <TextBlock Text="地　　址：" Margin="0" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="证件类型：" Margin="0" Grid.Row="4" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="门 牌 号：" Margin="0,3,0,2" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="3" Height="25"/>
                                        <TextBlock Text="证件号码：" Grid.Column="2" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="4" Height="25"/>
                                        <TextBlock Text="电　　话：" Margin="0" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="4" Height="25" />
                                        <TextBlock Text="用户类型：" Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" TextAlignment="Right" Height="25" Grid.Column="4"/>
                                        <TextBlock Text="用气性质：" Margin="0,3,0,2" Grid.Row="10" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="气价类型：" Grid.Column="2" Margin="0,3,0,2" Grid.Row="10" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="气　　价：" Grid.Column="4" Margin="0,3,0,2" Grid.Row="10" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_username}" Grid.Column="1" Margin="0" Grid.Row="1" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" RenderTransformOrigin="-1.739,-0.923" HorizontalAlignment="Stretch" Width="Auto" IsReadOnly="True" Grid.RowSpan="1" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_username" />
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBox Text="{m:Bind Path=f_districtname}"  Grid.Column="3" Margin="0" Grid.Row="2"  Grid.ColumnSpan="1"  TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="Auto" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_districtname" />
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBox Text="{m:Bind Path=f_address}" IsReadOnly="True" Grid.Column="1" Margin="0" Grid.Row="2" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_address"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_credentials}"  Grid.Column="1" Margin="0" Grid.Row="4" Height="25" HorizontalAlignment="Stretch" Width="Auto" IsEnabled="True" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_credentials"   />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_apartment}"  Grid.Column="1" Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_apartment"  />
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBox Text="{m:Bind Path=f_idnumber}"  Grid.Column="3" Margin="0" Grid.Row="4" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" Grid.ColumnSpan="1" IsReadOnly="True" HorizontalAlignment="Stretch" Width="Auto" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_idnumber"/>
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBox Text="{m:Bind Path=f_phone}"  Grid.Column="5" Margin="0,3,0,2" Grid.Row="2" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_phone"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="3" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="Auto" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_usertype" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gasproperties}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="10" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="Auto" IsEnabled="True" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasproperties"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gaspricetype}"  Grid.Column="3" Margin="0,3,0,2" Grid.Row="10" Height="25" VerticalAlignment="Stretch" Grid.ColumnSpan="1" IsEnabled="True" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gaspricetype"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gasprice}"   Grid.Column="5" Margin="0,3,0,2" Grid.Row="10" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasprice"    />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0,3,0,2" TextWrapping="Wrap" Text="气表品牌：" TextAlignment="Right" Grid.Row="12" Height="25"/>
                                        <TextBlock Margin="0,3,0,2" TextWrapping="Wrap" Text="气表型号：" TextAlignment="Right" Grid.Row="12" Height="25" Grid.Column="2"/>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="9" TextWrapping="Wrap" Text="表　　号：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Grid.Column="2" Margin="0,3,0,2" Grid.Row="9" TextWrapping="Wrap" Text="表  封 号：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="13" TextWrapping="Wrap" Text="气表厂家：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="13" TextWrapping="Wrap" Text="气表类型：" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="12" TextWrapping="Wrap" Text="气表底数：" TextAlignment="Right" Grid.Column="4" Height="25"/>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="9" TextWrapping="Wrap" Text="左  右 表：" TextAlignment="Right" Grid.Column="3" Height="25" Grid.ColumnSpan="2"/>
                                        <CheckBox IsChecked="{m:Bind Path=f_closevalve}" IsEnabled="False"  Content="有自闭阀" Margin="0,2,0,-2" Grid.Row="4" Grid.Column="5" Height="Auto" VerticalAlignment="Stretch" HorizontalAlignment="Left">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_closevalve" />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <TextBox  Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="12" Height="25" VerticalAlignment="Stretch" d:LayoutOverrides="HorizontalAlignment" IsEnabled="True" IsReadOnly="True"   >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gaswatchbrand" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_metertype}"  Grid.Column="3" Margin="0,3,0,2" Grid.Row="12" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="Auto" IsEnabled="True" IsReadOnly="True">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_metertype"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_meternumber}"  Grid.Column="1" Margin="0,3,0,2" Grid.Row="9" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" d:LayoutOverrides="HorizontalAlignment" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_meternumber" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_metertitles}"  Grid.Column="3" Margin="0,3,0,2" Grid.Row="9" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="Auto" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_metertitles"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gasmetermanufacturers}"  Grid.Column="1" Margin="0,3,0,2" Grid.Row="13" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasmetermanufacturers" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gasmeterstyle}"  Grid.Column="3" Margin="0,3,0,2" Grid.Row="13" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasmeterstyle" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gasmeteraccomodations}"  Grid.Column="5" Margin="0,3,0,2" Grid.Row="12" Height="25" VerticalAlignment="Stretch" RenderTransformOrigin="0.548,0.462" HorizontalAlignment="Stretch" IsReadOnly="True"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasmeteraccomodations"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_aroundmeter}"  Grid.Column="5" Margin="0,3,0,2" Grid.Row="9" Height="25" VerticalAlignment="Stretch" IsEnabled="True" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_aroundmeter"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="2" Margin="0" TextWrapping="Wrap" Text="用户编号：" TextAlignment="Right" Grid.Row="1" Height="25"/>
                                        <TextBlock Grid.Column="2" Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" Text="用户状态：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="17" TextWrapping="Wrap" Text="当前表累计购气量：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Grid.Column="2" Margin="0,3,0,2" Grid.Row="17" TextWrapping="Wrap" Text="总累计购气量：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Grid.Column="2" Margin="0,3,0,2" Grid.Row="21" TextWrapping="Wrap" Text="壁挂炉品牌：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Grid.Column="4" Margin="0,3,0,2" Grid.Row="21" TextWrapping="Wrap" Text="壁挂炉型号：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Grid.Column="2" Margin="0,3,0,2" Grid.Row="22" TextWrapping="Wrap" Text="灶具品牌：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Grid.Column="4" Margin="0,3,0,2" Grid.Row="22" TextWrapping="Wrap" Text="灶具型号：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Grid.Column="2" Margin="0,3,0,2" Grid.Row="23" TextWrapping="Wrap" Text="热水器品牌：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Grid.Column="4" Margin="0,3,0,2" Grid.Row="23" TextWrapping="Wrap" Text="热水器型号：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="18" TextWrapping="Wrap" Text="维护费起始年月：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="19" TextWrapping="Wrap" Text="是否发卡：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Grid.Column="4" Margin="0,3,0,2" Grid.Row="18" TextWrapping="Wrap" Text="开户日期：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Margin="0" Grid.Row="18" TextWrapping="Wrap" Text="最后购气量：" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                        <TextBlock Margin="-201,3,0,12" Grid.Row="8" TextWrapping="Wrap" Text="是否发折：" TextAlignment="Right" Height="25" HorizontalAlignment="Left" Width="110" Grid.RowSpan="2"/>
                                        <TextBlock Margin="-1,2,0,3" Grid.Row="17" TextWrapping="Wrap" Text="最后购气日期：" TextAlignment="Right" Height="25" Grid.Column="3" Grid.ColumnSpan="2"/>
                                        <TextBox Text="{m:Bind Path=f_userid}"  Grid.Column="3" Margin="0" Grid.Row="1" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" IsReadOnly="True"  >
                                            <a:Data.Prop>
                                                <!--o:PropertySetter PropertyName="f_userid"
											Default="{m:Exp Str=$\{LoginUser.f_fengongsinum\}\{Seriab.Value\}}"/-->
                                                <o:PropertySetter PropertyName="f_userid" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_userstate}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="3" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" Grid.ColumnSpan="1"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_userstate"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_metergasnums}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="17"   HorizontalAlignment="Stretch" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" d:LayoutOverrides="HorizontalAlignment"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_metergasnums" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_cumulativepurchase}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="17"  HorizontalAlignment="Stretch" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" Width="Auto" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_cumulativepurchase" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_wallhangboiler}"  Content="有壁挂炉" Grid.Column="1" Margin="0,3,0,2" Grid.Row="21" Height="25" VerticalAlignment="Stretch" IsEnabled="False" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_wallhangboiler" />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <TextBox Text="{m:Bind Path=f_wallhangboilerbrand}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="21" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" IsReadOnly="True"    >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_wallhangboilerbrand"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_wallhangboilermodel}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="21" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" IsReadOnly="True"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_wallhangboilermodel"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_kitchen}"  Content="有灶具" Grid.Column="1" Margin="0,3,0,2" Grid.Row="22" Height="25" VerticalAlignment="Stretch" IsEnabled="False" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_kitchen" />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <TextBox Text="{m:Bind Path=f_kitchenbrand}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="22"  HorizontalAlignment="Stretch" Height="25" VerticalAlignment="Stretch" IsReadOnly="True"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_kitchenbrand"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_kitchenmodel}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="22" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_kitchenmodel"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_waterheater}"  Content="有热水器" Grid.Column="1" Margin="0,3,0,2" Grid.Row="23" Height="25" VerticalAlignment="Stretch" IsEnabled="False" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_waterheater" />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <TextBox Text="{m:Bind Path=f_waterheaterbrand}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="23"  HorizontalAlignment="Stretch" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_waterheaterbrand"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_waterheatermodel}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="23" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_waterheatermodel"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{Binding f_beginfee, StringFormat=yyyy-MM}"  Grid.Column="1" Margin="0,3,0,2" Grid.Row="18" IsEnabled="True" Height="25" VerticalAlignment="Stretch" IsReadOnly="True"  >
                                            <!--a:Data.Prop>
										<o:PropertySetter PropertyName="f_beginfee"
											Value="{m:Exp Str='userfilego.f_givecarddate.ToDate().AddMonths(whfobj.value.ToInt())'}"/>
										</a:Data.Prop-->
                                        </TextBox>
                                        <TextBox Text="{Binding f_dateofopening, StringFormat=yyyy-MM-dd}"  Grid.Column="5" Margin="0,3,0,2" Grid.Row="18"  Grid.ColumnSpan="1" Grid.RowSpan="1" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_dateofopening" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_finallybought}"  Grid.Column="3" Margin="0,3,0,2" Grid.Row="18" TextWrapping="Wrap" HorizontalAlignment="Stretch" Grid.RowSpan="1" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_finallybought" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{Binding f_finabuygasdate, StringFormat=yyyy-MM-dd}"  Grid.Column="5" Margin="0,3,0,2" Grid.Row="17"  Grid.RowSpan="1" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" d:LayoutOverrides="HorizontalAlignment" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_finabuygasdate"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Text="发卡日期：" Grid.Column="4" Margin="0,3,0,2" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="19" Height="25"/>
                                        <TextBox  Text="{Binding f_givecarddate, StringFormat=yyyy-MM-dd}"  Grid.Column="5" Margin="0,3,0,2" Grid.Row="19" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_givecarddate" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Row="25" TextWrapping="Wrap" Text="网　　点：" TextAlignment="Right" Height="25" Margin="0,3,0,2"/>
                                        <TextBox Text="{m:Bind Path=f_yytdepa}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="25" TextWrapping="Wrap"  VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" Height="25" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_yytdepa" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="2" Grid.Row="25" TextWrapping="Wrap" Text="操  作 人："  TextAlignment="Right" Height="25" Margin="0,3,0,2"/>
                                        <TextBox Text="{m:Bind Path=f_yytoper}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="25" TextWrapping="Wrap"  VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" Height="25" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_yytoper" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="4" Margin="0,3,0,2" Grid.Row="25" TextWrapping="Wrap" Text="建档日期：" TextAlignment="Right" Height="25" />
                                        <sdk:DatePicker SelectedDate="{m:Bind Path=f_yytdate}"  Grid.Column="5" Margin="0,3,0,2" Grid.Row="25"  IsTodayHighlighted="True" IsDropDownOpen="False" SelectedDateFormat="Short" VerticalAlignment="Stretch" IsEnabled="False" Height="25" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_yytdate" />
                                            </a:Data.Prop>
                                        </sdk:DatePicker>

                                        <Border  Grid.Row="20" Margin="5,0,0,0" BorderThickness="0,0,0,3"  Grid.ColumnSpan="6" >
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="#FFC6E2FB" Offset="1"/>
                                                    <GradientStop Color="#FFE6F1FB"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <Border  Grid.Row="24" Margin="5,0,0,0" BorderThickness="0" Grid.ColumnSpan="6" >
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="#FFC6E2FB" Offset="1"/>
                                                    <GradientStop Color="#FFE6F1FB"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <!--隐藏域-->
                                        <TextBlock Margin="0,2" TextWrapping="Wrap" Text="卡  编  号：" TextAlignment="Right" Visibility="Collapsed"/>
                                        <!--抄表应交气量-->
                                        <TextBox Text="{m:Bind Path=oughtamount}" Visibility="Collapsed"  Margin="0,2" TextWrapping="Wrap" IsReadOnly="True"  Height="Auto"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="oughtamount"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--是否发卡-->
                                        <TextBox Text="{m:Bind Path=f_whethergivecard}"  Grid.Column="1" Margin="0,3,0,2" Grid.Row="19" TextWrapping="Wrap" IsReadOnly="True"  Height="25" HorizontalAlignment="Stretch" Width="Auto"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_whethergivecard"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--是否发折-->
                                        <TextBox Text="{m:Bind Path=f_whethergivepassbook}"  Grid.Column="0" Margin="-91,3,0,12" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True"  Height="25" HorizontalAlignment="Left" Width="50" Grid.RowSpan="2"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_whethergivepassbook" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--抄表应交金额-->
                                        <TextBox Text="{m:Bind Path=oughtfee}" Visibility="Collapsed"  Margin="0,2" TextWrapping="Wrap" IsReadOnly="True"  Height="Auto"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="oughtfee"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--抄表本次抄表底数-->
                                        <TextBox Text="{m:Bind Path=lastrecord}" Visibility="Collapsed"  Margin="0,2" TextWrapping="Wrap" IsReadOnly="True"  Height="Auto"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="lastrecord"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--抄表上次抄表底数-->
                                        <TextBox Text="{m:Bind Path=lastinputgasnum}" Visibility="Collapsed"  Margin="0,2" TextWrapping="Wrap" IsReadOnly="True"  Height="Auto"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="lastinputgasnum"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--抄表日期-->
                                        <TextBox Text="{m:Bind Path=lastinputdate}" Visibility="Collapsed"  Margin="0,2" TextWrapping="Wrap" IsReadOnly="True"  Height="Auto"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="lastinputdate"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--超用气量-->
                                        <TextBox Text="{m:Bind Path=f_cypregas}" Visibility="Collapsed"  Margin="0,6,0,2" TextWrapping="Wrap" IsReadOnly="True">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_cypregas"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--换表类型-->
                                        <TextBox Text="{m:Bind Path=f_replacewatchtype}" Grid.Column="5" Grid.Row="19" Visibility="Collapsed"  Margin="0,6" TextWrapping="Wrap" IsReadOnly="True">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_replacewatchtype"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--换表表费-->

                                        <!--卡号-->
                                        <!--用户总累计购气量-->
                                        <TextBox Text="{m:Bind Path=f_cumulativepurchase}" Visibility="Collapsed"  Margin="0,6,0,2" TextWrapping="Wrap" IsReadOnly="True">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_cumulativepurchase"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--当前表累计购气量-->
                                        <TextBox Text="{m:Bind Path=f_metergasnums}" Visibility="Collapsed"  Margin="0,6,0,2" TextWrapping="Wrap" IsReadOnly="True">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_metergasnums"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--预购气量-->
                                        <!--额定流量-->
                                        <TextBox Text="{m:Bind Path=f_flownum}"   Margin="0,6,0,2" TextWrapping="Wrap" IsReadOnly="True">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_flownum" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--表厂别名-->
                                        <TextBox Text="{m:Bind Path=f_aliasname}"   Margin="0,6,0,2" TextWrapping="Wrap" IsReadOnly="True">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_aliasname" />
                                            </a:Data.Prop>
                                        </TextBox>

                                        <!--小区查询-->
                                        <TextBlock Margin="0,3,0,2" Grid.Row="26" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0" Grid.Row="26" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25" Grid.ColumnSpan="1">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_filiale" 
													/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,3,0,2" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="26"  Grid.Column="4" Height="25" />
                                        <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="5" Margin="0,3,0,2" Grid.Row="26" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_fengongsinum" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="4" Margin="0,3,0,2" Grid.Row="16" TextWrapping="Wrap" Text="别　　名：" Height="25" TextAlignment="Right"/>
                                        <TextBox Text="{m:Bind Path=f_aliasname}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="16" TextWrapping="Wrap" IsReadOnly="True" Height="25" HorizontalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_aliasname" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="2" Margin="0,3,0,2" Grid.Row="19" TextWrapping="Wrap" Text="开户气量：" Height="25" TextAlignment="Right"/>
                                        <TextBox Text="{m:Bind Path=f_kaihuql}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="19" TextWrapping="Wrap" Height="25" IsReadOnly="True">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_kaihuql"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_dibaohu}" IsEnabled="False" Content="低保户" Margin="0,2,8,-2" Grid.Row="4" Grid.Column="4" Height="Auto" VerticalAlignment="Stretch" HorizontalAlignment="Right" RenderTransformOrigin="6.778,-5.5">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_dibaohu" />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <Border  Grid.Row="27" Margin="5,0,0,0" BorderThickness="0" Grid.ColumnSpan="6" Height="14" VerticalAlignment="Top" >
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="#FFC6E2FB" Offset="1"/>
                                                    <GradientStop Color="#FFE6F1FB"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="15" TextWrapping="Wrap" Text="额定流量：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_flownum}"  Grid.Column="1" Margin="0,3,0,2" Grid.Row="15" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" d:LayoutOverrides="HorizontalAlignment" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_flownum" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="15" TextWrapping="Wrap" Text="类　　型：" TextAlignment="Right" Height="25" Grid.Column="2"/>
                                        <TextBox Text="{m:Bind Path=f_type}"  Grid.Column="3" Margin="0,3,0,2" Grid.Row="15" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" Width="Auto" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_type" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="16" TextWrapping="Wrap" Text="脉冲(表系数)：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_maichong}"  Grid.Column="1" Margin="0,3,0,2" Grid.Row="16" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" Width="Auto" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_maichong"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0,3,0,2" Grid.Row="16" TextWrapping="Wrap" Text="海力表型编码：" TextAlignment="Right" Height="25" Grid.Column="2"/>
                                        <TextBox Text="{m:Bind Path=f_watchnum}"  Grid.Column="3" Margin="0,3,0,2" Grid.Row="16" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" Width="Auto" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_watchnum" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Text="卡　　号：" Grid.Column="4" Margin="0" Grid.Row="1" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_cardid}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="1" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="Auto" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_cardid"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <Border Margin="5,0,0,-4" BorderThickness="0,0,0,3" Height="14" Grid.ColumnSpan="6" Grid.Row="11" d:LayoutOverrides="VerticalAlignment" >
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="#FFC6E2FB" Offset="1"/>
                                                    <GradientStop Color="#FFE6F1FB"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <Border  Grid.Row="14" Margin="5,0,0,0" BorderThickness="0,0,0,3"  Grid.ColumnSpan="6" >
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="#FFC6E2FB" Offset="1"/>
                                                    <GradientStop Color="#FFE6F1FB"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <Border Margin="5,0,0,-4" BorderThickness="0,0,0,3" Height="14" Grid.ColumnSpan="6" Grid.Row="8" d:LayoutOverrides="VerticalAlignment" >
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="#FFC6E2FB" Offset="1"/>
                                                    <GradientStop Color="#FFE6F1FB"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <TextBlock Grid.Column="4" Margin="0" Grid.Row="26" TextWrapping="Wrap" Text="建档时间：" TextAlignment="Right" Height="25" />
                                        <toolkit:TimePicker Value="{m:Bind Path=f_yyttime}"  Grid.Column="5" Margin="0" Grid.Row="26"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_yyttime" />
                                            </a:Data.Prop>
                                        </toolkit:TimePicker>
                                        <TextBlock Margin="0" Grid.Row="13" TextWrapping="Wrap" Text="写卡次数：" TextAlignment="Right" Grid.Column="4" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_times}"  Grid.Column="5" Margin="0" Grid.Row="13" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" Grid.ColumnSpan="1"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_times" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="4" Margin="0" Grid.Row="15" TextWrapping="Wrap" Text="表安装日期：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{Binding f_watchinstalldate, StringFormat=yyyy-MM-dd}"  Grid.Column="5" Margin="0" Grid.Row="15"  Grid.ColumnSpan="1" Grid.RowSpan="1" Height="25" IsReadOnly="True" HorizontalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_watchinstalldate" />
                                            </a:Data.Prop>
                                        </TextBox>

                                    </Grid>
                                </ScrollViewer>
                            </Grid>
                        </toolkit:DockPanel>

                    </toolkit:BusyIndicator>
                </Grid>

            </sdk:TabItem>

            <sdk:TabItem Header="非民用档案" Height="Auto" Width="Auto" >
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*"/>
                        <ColumnDefinition Width="7*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator HorizontalAlignment="Stretch" VerticalAlignment="Stretch" BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=feidaninfos.ItemsSource.IsBusy or toExcel1.IsBusy}">
                        <toolkit:DockPanel   >
                            <Grid x:Name="feidaninfosearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >

                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="28"/>
                                    <RowDefinition Height="28"/>
                                    <RowDefinition Height="28"/>
                                    <RowDefinition Height="28"/>
                                    <RowDefinition Height="28"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="70"/>
                                    <ColumnDefinition Width="50*"/>
                                    <ColumnDefinition Width="70"/>
                                    <ColumnDefinition Width="50*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock TextWrapping="Wrap" Text="所属公司：" Margin="0" HorizontalAlignment="Right" Grid.Column="2" Grid.Row="3" />
                                <TextBlock TextWrapping="Wrap" Text="用户编号:" Margin="0" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                                <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid" Operator="f_userid = 'this'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock TextWrapping="Wrap" Grid.Row="1" Text="单位名称：" Margin="0" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="1" Text="{m:Bind Path=f_username}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username" Operator="f_username like 'this%'"/>
                                    </a:Data.Prop>
                                </TextBox>


                                <TextBlock TextWrapping="Wrap" Text="卡　　号：" Grid.Row="2" Margin="5,4,0,4" HorizontalAlignment="Right"/>
                                <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="2" Text="{m:Bind Path=f_cardid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cardid" Operator="f_cardid like '%this%'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock TextWrapping="Wrap" Text="地　　址：" Grid.Row="2" Grid.Column="2" Margin="0,4" HorizontalAlignment="Right" />
                                <TextBox TextWrapping="Wrap" Grid.Row="2" Grid.Column="3" Text="{m:Bind Path=f_address}" Width="Auto" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address"  Operator="f_address like 'this%'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <ComboBox Name="Combox2"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="3" Grid.Column="3" ItemsSource="{m:Exp Str=fgslist}"  Margin="0"  SelectedValuePath="name"  Height="25" HorizontalAlignment="Stretch" Width="Auto">
                                    <ComboBox.ItemTemplate>
										<DataTemplate>
											<TextBlock Text="{Binding name}" Height="20"></TextBlock>
										</DataTemplate>
									</ComboBox.ItemTemplate>
									<a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                    </a:Data.Prop>
                                </ComboBox>
								<StackPanel Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                <Button Content="查  询" x:Name="feidansearchbutton"  Click="{m:Exp Str=feidaninfosearch.DataContext.Search()}" Margin="2" FontSize="14" Height="25" HorizontalAlignment="Left" Width="50"  />
                                 <Button Content=" 置  空"   HorizontalAlignment="Left" Width="Auto" Margin="2" 
								 Click="{m:Exp Str=feidaninfosearch.DataContext.f_userid\=null;
								 feidaninfosearch.DataContext.f_filiale\=null;
								  feidaninfosearch.DataContext.f_username\=null;
								 feidaninfosearch.DataContext.f_gaspricetype\=null;
								 feidaninfosearch.DataContext.f_gaswatchbrand\=null;
								 feidaninfosearch.DataContext.f_yytdate2\=null;
								 feidaninfosearch.DataContext.f_yytdate1\=null;
								 feidaninfosearch.DataContext.f_address\=null;
								 feidaninfosearch.DataContext.f_cardid\=null}" FontSize="14"   />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=feidaninfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel1.ToExcel()}" Margin="2"  HorizontalAlignment="Right" Width="Auto"/>
								<c:Excel x:Name="toExcel1" HQL="{m:Exp Str=feidaninfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad1.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{feidaninfos.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_cardid:卡号|f_times:写卡次数|f_districtname:小区名称|f_apartment:门牌号|f_phone:电话|f_gaswatchbrand:气表品牌|f_metertype:气表型号$}"/>
					    <c:DownLoad x:Name="downLoad1" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel1.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							
							</StackPanel>
								
								
								
								<TextBlock TextWrapping="Wrap" Text="气表品牌：" Grid.Column="2"  Margin="0,4" HorizontalAlignment="Right" />
                                
								
								<ComboBox Name="Comboxfx1" SelectedValue="{m:Bind Path=f_gaswatchbrand}" Grid.Column="3" ItemsSource="{m:Exp Str=qblist}"  Margin="0"  SelectedValuePath="name"  Height="25">
                                  <ComboBox.ItemTemplate>
										<DataTemplate>
											<TextBlock Text="{Binding name}" Height="20"></TextBlock>
										</DataTemplate>
									</ComboBox.ItemTemplate>
								    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrand"  Operator="f_gaswatchbrand like 'this%'"/>
                                    </a:Data.Prop>
                                </ComboBox>
                                <TextBlock TextWrapping="Wrap" Text="气价类型：" Grid.Column="2" Grid.Row="1"  Margin="0,4" HorizontalAlignment="Right" />
                                <ComboBox Name="Comboxqj1" Grid.Row="1" SelectedValue="{m:Bind Path=f_gaspricetype}" Grid.Column="3" ItemsSource="{m:Exp Str=qjlist}"  Margin="0" SelectedValuePath="name"  Height="25">
                                    <ComboBox.ItemTemplate>
										<DataTemplate>
											<TextBlock Text="{Binding name}" Height="20"></TextBlock>
										</DataTemplate>
									</ComboBox.ItemTemplate>
									
									<a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaspricetype"  Operator="f_gaspricetype like 'this%'"/>
                                    </a:Data.Prop>
                                </ComboBox>

                                <TextBlock TextWrapping="Wrap" Grid.Row="3" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right"><Run Text="建档日期从"/><Run Text=" "/></TextBlock>
                                <sdk:DatePicker Name="fmy" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="3" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                        <o:PropertySetter PropertyName="f_yytdate1" Value="{m:Exp Str=SysTime.Today}"
											Operator="f_yytdate >= substring('this',1,10)"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <sdk:DatePicker Name="fmy1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="4" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_yytdate2"  Value="{m:Exp Str=SysTime.Today}"
											Operator="f_yytdate ^= substring('this',1,10)"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="4" Margin="0" Height="25" TextAlignment="Right"/>
                            </Grid>

                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
                                <sdk:DataPager x:Name="pager9" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=feidaninfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap"  Margin="5,0,0,3" Text="{m:Exp Str=$共 \{feidaninfos.ItemsSource.Count\} 项}"   Foreground="#FF140000" Width="Auto" toolkit:DockPanel.Dock="Bottom" Height="27"/>
                            </toolkit:DockPanel>

                            <sdk:DataGrid x:Name="feidaninfos" Margin="0"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <!--o:PagedObjectList x:Name="feidaninfoslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=$select distinct userfile from t_userfiles as userfile left join fetch userfile.f_device where \{feidaninfosearch.DataContext.Condition\} and f_usertype\=\'非民用\'}"										
										PageIndex="{m:Exp Str=pager9.PageIndex}" PageSize="{m:Exp Str=pager9.PageSize}" SumNames="f_jisuannum"/-->
                                    <o:PagedObjectList x:Name="feidaninfoslist" WebClientInfo="{StaticResource dbclient}"
																				
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_userfiles where \{feidaninfosearch.DataContext.Condition\} and f_usertype\=\'非民用\'$ \, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_userfiles where \{feidaninfosearch.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\' and f_usertype\=\'非民用\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager9.PageIndex}" PageSize="{m:Exp Str=pager9.PageSize}" SumNames="f_times"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="单位名称" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="卡号" Binding="{Binding f_cardid}"/>
                                    <sdk:DataGridTextColumn Header="写卡次数" Binding="{Binding f_times}"/>
                                    <sdk:DataGridTextColumn Header="气表品牌" Binding="{Binding f_gaswatchbrand}"/>
                                    <sdk:DataGridTextColumn Header="气表型号" Binding="{Binding f_metertype}"/>
                                    <sdk:DataGridTextColumn Header="表安装日期" Binding="{Binding f_watchinstalldate, StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="建档日期" Binding="{Binding f_yytdate, StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="建档时间" Binding="{Binding f_yyttime,StringFormat=hh:mm:ss tt}"/>


                                    <!--sdk:DataGridTextColumn Header="部   门" Binding="{Binding f_yytdepa}"/>
									<sdk:DataGridTextColumn Header="操 作 人" Binding="{Binding f_yytoper}"/>
									<sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_yytdate, StringFormat=yyyy-MM-dd}"/-->
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>

                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=userfile1.DataContext.IsBusy}" Margin="5,0,0,0" Grid.Column="1">
                        <Grid  x:Name="userfile1">
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="userfilego1" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_userfiles" Source="{m:Exp Str=feidaninfos.SelectedItem}"
									IsInit="{m:Exp Str=this.State\=\=$End}"        	>
                                    <o:PropertySetter  PropertyName="f_substate" Default="完成"/>
                                    <o:PropertySetter PropertyName="f_device" Default="{m:Exp Str=devicelist}"></o:PropertySetter>

                                </o:GeneralObject>
                            </a:Data.Context>
                            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" d:LayoutOverrides="Height">
                                <toolkit:DockPanel>
                                    <Grid toolkit:DockPanel.Dock="Top" Margin="0" HorizontalAlignment="Stretch" >
                                        <Grid.Background>
                                            <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                                <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                                <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                            </LinearGradientBrush>
                                        </Grid.Background>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="1"/>
                                            <RowDefinition Height="1"/>

                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="14"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>

                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="14"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="14"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="14"/>
                                            <RowDefinition Height="30"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="130"/>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="130"/>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="110"/>
                                            <ColumnDefinition Width="1*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="单位名称：" Grid.Column="0" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="联 系 人：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="1" Height="25"/>
                                        <TextBlock Text="地　　址：" Margin="0" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="证件号码：" Grid.Column="2" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Height="25" Grid.Row="3"/>
                                        <TextBlock Text="电　　话：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Grid.Row="1" Height="25"/>
                                        <TextBlock Text="门 牌 号：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="2" Grid.Column="2" Height="25"/>
                                        <TextBlock Text="用户类型：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="1" Height="25" Grid.Column="4"/>
                                        <TextBlock Text="用气性质：" Margin="0" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="气价类型：" Grid.Column="2" Margin="0" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="气　　价：" Grid.Column="4" Margin="0" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <Border  Grid.Row="7" Margin="5,0,0,0" BorderThickness="0,0,0,3"  Grid.ColumnSpan="8" >
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="#FFC6E2FB" Offset="1"/>
                                                    <GradientStop Color="#FFE6F1FB"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <Border  Grid.Row="14" BorderThickness="0,0,0,3"  Grid.ColumnSpan="6" Height="14" VerticalAlignment="Bottom" d:LayoutOverrides="VerticalAlignment" Margin="0,0,0,-1" >
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="#FFC6E2FB" Offset="1"/>
                                                    <GradientStop Color="#FFE6F1FB"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <Border  Grid.Row="17" Margin="0,2" BorderThickness="0,0,0,3"  Grid.ColumnSpan="8" Height="14" VerticalAlignment="Bottom" >
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="#FFC6E2FB" Offset="1"/>
                                                    <GradientStop Color="#FFE6F1FB"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <Border  Grid.Row="22" Margin="5,0,0,0" BorderThickness="0,0,0,3"  Grid.ColumnSpan="6" >
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="#FFC6E2FB" Offset="1"/>
                                                    <GradientStop Color="#FFE6F1FB"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <TextBox Text="{m:Bind Path=f_username}" Grid.Column="1"  Margin="0,2,0,3" Grid.Row="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_username" />
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBox Text="{m:Bind Path=f_linkname}"  Grid.Column="1" Margin="0" Grid.Row="1" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" RenderTransformOrigin="-1.313,0.4" IsReadOnly="True"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_linkname" />
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBox Text="{m:Bind Path=f_address}" IsReadOnly="True" Grid.Column="1" Margin="0,3,0,2" Grid.Row="2" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_address"  />
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBox Text="{m:Bind Path=f_idnumber}"  Grid.Column="3" Margin="0,3,0,0" Grid.Row="3" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" RenderTransformOrigin="0.368,-0.68" HorizontalAlignment="Stretch" Grid.ColumnSpan="1" Width="Auto"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_idnumber"/>
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBox Text="{m:Bind Path=f_phone}"  Grid.Column="3" Margin="0" Grid.Row="1" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" RenderTransformOrigin="-1.435,0.56" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_phone"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_apartment}"  Grid.Column="3" Margin="0" Grid.Row="2" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" Grid.ColumnSpan="1" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_apartment"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="5" Margin="0" Grid.Row="1" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_usertype"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox  Text="{m:Bind Path=f_gasproperties}" Grid.Column="1" Margin="0,0,0,2" Grid.Row="6" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasproperties" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gaspricetype}"  Grid.Column="3" Margin="0,0,0,2" Grid.Row="6" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gaspricetype"   />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gasprice}" Grid.Column="5" Margin="0,0,0,2" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasprice"   />
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBlock Grid.Column="0" Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="表　　号：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Margin="0" Grid.Row="13" TextWrapping="Wrap" Text="大 小 卡：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="气表厂家：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="气表类型：" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                        <TextBlock Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="额定流量：" d:LayoutOverrides="Width" Grid.Column="4" Height="25" TextAlignment="Right"/>
                                        <TextBlock Grid.Column="4" Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="气表底数：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_meternumber}"  Grid.Column="1" Margin="0,0,0,2" Grid.Row="10" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_meternumber"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_bigsmallcard}"  Grid.Column="1" Margin="0" Grid.Row="13" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_bigsmallcard"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gasmetermanufacturers}" Grid.Column="1" Margin="0,0,0,2" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasmetermanufacturers"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gasmeterstyle}"  Grid.Column="3" Margin="0,0,0,2" Grid.Row="9" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasmeterstyle" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_flownum}" Grid.Column="5" Margin="0,0,0,2" Grid.Row="9" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_flownum" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gasmeteraccomodations}"  Grid.Column="5" Margin="0,0,0,2" Grid.Row="10" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasmeteraccomodations"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <StackPanel Orientation="Horizontal" Grid.Row="10" Grid.Column="1" Margin="0"/>
                                        <TextBlock Margin="0" TextWrapping="Wrap" Text="用户编号：" TextAlignment="Right" Height="25" Grid.Column="2"/>
                                        <TextBlock Margin="0" TextWrapping="Wrap" Text="用户状态：" TextAlignment="Right" Height="25" Grid.Row="2" Grid.Column="4"/>
                                        <TextBlock Margin="0,6,0,-1" Grid.Row="15" TextWrapping="Wrap" Text="当前表累计购气量：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Grid.Column="2" Margin="0,6,0,-1" Grid.Row="15" TextWrapping="Wrap" Text="总累计购气量：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Grid.Column="4" Margin="0,6,0,-1" Grid.Row="16" TextWrapping="Wrap" Text="开户日期：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Margin="0,6,0,-1" Grid.Row="16" TextWrapping="Wrap" Text="最后购气量：" TextAlignment="Right" Height="25"/>
                                        <TextBlock Margin="0,6,0,-1" Grid.Row="16" TextWrapping="Wrap" Text="最后购气日期：" TextAlignment="Right" Grid.Column="2" Height="25" />
                                        <TextBox Text="{m:Bind Path=f_userid}"  Grid.Column="3" Margin="0" Grid.Row="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="Auto"  >
                                            <a:Data.Prop>
                                                <!--o:PropertySetter PropertyName="f_userid" 
											Default="{m:Exp Str=$\{LoginUser.f_fengongsinum\}\{Seriab.Value\}}" /-->
                                                <o:PropertySetter PropertyName="f_userid"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_userstate}" Grid.Column="5" Margin="0" Grid.Row="2" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="Auto"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_userstate" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_metergasnums}" Grid.Column="1" Margin="0,5,0,0" Grid.Row="15" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_metergasnums"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_cumulativepurchase}" Grid.Column="3" Margin="0" Grid.Row="15" IsReadOnly="True" Height="25" VerticalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_cumulativepurchase" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_businkitchen}" IsEnabled="False"  Content="营业大灶" Grid.Column="1" Margin="0" Grid.Row="18" Height="Auto" VerticalAlignment="Stretch" Grid.RowSpan="2" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_businkitchen"  />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_lndfurnace}" IsEnabled="False"  Content="工业窑炉" Grid.Column="1" Margin="0" Grid.Row="19" Height="Auto" VerticalAlignment="Stretch" Grid.RowSpan="1" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_lndfurnace" />
                                            </a:Data.Prop>
                                        </CheckBox>

                                        <TextBox Text="{m:Bind Path=f_finallybought}" Grid.Column="1" Margin="0,5,0,0" Grid.Row="16" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_finallybought" Default="0" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <sdk:DatePicker SelectedDate="{m:Bind Path=f_finabuygasdate}" Grid.Column="3" Margin="0,5,0,0" Grid.Row="16" IsEnabled="False" Height="25" VerticalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_finabuygasdate"/>
                                            </a:Data.Prop>
                                        </sdk:DatePicker>
                                        <sdk:DatePicker SelectedDate="{m:Bind Path=f_dateofopening}"  Grid.Column="5" Margin="0,5,0,0" Grid.Row="16"  Grid.ColumnSpan="1" Grid.RowSpan="1" IsEnabled="False" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_dateofopening"
											/>
                                            </a:Data.Prop>
                                        </sdk:DatePicker>
                                        <TextBlock Margin="0,6,0,-1" Grid.Row="20" TextWrapping="Wrap" Text="网　　点：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_yytdepa}" Grid.Column="1" Margin="0" Grid.Row="20" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_yytdepa" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0,6,0,-1" Grid.Row="20" TextWrapping="Wrap" Text="操  作  人："  TextAlignment="Right" Grid.Column="2" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_yytoper}" Grid.Column="3" Margin="0" Grid.Row="20" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_yytoper" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="4" Margin="0" Grid.Row="20" TextWrapping="Wrap" Text="建档日期：" TextAlignment="Right" Height="25"/>
                                        <sdk:DatePicker SelectedDate="{m:Bind Path=f_yytdate}" IsEnabled="False" Grid.Column="5" Margin="0" Grid.Row="20"  IsTodayHighlighted="True" IsDropDownOpen="False" SelectedDateFormat="Short" VerticalAlignment="Stretch" Height="25" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_yytdate" />
                                            </a:Data.Prop>
                                        </sdk:DatePicker>

                                        <TextBlock Margin="0" TextWrapping="Wrap" Text="气表品牌：" TextAlignment="Right" Grid.Row="8" Height="25"/>
                                        <TextBlock Grid.Column="2" Margin="0" TextWrapping="Wrap" Text="气表型号：" TextAlignment="Right" Grid.Row="8" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="1" Margin="0,0,0,2" Grid.Row="8" Height="25" VerticalAlignment="Stretch" IsReadOnly="True"   >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gaswatchbrand"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_metertype}" Grid.Column="3" Margin="0,0,0,2" Grid.Row="8" Height="25" VerticalAlignment="Stretch" Grid.ColumnSpan="1" IsReadOnly="True"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_metertype"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="2" Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="表  封 号：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_metertitles}"  Grid.Column="3" Margin="0,0,0,2" Grid.Row="10" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_metertitles"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0" Grid.Row="11" TextWrapping="Wrap" Text="基表厂家：" TextAlignment="Right" Grid.Column="4" Height="25" />
                                        <TextBox Text="{m:Bind Path=f_jbfactory}"  Grid.Column="1" Margin="0" Grid.Row="11" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" Grid.RowSpan="1" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_jbfactory"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0" TextWrapping="Wrap" Text="基表品牌：" TextAlignment="Right" Grid.Row="11" Height="25" />
                                        <TextBox Text="{m:Bind Path=f_jbbrand}"  Grid.Column="3" Margin="0" Grid.Row="11" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" Grid.RowSpan="1" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_jbbrand"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="2" Margin="0" TextWrapping="Wrap" Text="基表型号：" TextAlignment="Right" Grid.Row="11" Height="25" />
                                        <TextBox Text="{m:Bind Path=f_jbtype}"  Grid.Column="5" Margin="0" Grid.Row="11" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" Grid.RowSpan="1" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_jbtype"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--隐藏域-->
                                        <TextBlock Margin="0,2" TextWrapping="Wrap" Text="卡  编  号：" TextAlignment="Right" Visibility="Collapsed"/>

                                        <!--是否发折-->
                                        <TextBox Text="{m:Bind Path=f_whethergivepassbook}"   Margin="0,2" TextWrapping="Wrap" IsReadOnly="True"  Height="Auto" HorizontalAlignment="Left" Width="13" Visibility="Collapsed"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_whethergivepassbook" />
                                            </a:Data.Prop>
                                        </TextBox>


                                        <!--超用气量-->
                                        <TextBox Text="{m:Bind Path=f_cypregas}" Visibility="Collapsed"  Margin="0,6" TextWrapping="Wrap" IsReadOnly="True">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_cypregas"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--换表类型-->
                                        <TextBox Text="{m:Bind Path=f_replacewatchtype}" Visibility="Collapsed"  Margin="0,6" TextWrapping="Wrap" IsReadOnly="True">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_replacewatchtype"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--换表表费-->
                                        <TextBox Text="{m:Bind Path=f_watchfee}" Visibility="Collapsed"  Margin="0,6" TextWrapping="Wrap" IsReadOnly="True">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_watchfee"  />
                                            </a:Data.Prop>
                                        </TextBox>

                                        <!--购气次数-->
                                        <TextBlock Margin="0" Grid.Row="21" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0" Grid.Row="21" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25" Grid.ColumnSpan="1">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_filiale" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Text="分公司编号：" Margin="0" TextWrapping="Wrap" Visibility="Collapsed" TextAlignment="Right" Grid.Row="21" Height="25" />
                                        <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="1" Margin="0" Grid.Row="21" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_fengongsinum" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_businboiler}" IsEnabled="False" Content="营业锅炉" Grid.Column="2" Margin="30,0,0,0" Grid.Row="18" HorizontalAlignment="Left" Height="Auto" VerticalAlignment="Stretch" Grid.RowSpan="2">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_businboiler"  />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_welfarekitchen}" IsEnabled="False" Content="福利大灶" Grid.Column="3" Margin="0" Grid.Row="18" Height="Auto" VerticalAlignment="Stretch" Grid.RowSpan="2">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_welfarekitchen"  />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_welfareboiler}" Content="福利锅炉" IsEnabled="False" Grid.Column="4" Margin="0" Grid.Row="18" Height="Auto" VerticalAlignment="Stretch" Grid.RowSpan="2">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_welfareboiler"  />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_lndjiarelu}" IsEnabled="False" Content="工业加热炉" Grid.Column="2" Margin="30,0,0,0" Grid.Row="19" Grid.RowSpan="1" HorizontalAlignment="Left" Height="Auto" VerticalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_lndjiarelu"  />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_lndheating}" IsEnabled="False" Content="工业采暖炉" Grid.Column="3" Margin="0" Grid.Row="19" Grid.RowSpan="1" Height="Auto" VerticalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_lndheating"  />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <TextBlock Margin="0" Grid.Row="13" TextWrapping="Wrap" Text="别　　名：" Height="25" TextAlignment="Right" Grid.Column="2"/>
                                        <TextBox Grid.Column="7" HorizontalAlignment="Left" Margin="0,4,0,8" Grid.Row="10" TextWrapping="Wrap" Text="TextBox" Width="0"/>
                                        <TextBox Text="{m:Bind Path=f_aliasname}" Grid.Column="3" Margin="0" Grid.Row="13" TextWrapping="Wrap" Grid.RowSpan="1" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_aliasname"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Text="证件类型：" Margin="0,0,3,0" Grid.Row="3" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBox  Text="{m:Bind Path=f_credentials}"  Grid.Column="1" Margin="0,3,0,2" Grid.Row="3" HorizontalAlignment="Stretch" Width="Auto" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_credentials" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="类　　型：" Grid.Column="4" Height="25" TextAlignment="Right" d:LayoutOverrides="Width"/>
                                        <TextBox Text="{m:Bind Path=f_type}" Grid.Column="5" Margin="0" Grid.Row="8" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_type" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0" Grid.Row="12" TextWrapping="Wrap" Text="海力表型编码：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_watchnum}"  Grid.Column="1" Margin="0" Grid.Row="12" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_watchnum"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0" Grid.Row="12" TextWrapping="Wrap" Text="脉冲/表系数：" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_maichong}"  Grid.Column="3" Margin="0" Grid.Row="12" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_maichong"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Text="卡　　号：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="4" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_cardid}" Grid.Column="5" Margin="0" Grid.Row="0" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_cardid" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="4" Margin="0,6,0,-1" Grid.Row="15" TextWrapping="Wrap" Text="是否发卡：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_whethergivecard}"  Grid.Column="5" Margin="0,6,0,-1" Grid.Row="15" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" Grid.RowSpan="1" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_whethergivecard"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="4" Margin="0" Grid.Row="21" TextWrapping="Wrap" Text="建档时间：" TextAlignment="Right" Height="25"/>
                                        <toolkit:TimePicker Value="{m:Bind Path=f_yyttime}" IsEnabled="False" Grid.Column="5" Margin="0" Grid.Row="21"   IsDropDownOpen="False"  VerticalAlignment="Stretch" Height="25" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_yyttime" />
                                            </a:Data.Prop>
                                        </toolkit:TimePicker>
                                        <TextBlock Text="单位编号：" Grid.Column="4" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Height="25" d:LayoutOverrides="VerticalAlignment" Grid.Row="3" Grid.RowSpan="3"/>
                                        <TextBox Text="{m:Bind Path=f_unitid}" Grid.Column="5" Margin="0" Grid.Row="3" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" Grid.RowSpan="3" Grid.ColumnSpan="1" IsReadOnly="True" d:LayoutOverrides="VerticalAlignment" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_unitid"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0" Grid.Row="12" TextWrapping="Wrap" Text="写卡次数：" TextAlignment="Right" Grid.Column="4" Height="25" />
                                        <TextBox Text="{m:Bind Path=f_times}"  Grid.Column="5" Margin="0" Grid.Row="12" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" Grid.RowSpan="1" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_times"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0" Grid.Row="13" TextWrapping="Wrap" Text="表安装日期：" TextAlignment="Right" Grid.Column="4" Height="25" />
                                        <TextBox Text="{Binding f_watchinstalldate, StringFormat=yyyy-MM-dd}"  Grid.Column="5" Margin="0" Grid.Row="13" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" Grid.RowSpan="1" IsReadOnly="True" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_watchinstalldate"/>
                                            </a:Data.Prop>
                                        </TextBox>

                                    </Grid>
                                    <sdk:DataGrid ItemsSource="{m:Exp Str=devicelist}" AutoGenerateColumns="False" x:Name="devices" HorizontalAlignment="Stretch"  Margin="0" >
                                        <sdk:DataGrid.Columns>
                                            <sdk:DataGridTemplateColumn>
                                                <sdk:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button Content="X" 
															Visibility="{m:Exp Str=data\=\=data.List.EmptyRow:$Collapsed$\,$Visible$}" 
															Click="{m:Exp Str=data.Remove()}"/>
                                                    </DataTemplate>
                                                </sdk:DataGridTemplateColumn.CellTemplate>
                                            </sdk:DataGridTemplateColumn>
                                            <sdk:DataGridTemplateColumn Header="序 号" d:IsLocked="True" >
                                                <sdk:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox Text="{m:Exp Str=data\=\=data.List.EmptyRow:$*$\,data.Index}" Style="{StaticResource TextBoxDatagridStyle}" IsReadOnly="True"/>
                                                    </DataTemplate>
                                                </sdk:DataGridTemplateColumn.CellTemplate>
                                            </sdk:DataGridTemplateColumn>

                                            <sdk:DataGridTemplateColumn Header="设备名称">
                                                <sdk:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox Text="{m:Bind Path=f_name}" Style="{StaticResource TextBoxDatagridStyle}"/>
                                                    </DataTemplate>
                                                </sdk:DataGridTemplateColumn.CellTemplate>
                                            </sdk:DataGridTemplateColumn>
                                            <sdk:DataGridTemplateColumn Header="功 率">
                                                <sdk:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox Text="{m:Bind Path=f_heatingboiler_gonglu}" Style="{StaticResource TextBoxDatagridStyle}"/>
                                                    </DataTemplate>
                                                </sdk:DataGridTemplateColumn.CellTemplate>
                                            </sdk:DataGridTemplateColumn>
                                            <sdk:DataGridTemplateColumn Header="吨位/个数">
                                                <sdk:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox Text="{m:Bind Path=f_heatingboiler_tonnage}" Style="{StaticResource TextBoxDatagridStyle}"/>
                                                    </DataTemplate>
                                                </sdk:DataGridTemplateColumn.CellTemplate>
                                            </sdk:DataGridTemplateColumn>
                                            <sdk:DataGridTemplateColumn Header="台 数">
                                                <sdk:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox Text="{m:Bind Path=f_heatingboiler_quantity}" Style="{StaticResource TextBoxDatagridStyle}"/>
                                                    </DataTemplate>
                                                </sdk:DataGridTemplateColumn.CellTemplate>
                                            </sdk:DataGridTemplateColumn>
                                            <sdk:DataGridTemplateColumn Header="选择品牌">
                                                <sdk:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox Text="{m:Bind Path=f_heatingboiler_brand}" Style="{StaticResource TextBoxDatagridStyle}"/>
                                                    </DataTemplate>
                                                </sdk:DataGridTemplateColumn.CellTemplate>
                                            </sdk:DataGridTemplateColumn>
                                            <sdk:DataGridTemplateColumn Header="选择型号">
                                                <sdk:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox Text="{m:Bind Path=f_heatingboiler_model}" Style="{StaticResource TextBoxDatagridStyle}"/>
                                                    </DataTemplate>
                                                </sdk:DataGridTemplateColumn.CellTemplate>
                                            </sdk:DataGridTemplateColumn>
                                        </sdk:DataGrid.Columns>
                                    </sdk:DataGrid>
                                </toolkit:DockPanel>
                            </ScrollViewer>
                        </Grid>
                    </toolkit:BusyIndicator>


                </Grid>
            </sdk:TabItem>

            <sdk:TabItem Header="档案变更" Height="Auto" Width="Auto" Margin="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=danbginfos.ItemsSource.IsBusy  or toExcel2.IsBusy}">
                        <toolkit:DockPanel   >
                            <Grid x:Name="danbginfosearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >

                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="28"/>
                                    <RowDefinition Height="28"/>
                                    <RowDefinition Height="28"/>
                                    <RowDefinition Height="28"/>

                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="50*"/>
                                    <ColumnDefinition Width="50*"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock TextWrapping="Wrap" Grid.Row="2" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right"><Run Text="建档日期从"/><Run Text=" "/></TextBlock>
                                <sdk:DatePicker Name="dabg" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                        <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_date >= substring('this',1,10)"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <sdk:DatePicker Name="dabg1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="3" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_date ^= substring('this',1,10)"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="3" Margin="0" Height="25" TextAlignment="Right"/>
                                <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="0" HorizontalAlignment="Right"/>
                                <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid" Operator="f_userid = 'this'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock TextWrapping="Wrap" Grid.Row="1" Text="用户姓名：" Margin="0" HorizontalAlignment="Right"/>
                                <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="1" Text="{m:Bind Path=f_username}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username" Operator="f_username like 'this%'"/>
                                    </a:Data.Prop>
                                </TextBox>

                                <ComboBox Name="Combox3"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0"  SelectedValuePath="name"  Height="25">
                                    <ComboBox.ItemTemplate>
										<DataTemplate>
											<TextBlock Text="{Binding name}" Height="20"></TextBlock>
										</DataTemplate>
									</ComboBox.ItemTemplate>
									<a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                    </a:Data.Prop>
                                </ComboBox>
								<StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                <Button Content="查  询" x:Name="dabgsearchbutton"  Click="{m:Exp Str=danbginfosearch.DataContext.Search()}" Margin="2" HorizontalAlignment="left" FontSize="14" Height="25" Width="Auto"  />
								 <Button Content=" 置  空"   Width="Auto" Margin="2" 
								 Click="{m:Exp Str=danbginfosearch.DataContext.f_userid\=null;
									 danbginfosearch.DataContext.f_filiale\=null;
								 danbginfosearch.DataContext.f_username\=null;
								 danbginfosearch.DataContext.f_yytdate2\=null;
								 danbginfosearch.DataContext.f_yytdate1\=null}" FontSize="14"   />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=danbginfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel2.ToExcel()}" Margin="2"  HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel2" HQL="{m:Exp Str=danbginfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad2.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{danbginfos.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_changereason:变更原因|f_department:部门|f_operator:操作人$}"/>
					    <c:DownLoad x:Name="downLoad2" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel2.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>

                            </Grid>

                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
                                <sdk:DataPager x:Name="pager0" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=danbginfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap"  Margin="5,0,0,3" Text="{m:Exp Str=$共\{danbginfos.ItemsSource.Count\}项}"   Foreground="#FF140000" Width="Auto" toolkit:DockPanel.Dock="Bottom" Height="27" />
                            </toolkit:DockPanel>

                            <sdk:DataGrid x:Name="danbginfos" Margin="0,0,0,2"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="danbginfoslist" WebClientInfo="{StaticResource dbclient}"
										MultiPath="{m:Exp Str=$from t_fileschange where \{danbginfosearch.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'}"
										
                                          Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_fileschange as apply left join fetch apply.f_changeid where \{danbginfosearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_fileschange as apply left join fetch apply.f_changeid where \{danbginfosearch.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager0.PageIndex}" PageSize="{m:Exp Str=pager0.PageSize}" SumNames="id"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户姓名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="变更原因" Binding="{Binding f_changereason}"/>
                                    <sdk:DataGridTextColumn Header="部   门" Binding="{Binding f_department}"/>
                                    <sdk:DataGridTextColumn Header="操 作 人" Binding="{Binding f_operator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_date, StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="时间" Binding="{Binding f_time,StringFormat=hh:mm:ss tt}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>

                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>

                    <toolkit:BusyIndicator BorderThickness="0" Grid.Column="1" Margin="8,0,0,0">
                        <Grid x:Name="biangeng" Width="477" Height="Auto" Margin="0,0,0,45">
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="biangenggo" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_fileschange" Source="{m:Exp Str=danbginfos.SelectedItem}"/>
                            </a:Data.Context>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.212*"/>
                                <ColumnDefinition Width="0.27*"/>
                                <ColumnDefinition Width="0.285*"/>
                                <ColumnDefinition Width="0.233*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>

                                <RowDefinition Height="150"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="7"/>
                            </Grid.RowDefinitions>


                            <TextBox Text="{m:Bind Path=f_userid}" IsReadOnly="True" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" Height="25" Grid.Row="1">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_userid"/>
                                </a:Data.Prop>
                            </TextBox>

                            <sdk:DataGrid IsReadOnly="True" AutoGenerateColumns="False" x:Name="fileschange" ItemsSource="{m:Exp Str=data.f_changeid}"  HorizontalAlignment="Stretch" Height="150" Grid.Column="1" Margin="0" Grid.Row="3" VerticalAlignment="Stretch" Grid.ColumnSpan="3" >

                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn Header="变更字段名称" Binding="{Binding f_filename}"/>                                    <sdk:DataGridTextColumn Header="编码" Binding="{Binding code}"/>                                    <sdk:DataGridTextColumn Header="变更前内容" Binding="{Binding f_changeqian}"/>                                    <sdk:DataGridTextColumn Header="变更后内容" Binding="{Binding f_changehou}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>


                            <TextBlock Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="用户编号" Height="25" TextAlignment="Right"/>
                            <TextBlock Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="用户姓名" Height="25" TextAlignment="Right" Grid.Column="2"/>
                            <TextBox Text="{m:Bind Path=f_username}" IsReadOnly="True" Grid.Column="3" HorizontalAlignment="Stretch" Margin="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" Height="25" Grid.Row="1" RenderTransformOrigin="4.727,0.48">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_username"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="变更原因" Height="25" TextAlignment="Right"/>
                            <TextBox Text="{m:Bind Path=f_changereason}" IsReadOnly="True" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0,3,0,2" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" Height="25" Grid.Row="2" Grid.ColumnSpan="3">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_changereason"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="分公司名称" Height="25" TextAlignment="Right"/>
                            <TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Visibility="Collapsed" Text="分公司编号" Height="25" TextAlignment="Right" Grid.Column="2"/>
                            <TextBlock Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="部　　门" Height="25" TextAlignment="Right"/>
                            <TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="操 作 员" Height="25" TextAlignment="Right" Grid.Column="2"/>
                            <TextBlock Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="日　　期" Height="25" TextAlignment="Right" Grid.Column="2"/>
                            <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed" Grid.Column="3" HorizontalAlignment="Stretch" Margin="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" Height="25" Grid.Row="4" RenderTransformOrigin="4.727,0.48" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_fengongsinum"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_operator}" Grid.Column="3" HorizontalAlignment="Stretch" Margin="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" Height="25" Grid.Row="4" RenderTransformOrigin="4.727,0.48" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_operator"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_department}" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" Height="25" Grid.Row="5" RenderTransformOrigin="4.727,0.48" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_department"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" Height="25" Grid.Row="4" RenderTransformOrigin="4.727,0.48" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_filiale"/>
                                </a:Data.Prop>
                            </TextBox>
                            <sdk:DatePicker SelectedDate="{m:Bind Path=f_date}" IsEnabled="False"  Grid.Column="3" Margin="0" Grid.Row="5"  Height="25" VerticalAlignment="Stretch"  >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_date"/>
                                </a:Data.Prop>
                            </sdk:DatePicker>
                            <TextBlock Text="操作时间：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="6" Height="25" Grid.Column="2" FontSize="13.333" />
                            <toolkit:TimePicker  Value="{m:Bind Path=f_time}" IsEnabled="False"  Grid.Column="3" Margin="0" Grid.Row="6"  Height="25" VerticalAlignment="Stretch"  >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_time"/>
                                </a:Data.Prop>
                            </toolkit:TimePicker>
                        </Grid>
                    </toolkit:BusyIndicator>
                </Grid>
            </sdk:TabItem>
            <sdk:TabItem Header="发 卡">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*"/>
                        <ColumnDefinition Width="7*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator  Margin="0" BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=fkinfos.ItemsSource.IsBusy or toExcel3.IsBusy}">
                        <toolkit:DockPanel   >
                            <toolkit:DockPanel x:Name="fkinfosearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="75"/>
                                        <ColumnDefinition Width="30*"/>
                                        <ColumnDefinition Width="70*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户姓名：" Margin="0" Height="25" TextAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_username}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_username" Operator="f_username like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Text="卡　　号：" Grid.Row="1" Margin="0" Height="25" TextAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="1" Text="{m:Bind Path=f_cardid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_cardid" Operator="f_cardid like '%this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>


                                    <TextBlock TextWrapping="Wrap" Grid.Row="2" Text="用户编号：" Margin="0" Height="25" TextAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="2" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid = 'this'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <ComboBox Name="Combox4"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0"  SelectedValuePath="name"  Height="25">
                                        <ComboBox.ItemTemplate>
											<DataTemplate>
												<TextBlock Text="{Binding name}" Height="20"></TextBlock>
											</DataTemplate>
										</ComboBox.ItemTemplate>
										<a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
									<StackPanel Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbutton0"  Click="{m:Exp Str=fkinfosearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=fkinfosearch.DataContext.f_cardid\=null;
								 fkinfosearch.DataContext.f_filiale\=null;
							     fkinfosearch.DataContext.f_username\=null;
								 fkinfosearch.DataContext.f_userid\=null;
								 fkinfosearch.DataContext.f_yytdate2\=null;
								 fkinfosearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=fkinfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel3.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel3" HQL="{m:Exp Str=fkinfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad3.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{fkinfos.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_cardid:卡号|f_usertype:用户类型|f_cardfees:卡费$}"/>
					    <c:DownLoad x:Name="downLoad3" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel3.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
                                    <TextBlock TextWrapping="Wrap" Grid.Row="3" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right"><Run Text="发卡日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="fkrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="3" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_givecarddate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="fkrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="4" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_givecarddate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="4" Margin="0" Height="25" TextAlignment="Right"/>
                                </Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
                                <sdk:DataPager x:Name="pager1" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=fkinfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap" Margin="5,0,0,3" Text="{m:Exp Str=$共\{fkinfos.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" toolkit:DockPanel.Dock="Bottom" Height="27"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"/>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="fkinfos" Margin="0,0,0,3"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True"  >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="fkinfoslist" WebClientInfo="{StaticResource dbclient}"
										
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_myfaka where \{fkinfosearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_myfaka where \{fkinfosearch.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager1.PageIndex}" PageSize="{m:Exp Str=pager1.PageSize}" SumNames="id"/>
                                </a:Data.Items>

                                <sdk:DataGrid.Columns>

                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>

                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="姓  名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="卡号" Binding="{Binding f_cardid}"/>

                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户类型" Binding="{Binding f_usertype}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="卡  费" Binding="{Binding f_cardfees}"/>

                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <toolkit:BusyIndicator Grid.Column="1" Margin="5,0,0,0">
                        <Grid Background="{x:Null}" x:Name="userfilefk">
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="fkuser" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_myfaka" Source="{m:Exp Str=fkinfos.SelectedItem}"/>
                            </a:Data.Context>
                            <toolkit:DockPanel>

                                <toolkit:DockPanel toolkit:DockPanel.Dock="Bottom"  >

                                    <StackPanel  Orientation="Horizontal" HorizontalAlignment="Right"/>
                                </toolkit:DockPanel>
                                <Grid  toolkit:DockPanel.Dock="Top" Margin="0" Height="Auto">
                                    <Grid.Background>
                                        <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                            <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                            <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Grid.Background>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="1"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="1"/>
                                        <RowDefinition Height="1"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="1"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="1"/>
                                        <RowDefinition Height="1"/>
                                        <RowDefinition Height="1"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="130"/>
                                        <ColumnDefinition Width="0.323*"/>
                                        <ColumnDefinition Width="150"/>
                                        <ColumnDefinition Width="0.346*"/>
                                        <ColumnDefinition Width="145"/>
                                        <ColumnDefinition Width="0.331*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Text="用户编号：" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                    <TextBlock Text="姓      名：" Grid.Column="2" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                    <TextBlock Text="小区地址：" Grid.Column="4" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                    <TextBlock Text="小区名称：" Margin="0,6,0,0" Grid.Row="1" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                    <TextBlock Text="气表品牌：" Grid.Column="2" Margin="0,6,0,0" Grid.Row="1" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                    <TextBlock Text="气表型号：" Grid.Column="4" Margin="0,6,0,0" Grid.Row="1" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                    <TextBlock Text="气表厂家：" Margin="0" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                    <TextBlock Text="用户类型：" Grid.Column="2" Margin="0" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                    <TextBlock Text="用气性质：" Grid.Column="4" Margin="0" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                    <TextBlock Text="卡      号：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="4" Height="25"/>
                                    <TextBlock Text="发卡日期：" Grid.Column="2" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="4" Height="25"/>
                                    <TextBlock Text="卡      费：" Margin="0,6,0,-1" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="5" Height="25" HorizontalAlignment="Left" Width="130"/>
                                    <TextBlock Text="部      门：" Grid.Column="2" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="5" Height="25"/>
                                    <TextBlock Text="操  作 人：" Grid.Column="4" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="5" Height="25"/>
                                    <TextBlock Text="预购气量：" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="6" Grid.Column="4" Height="25"/>
                                    <TextBlock Text="预购金额：" Grid.Column="2" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="6" Height="25"/>
                                    <TextBlock Text="气      价：" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="6" Height="25"/>
                                    <TextBlock Text="购气日期：" Grid.Column="2" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="12" Height="25"/>
                                    <TextBlock Text="本次总累计购气量：" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="9" Height="25"/>
                                    <TextBlock Text="当前表累计购气量：" Grid.Column="2" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="9" Height="25"/>
                                    <TextBlock Text="收       款：" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="11" Height="25"/>
                                    <TextBlock Text="应交金额：" Grid.Column="2" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="11" Height="25"/>
                                    <TextBlock Text="表       号：" Grid.Column="4" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="9" Height="25"/>
                                    <TextBlock Text="找      零：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="11" Grid.Column="4" Height="25"/>
                                    <TextBlock Text="操  作  员：" Margin="0,6,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="12" Height="25"/>
                                    <Border  Grid.Row="16" Margin="8,-1,-3,0" BorderThickness="0,0,0,3" Grid.ColumnSpan="6" Height="12" VerticalAlignment="Top" >
                                        <Border.Background>
                                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                <GradientStop Color="#FFC6E2FB" Offset="1"/>
                                                <GradientStop Color="#FFE6F1FB"/>
                                            </LinearGradientBrush>
                                        </Border.Background>
                                    </Border>
                                    <TextBox Text="{m:Bind Path=f_userid}"  Grid.Column="1" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" IsReadOnly="True" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_username}" Grid.Column="3" Margin="0" Grid.Row="0" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_username" />
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBox Text="{m:Bind Path=f_address}"  Grid.Column="5" Margin="0" Grid.Row="0" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_address"  />
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBox Text="{m:Bind Path=f_districtname}"  Grid.Column="1" Margin="0" Grid.Row="1" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_districtname" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_gaswatchbrand}"  Grid.Column="3" Margin="0" Grid.Row="1" TextWrapping="Wrap" Height="25" IsReadOnly="True">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_gaswatchbrand" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox x:Name="qbnumber" Text="{m:Bind Path=f_metertype}" Grid.Column="5" Margin="0" Grid.Row="1" TextWrapping="Wrap" Height="25" IsReadOnly="True" VerticalAlignment="Stretch">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_metertype" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <!--<ComboBox Name="CoboxPinpai" DisplayMemberPath="f_pinpai" SelectedValuePath="f_pinpai" SelectedValue="{m:Bind Path=f_gaswatchbrand}" Grid.Column="3" Margin="0,6" Grid.Row="1" IsEnabled="False"  >
								<a:Data.Items>
									<o:ObjectList WebClientInfo="{StaticResource dbclient}" Path="{m:Exp Str=$from qibiao as qibiao left join fetch qibiao.qbnumber}"/>
								</a:Data.Items>
							</ComboBox>-->
                                    <!--<ComboBox DisplayMemberPath="f_qbnumber" SelectedValuePath="f_qbnumber" ItemsSource="{m:Exp Str=CoboxPinpai.SelectedItem.qbnumber}" SelectedValue="{m:Bind Path=f_metertype}" Grid.Column="5" Margin="0,6" Grid.Row="1" IsEnabled="False"/ >-->

                                    <TextBox Text="{m:Bind Path=f_gasmetermanufacturers}"  Grid.Column="1" Margin="0" Grid.Row="2" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_gasmetermanufacturers" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="3" Margin="0" Grid.Row="2" IsReadOnly="True" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_usertype"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_gasproperties}" Grid.Column="5" Margin="0" Grid.Row="2" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_gasproperties"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <!--<ComboBox DisplayMemberPath="name" SelectedValuePath="name" SelectedValue="{m:Bind Path=f_gasproperties}"  Grid.Column="5" Margin="0,6" Grid.Row="2" IsEnabled="False" >
						      <a:Data.Items>
				                  <o:ObjectList WebClientInfo="{StaticResource dbclient}" Path="from paramvalue where param.name='用气性质'"/>
			                  </a:Data.Items>	
						</ComboBox>-->
                                    <TextBox Text="{m:Bind Path=f_cardid}" Grid.Column="1" Margin="0" Grid.Row="4" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_cardid"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <sdk:DatePicker SelectedDate="{m:Bind Path=f_givecarddate}" IsEnabled="False"  Grid.Column="3" Margin="0" Grid.Row="3" Height="25" VerticalAlignment="Stretch" Grid.RowSpan="2" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_givecarddate" 
												/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>

                                    <TextBox Text="{m:Bind Path=f_cardfees}"   Grid.Column="1" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Grid.Row="5" Height="25"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_cardfees"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_departments}" Grid.Column="3" Margin="0" Grid.Row="5" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_departments" 
												/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_operator}"  Grid.Column="5" Margin="0" Grid.Row="5" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_operator" 
												/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_pregas}"  Grid.Column="5" Margin="0" Grid.Row="6" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_pregas" />
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBox Text="{m:Bind Path=f_gasprice}" Grid.Column="1" Margin="0" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch" Height="25"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_gasprice"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <sdk:DatePicker SelectedDate="{m:Bind Path=f_deliverydate}" IsEnabled="False"  Grid.Column="3" Margin="0" Grid.Row="12"  Height="25" VerticalAlignment="Stretch"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_deliverydate" 
												/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBox Text="{m:Bind Path=f_preamount}"  Grid.Column="3" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Grid.Row="6" Height="25"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_preamount"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_metergasnums}"  Grid.Column="3" Margin="0" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_metergasnums" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_cumulativepurchase}"  Grid.Column="1" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Grid.Row="9" Height="25"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_cumulativepurchase" />
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBox Text="{m:Bind Path=f_grossproceeds}" Grid.Column="1" Margin="0" Grid.Row="11" TextWrapping="Wrap" HorizontalAlignment="Stretch" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_grossproceeds" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_totalcost}"  Grid.Column="3" Margin="0" Grid.Row="11" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_totalcost" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_meternumber}"  Grid.Column="5" Margin="0" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_meternumber" />
                                        </a:Data.Prop>
                                    </TextBox>

                                    <StackPanel Grid.ColumnSpan="2" Margin="0,2" Grid.Row="7" Orientation="Horizontal" Grid.Column="4"/>
                                    <TextBox Text="{m:Bind Path=f_sgoperator}" Grid.Column="1" Margin="0" Grid.Row="12" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch" Height="25" VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_sgoperator" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_givechange}"  Grid.Column="5" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Grid.Row="11" Height="25" VerticalAlignment="Stretch"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_givechange" />
                                        </a:Data.Prop>
                                    </TextBox>

                                    <!--隐藏域-->
                                    <TextBox Text="{m:Bind Path=f_zongleiji}" Visibility="Collapsed"   Margin="0,6" TextWrapping="Wrap"  IsReadOnly="True" Height="Auto" VerticalAlignment="Stretch"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_zongleiji" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_biaoleiji}" Visibility="Collapsed"  Margin="0,6" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Height="Auto" VerticalAlignment="Stretch"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_biaoleiji" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <!--写卡次数-->
                                    <!--气价类型-->
                                    <TextBox Text="{m:Bind Path=f_gaspricetype}" Visibility="Collapsed"   Margin="0,6" TextWrapping="Wrap"  IsReadOnly="True" Height="Auto" VerticalAlignment="Stretch"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_gaspricetype" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Margin="0,6,0,0" Grid.Row="13" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" Height="25"/>
                                    <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0" Grid.Row="13" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Text="分公司编号：" Margin="0,6,0,0" TextWrapping="Wrap" Visibility="Collapsed" TextAlignment="Right" Grid.Row="13"  Grid.Column="2" Height="25" />
                                    <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0" Grid.Row="13" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" RenderTransformOrigin="0.496,1.37" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_fengongsinum" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <!--StackPanel Grid.ColumnSpan="4" Grid.Column="1"  Margin="0,2,-11,2" Grid.Row="3" Orientation="Horizontal" Height="25"  >
										<TextBlock Text="民用气价" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="0,2" />
										<TextBox Text="{m:Bind Path=f_myprice}" Margin="5,0,0,0" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
											<a:Data.Prop>
												<o:PropertySetter PropertyName="f_myprice"  />
											</a:Data.Prop>
										</TextBox>
										<TextBlock Text="所占比率" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="10,2,0,2" />
										<TextBox Text="{m:Bind Path=f_myfenzhi}" Margin="5,0,0,0" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
											<a:Data.Prop>
												<o:PropertySetter PropertyName="f_myfenzhi"  />
											</a:Data.Prop>
										</TextBox>
										<TextBlock Text="非民用气价" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="10,2,0,2" />
										<TextBox Text="{m:Bind Path=f_gsprice}" Margin="5,0,0,0" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
											<a:Data.Prop>
												<o:PropertySetter PropertyName="f_gsprice"  />
											</a:Data.Prop>
										</TextBox>
										<TextBlock Text="所占比率" HorizontalAlignment="Left" TextWrapping="Wrap" Margin="10,2,0,2" />
										<TextBox Text="{m:Bind Path=f_gsfenzhi}" Margin="5,0,0,0" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
											<a:Data.Prop>
												<o:PropertySetter PropertyName="f_gsfenzhi"  />
											</a:Data.Prop>
										</TextBox>
									</StackPanel-->
                                    <TextBlock Text="网点：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="13" Height="25" Grid.Column="2"/>
                                    <TextBox Text="{m:Bind Path=f_sgnetwork}" Grid.Column="3" Margin="0" Grid.Row="13" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" Width="Auto"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_sgnetwork" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Grid.Column="4" Margin="0" Grid.Row="12" TextWrapping="Wrap" TextAlignment="Right" Height="25"><Run Text="购气"/><Run Text="时间"/><Run Text="："/></TextBlock>
                                    <toolkit:TimePicker Value="{m:Bind Path=f_deliverytime}" IsEnabled="False" Grid.Column="5" Margin="0" Grid.Row="12"   IsDropDownOpen="False"  VerticalAlignment="Stretch" Height="25" HorizontalAlignment="Stretch" Width="Auto" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_deliverytime" />
                                        </a:Data.Prop>
                                    </toolkit:TimePicker>
                                </Grid>
                            </toolkit:DockPanel>
                        </Grid>
                    </toolkit:BusyIndicator>
                </Grid>
            </sdk:TabItem>
            <sdk:TabItem Header="售 气">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator Margin="0,0,5,0" BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=sqinfosin.ItemsSource.IsBusy or toExcel4.IsBusy}">
                        <toolkit:DockPanel   >
                            <toolkit:DockPanel x:Name="sqinfosearch"  toolkit:DockPanel.Dock="Top" Margin="0" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="70"/>
                                        <ColumnDefinition Width="0.501*"/>
                                        <ColumnDefinition Width="0.499*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="姓　　名：" Margin="5,6,0,6" Height="25" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_username}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_username" Operator="f_username like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Text="用户编号：" Margin="5,6,0,6" Height="25" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid = 'this'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Text="卡　　号：" Grid.Row="2" Margin="5,6,0,6" Height="25" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="2" Text="{m:Bind Path=f_cardid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_cardid" Operator="f_cardid like '%this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="4" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right"><Run Text="交费日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="sqrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="4" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_deliverydate >= substring('this',1,10)" Value="{m:Exp Str=SysTime.Today}"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="sqrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="5" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_deliverydate ^= substring('this',1,10)" Value="{m:Exp Str=SysTime.Today}"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="5" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Combox5"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0"  SelectedValuePath="name"  Height="25">
                                        <ComboBox.ItemTemplate>
											<DataTemplate>
												<TextBlock Text="{Binding name}" Height="20"></TextBlock>
											</DataTemplate>
										</ComboBox.ItemTemplate>
										
										<a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>

                                   <StackPanel Grid.Row="5" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbuttonsq"  Click="{m:Exp Str=sqinfosearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=sqinfosearch.DataContext.f_username\=null;
								 sqinfosearch.DataContext.f_userid\=null;
							     sqinfosearch.DataContext.f_cardid\=null;
								 sqinfosearch.DataContext.f_sgoperator\=null;
								 sqinfosearch.DataContext.f_filiale\=null;
								 sqinfosearch.DataContext.f_yytdate2\=null;
								 sqinfosearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=sqinfosin.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel4.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel4" HQL="{m:Exp Str=sqinfosin.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad4.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{sqinfosin.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_districtname:小区名称|f_apartment:门牌号|f_cardid:卡号|f_pregas:购气量|f_payfeevalid:是否有效|f_sgoperator:操作员$}"/>
					    <c:DownLoad x:Name="downLoad4" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel4.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
									
									
									
									
									<TextBlock TextWrapping="Wrap" Text="操 作 员：" Grid.Row="3" Margin="0" Height="25" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="3" Text="{m:Bind Path=f_sgoperator}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_sgoperator" Operator="f_sgoperator = 'this'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                </Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
                                <sdk:DataPager x:Name="pager10" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=sqinfosin}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap" Margin="5,0,0,3" Text="{m:Exp Str=$共\{sqinfosin.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" toolkit:DockPanel.Dock="Bottom" Height="27"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"/>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="sqinfosin" Margin="0,0,0,3"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="sqinfoslistsq" WebClientInfo="{StaticResource dbclient}"
										
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_sellinggas where \{sqinfosearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_sellinggas where \{sqinfosearch.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager10.PageIndex}" PageSize="{m:Exp Str=pager10.PageSize}" SumNames="f_times"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户/单位名称" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="小区名称" Binding="{Binding f_districtname}"/>
                                    <sdk:DataGridTextColumn Header="门牌号" Binding="{Binding f_apartment}"/>
                                    <sdk:DataGridTextColumn Header="卡号" Binding="{Binding f_cardid}"/>
                                    <sdk:DataGridTextColumn Header="购气量" Binding="{Binding f_pregas}"/>
                                    <sdk:DataGridTextColumn Header="是否有效" Binding="{Binding f_payfeevalid}"/>


                                    <sdk:DataGridTextColumn Header="交费日期" Binding="{Binding f_deliverydate, StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="交费时间" Binding="{Binding f_deliverytime,StringFormat=hh:mm:ss tt}"/>
                                    <sdk:DataGridTextColumn Header="操作员" Binding="{Binding f_sgoperator}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>

                    <toolkit:BusyIndicator Grid.Column="1" Margin="5,0,0,0">
                        <Grid>
                            <toolkit:DockPanel>
                                <StackPanel toolkit:DockPanel.Dock="Top">
                                    <Grid   Margin="0" x:Name="kb" >
                                        <a:Data.Context>
                                            <o:GeneralObject  x:Name="kbgo" WebClientInfo="{StaticResource dbclient}" 
												EntityType="t_sellinggas" Source="{m:Exp Str=sqinfosin.SelectedItem}"/>
                                        </a:Data.Context>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="1"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="1"/>
                                            <RowDefinition Height="1"/>
                                            <RowDefinition Height="1"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="130"/>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="130"/>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="130"/>
                                            <ColumnDefinition Width="1*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="用户编号：" Margin="0,5" TextWrapping="Wrap"  TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="用户/单位名称：" Margin="0,5" TextWrapping="Wrap"  TextAlignment="Right" Grid.Column="2" Height="25"/>
                                        <TextBlock Text="卡      号：" Margin="0,5" Grid.Row="1" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="地      址：" Margin="0,5" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="小区名称：" Margin="0" Grid.Row="1" Grid.Column="4" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="气表品牌：" Margin="0,5" Grid.Row="3" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="气表型号：" Margin="0,5" Grid.Row="3" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                        <TextBlock Margin="0,5" Grid.Row="5" TextWrapping="Wrap" Text="气价类型：" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                        <TextBlock Text="气      价：" Grid.Column="4"  TextWrapping="Wrap" TextAlignment="Right" Grid.Row="5" Margin="0,5" Height="25"/>
                                        <TextBlock Text="维护费单价："  TextWrapping="Wrap" TextAlignment="Right" Grid.Row="7" Margin="0,5" Grid.Column="2" Height="25"/>
                                        <TextBlock Text="上次总累计购气量："  TextWrapping="Wrap" TextAlignment="Right" Grid.Row="7" Margin="0,5" Height="25"/>
                                        <TextBlock Text="限购气量：" Margin="0,5" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="3" Grid.Column="4" Height="25"/>

                                        <TextBlock Text="用户类型：" Margin="0,5" Grid.Row="1" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                        <TextBlock Text="用气性质：" Margin="0,5" Grid.Row="5" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="维管费起始月份：" Grid.Column="4" Margin="0,5" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="维管费截止月份：" Margin="0,5" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="预购气量：" Margin="0,5" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" Grid.Column="4" Height="25"/>
                                        <TextBlock Text="预购金额：" Margin="0,5" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" Grid.Column="2" Height="25"/>
                                        <TextBlock Text="付款方式：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" Height="25"/>
                                        <TextBlock Text="当前表累计购气量：" Margin="0" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Height="25" Grid.Column="4"/>
                                        <TextBlock Text="收      款：" Grid.Column="2" Margin="0,5" Grid.Row="12" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="应交金额：" Margin="0,5" Grid.Row="12" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="4" Height="25"/>
                                        <TextBlock Text="找      零：" Margin="0,5" Grid.Row="12" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                        <TextBlock Text="表      号：" Margin="0" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                        <TextBox x:Name="f_userid" IsReadOnly="True" Text="{m:Bind Path=f_userid}"  Grid.Column="1" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_userid"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_username}" IsReadOnly="True" Grid.Column="3" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_username"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_dibaohu}"  Content="是否低保户" Margin="0,6" Grid.Row="0" Grid.Column="5" Height="Auto" VerticalAlignment="Stretch" HorizontalAlignment="Left" IsEnabled="False">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_dibaohu" />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <TextBox Text="{m:Bind Path=f_cardid}" IsReadOnly="True" Grid.Column="1" Margin="0" Grid.Row="1" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_cardid"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_address}" IsReadOnly="True" Grid.Column="1" Margin="0" Grid.Row="2" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_address"/>
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBox Text="{m:Bind Path=f_districtname}" IsReadOnly="True" Grid.Column="5" Margin="0" Grid.Row="1" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_districtname"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="1" Margin="0" Grid.Row="3" IsReadOnly="True" Height="25" VerticalAlignment="Stretch"   >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gaswatchbrand"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_metertype}" Grid.Column="3" Margin="0" Grid.Row="3" IsReadOnly="True" Height="25" VerticalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_metertype"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gaspricetype}"  Grid.Column="3" Margin="0" Grid.Row="5" IsReadOnly="True" Height="25" VerticalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gaspricetype"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gasprice}" Grid.Column="5"  Grid.Row="5" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch" Width="Auto" Margin="0" Grid.ColumnSpan="1" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasprice"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_unitfee}" Grid.Column="3"  Grid.Row="7" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch" Width="Auto" Margin="0" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_unitfee"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_upbuynum}" Grid.Column="1" Margin="0" Grid.Row="7" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_upbuynum"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_limitbuygas}"  Grid.Column="5" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Grid.Row="3" Height="25"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_limitbuygas"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="3" Margin="0" Grid.Row="1"  HorizontalAlignment="Stretch" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_usertype"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_gasproperties}" Grid.Column="1" Margin="0" Grid.Row="5" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_gasproperties"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{Binding f_beginfee, StringFormat=yyyy-MM}" Grid.Column="5" Margin="0" Grid.Row="6" IsReadOnly="True" Height="25" VerticalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_beginfee"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{Binding f_endfee, StringFormat=yyyy-MM}" IsReadOnly="True"  Grid.Column="1" Margin="0" Grid.Row="6" Height="25"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_endfee"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_pregas}" IsReadOnly="True"  Grid.Column="5" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Grid.Row="8" Height="25" VerticalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_pregas"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_preamount}"  Grid.Column="3" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Grid.Row="8" Height="25" VerticalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_preamount"/>
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBox Text="{m:Bind Path=f_metergasnums}" IsReadOnly="True" Grid.Column="5" Margin="0" Grid.Row="2" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="Auto" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_metergasnums" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_payment}"  Grid.Column="1" Margin="0" TextWrapping="Wrap" IsReadOnly="True" Grid.ColumnSpan="1" Grid.Row="8" Height="25" VerticalAlignment="Stretch"  >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_payment"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_grossproceeds}" IsReadOnly="True"   Grid.Column="3" Margin="0" Grid.Row="12" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_grossproceeds"/>
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBox Text="{m:Bind Path=f_totalcost}" IsReadOnly="True" Grid.Column="5" Margin="0" Grid.Row="12" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_totalcost"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_givechange}"  Grid.Column="1" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Grid.Row="12"  HorizontalAlignment="Stretch" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_givechange"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_meternumber}"  Grid.Column="3" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Grid.Row="2"  HorizontalAlignment="Stretch" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_meternumber"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <CheckBox IsChecked="{m:Bind Path=f_wallhangboiler}"  Content="是否有壁挂炉" Grid.Column="4" Margin="0" Grid.Row="0"  Grid.ColumnSpan="1"   Height="25" VerticalAlignment="Stretch" IsEnabled="False" HorizontalAlignment="Right" Width="Auto">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_wallhangboiler" />
                                            </a:Data.Prop>
                                        </CheckBox>
                                        <TextBlock Margin="0,5" Grid.Row="13" TextWrapping="Wrap" Text="网      点：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_sgnetwork}" Grid.Column="1" Margin="0" Grid.Row="13" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_sgnetwork"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="2" Margin="0,5" Grid.Row="13" TextWrapping="Wrap" Text="操  作 员："  TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_sgoperator}" Grid.Column="3" Margin="0" Grid.Row="13" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_sgoperator"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="4" Margin="0,5" Grid.Row="13" TextWrapping="Wrap" Text="交费日期：" TextAlignment="Right" Height="25"/>
                                        <sdk:DatePicker SelectedDate="{m:Bind Path=f_deliverydate}" IsEnabled="False" Grid.Column="5" Margin="0" Grid.Row="13"  IsTodayHighlighted="True" IsDropDownOpen="False" SelectedDateFormat="Short" VerticalAlignment="Stretch" Height="25" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_deliverydate"/>
                                            </a:Data.Prop>
                                        </sdk:DatePicker>
                                        <TextBlock Text="维护费交费月数：" Margin="0,5" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_repairnum}" Grid.Column="3" Margin="0" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_repairnum"/>
                                            </a:Data.Prop>
                                        </TextBox>

                                        <TextBlock Text="维护费金额：" Margin="0,5" Grid.Row="7" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="4" Height="25" />
                                        <!--隐藏域-->
                                        <TextBox Text="{m:Bind Path=f_amountmaintenance}" Grid.Column="5" Margin="0" Grid.Row="7" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch" Height="25" VerticalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_amountmaintenance"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--是否结账-->
                                        <TextBox Text="{m:Bind Path=f_jiezhangstate}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_jiezhangstate" 
													Default="未结账"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBox Text="{m:Bind Path=f_payfeetype}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_payfeetype" 
													Default="卡表收费"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--回写档案次数-->
                                        <TextBox Text="{m:Bind Path=f_returnusertimes}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_returnusertimes" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--档案次数-->
                                        <TextBox Text="{m:Bind Path=f_usertimes}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_usertimes" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--卡号-->
                                        <TextBox Text="{m:Bind Path=f_cardid}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_cardid" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--补卡标记-->
                                        <TextBox Text="{m:Bind Path=f_payfeetype}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_buka" Default="否"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--限购气量-->
                                        <TextBox Text="{m:Bind Path=f_customgas}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_customgas" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--额定流量-->
                                        <TextBox Text="{m:Bind Path=f_flownum}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_flownum" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--上次表累计购气量-->
                                        <TextBox Text="{m:Bind Path=f_premetergasnums}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_premetergasnums"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--厂家别名-->
                                        <TextBox Text="{m:Bind Path=f_aliasname}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_aliasname"  />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--购气有效类型-->
                                        <TextBox Text="{m:Bind Path=f_payfeevalid}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_payfeevalid" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--购气次数-->
                                        <TextBox Text="{m:Bind Path=f_times}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_times" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--最后购气量_冲正时用-->
                                        <TextBox Text="{m:Bind Path=finallybought}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="finallybought" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <!--最后购气量日期_冲正时用-->
                                        <TextBox Text="{m:Bind Path=f_finallyboughtgasdate}" Visibility="Collapsed" Grid.Column="2" Margin="0,6" Grid.Row="10" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_finallyboughtgasdate" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0,5" Grid.Row="14" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0" Grid.Row="14" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25" HorizontalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_filiale"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,5" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="14"  Grid.Column="2" Height="25" />
                                        <TextBox Text="{m:Bind Path=f_fengongsinum}"  Visibility="Collapsed"  Grid.Column="3" Margin="0,5" Grid.Row="14" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_fengongsinum" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="4" Margin="0" Grid.Row="14" TextWrapping="Wrap" TextAlignment="Right" Height="25"><Run Text="交费"/><Run Text="时间"/><Run Text="："/></TextBlock>
                                        <toolkit:TimePicker Value="{m:Bind Path=f_deliverytime}" IsEnabled="False" Grid.Column="5" Margin="0" Grid.Row="14"   IsDropDownOpen="False"  VerticalAlignment="Stretch" Height="25" HorizontalAlignment="Stretch" Width="Auto" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_deliverytime" />
                                            </a:Data.Prop>
                                        </toolkit:TimePicker>
                                        <TextBlock Grid.Column="2" Margin="0" Grid.Row="14" TextWrapping="Wrap" Text="收费类型："  TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_payfeetype}" Grid.Column="3" Margin="0" Grid.Row="14" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_payfeetype"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0,0,0,1" Grid.Row="15" TextWrapping="Wrap" Text="备　　注：" TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_beizhu}" Grid.Column="1" Margin="0" Grid.Row="15" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25" HorizontalAlignment="Stretch" >
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_beizhu"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Grid.Column="2" Margin="0" Grid.Row="15" TextWrapping="Wrap" Text="是否有效："  TextAlignment="Right" Height="25"/>
                                        <TextBox Text="{m:Bind Path=f_payfeevalid}" Grid.Column="3" Margin="0" Grid.Row="15" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_payfeevalid"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                    </Grid>
                                    <toolkit:DockPanel  Background="#FFC3E4FD" Margin="0"   Height="25"   />
                                </StackPanel>
                            </toolkit:DockPanel>
                        </Grid>
                    </toolkit:BusyIndicator>
                </Grid>
            </sdk:TabItem>
            <sdk:TabItem Header="换表登记" Height="Auto" Width="Auto" Margin="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*"/>
                        <ColumnDefinition Width="7*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=hbinfos.ItemsSource.IsBusy  or toExcel5.IsBusy}">
                        <toolkit:DockPanel   >
                            <toolkit:DockPanel x:Name="hbinfosearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="70"/>
                                        <ColumnDefinition Width="0.4*"/>
                                        <ColumnDefinition Width="0.5*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="5,6,0,6" Height="25" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Text="卡　　号：" Grid.Row="1" Margin="5,6,0,6" Height="25" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="1" Text="{m:Bind Path=f_cardid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0,3" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_cardid" Operator="f_cardid like '%this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="2" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right"><Run Text="换表日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="hbdj" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_cmchangemeterdate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="hbdj1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="3" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_cmchangemeterdate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="3" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Combox6"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0"  SelectedValuePath="name"  Height="25">
                                        <ComboBox.ItemTemplate>
											<DataTemplate>
												<TextBlock Text="{Binding name}" Height="20"></TextBlock>
											</DataTemplate>
										</ComboBox.ItemTemplate>
										<a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                  <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="hbsearchbutton"  Click="{m:Exp Str=hbinfosearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=hbinfosearch.DataContext.f_userid\=null;
								 hbinfosearch.DataContext.f_cardid\=null;
								 hbinfosearch.DataContext.f_filiale\=null;
								 hbinfosearch.DataContext.f_yytdate2\=null;
								 hbinfosearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=hbinfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel5.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel5" HQL="{m:Exp Str=hbinfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad5.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{hbinfos.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_usertype:用户类型|f_gaswatchbrand:气表品牌|f_cmnewgaswatchbrand:新气表品牌|f_cmaddgas:补气量|f_cypregas:超用气量|f_parentname4:网点|f_cmoperator:操作员$}"/>
					    <c:DownLoad x:Name="downLoad5" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel5.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>

                                </Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
                                <sdk:DataPager x:Name="pager3" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=hbinfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap" Margin="5,0,0,3" Text="{m:Exp Str=$共\{hbinfos.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" toolkit:DockPanel.Dock="Bottom" Height="27"/>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="hbinfos" Margin="0,0,0,2"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="hbinfoslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_changmeter where \{hbinfosearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_changmeter where \{hbinfosearch.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager3.PageIndex}" PageSize="{m:Exp Str=pager3.PageSize}" SumNames="f_times"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="状态" Binding="{Binding f_state}" />
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}" />
                                    <sdk:DataGridTextColumn Header="用户姓名" Binding="{Binding f_username}" />
                                    <sdk:DataGridTextColumn Header="用户类型" Binding="{Binding f_usertype}" />
                                    <sdk:DataGridTextColumn Header="气表品牌" Binding="{Binding f_gaswatchbrand}"/>
                                    <!--sdk:DataGridTextColumn Header="气表型号" Binding="{Binding f_metertype}"/-->
                                    <sdk:DataGridTextColumn Header="新气表品牌" Binding="{Binding f_cmnewgaswatchbrand}"/>
                                    <!--sdk:DataGridTextColumn Header="新气表型号" Binding="{Binding f_cmnewmetertype}"/-->
                                    <sdk:DataGridTextColumn Header="补气量" Binding="{Binding f_cmaddgas}"/>

                                    <sdk:DataGridTextColumn Header="超用气量" Binding="{Binding f_cypregas}"/>

                                    <sdk:DataGridTextColumn Header="网    点" Binding="{Binding f_parentname4}" />
                                    <sdk:DataGridTextColumn Header="操 作 人" Binding="{Binding f_cmoperator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_cmdate, StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="操作时间" Binding="{Binding f_cmtime,StringFormat=hh:mm:ss tt}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <!--操作区按钮-->
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=pipeline.DataContext.IsBusy}" Grid.Column="1" Margin="8,0,0,0">
                        <Grid Background="{x:Null}" x:Name="pipeline" >
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="pipelinego" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_changmeter" Source="{m:Exp Str=hbinfos.SelectedItem}"/>
                            </a:Data.Context>

                            <Grid Margin="0,-1,0,46" Grid.Column="0" >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="60" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                </Grid.RowDefinitions>
                                <TextBlock Margin="0" TextWrapping="Wrap" Text="用户编号：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" TextWrapping="Wrap" Text="用户姓名：" Height="25" TextAlignment="Right" Grid.Column="2"/>
                                <TextBlock Margin="0" TextWrapping="Wrap" Text="用户类型：" Grid.Row="6" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="小区地址：" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="4" Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="开户日期：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="小区名称：" Height="25" TextAlignment="Right" Grid.Column="2"/>
                                <TextBlock Grid.Column="4" Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="电      话：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="气表厂家：" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="气表品牌：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="气      价：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="表      号：" Height="25" TextAlignment="Right" Grid.Column="2"/>
                                <TextBlock Grid.Column="4" Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="气表型号：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" TextWrapping="Wrap" Text="旧 卡 号：" Grid.Column="4" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="4" Margin="0" Grid.Row="6" TextWrapping="Wrap" Text="表 底 数：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="7" TextWrapping="Wrap" Text="总累计购气量：" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="7" TextWrapping="Wrap" Text="表累计购气量：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="7" TextWrapping="Wrap" Text="旧表底数：" Grid.Column="4" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="卡     费：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="新气表品牌：" Grid.Column="2" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="4" Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="新气表型号：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="换表日期：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="新气表厂家：" Grid.Column="2" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="4" Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="新气表类型：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="11" TextWrapping="Wrap" Text="新 卡 号：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="新 表 号：" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="4" Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="新表底数：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,0" Grid.Row="12" TextWrapping="Wrap" Text="补 气 量：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="13" TextWrapping="Wrap" Text="剩余补气量：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="14" TextWrapping="Wrap" Text="备      注：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="11" TextWrapping="Wrap" Text="额定流量：" Height="25" TextAlignment="Right" Grid.Column="4"/>
                                <TextBlock Text="超用气量：" Margin="0,8,0,0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="12" Grid.Column="2" Height="25" VerticalAlignment="Bottom"/>
                                <TextBlock Margin="0" Grid.Row="15" TextWrapping="Wrap" Text="网      点：" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="15" TextWrapping="Wrap" Text="操 作 人：" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="4" Margin="0" Grid.Row="15" TextWrapping="Wrap" Text="操作日期：" Height="25" TextAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_userid}" IsReadOnly="True" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}" Grid.Column="3" Margin="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Grid.Row="0" Grid.ColumnSpan="1" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="1" Margin="0" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Grid.Row="6" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_usertype"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_address}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0,3,0,2" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{Binding f_dateofopening, StringFormat=yyyy-MM-dd}" Grid.Column="5" Margin="0" Grid.Row="1" VerticalAlignment="Stretch" IsEnabled="False" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_dateofopening"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBox Text="{m:Bind Path=f_districtname}" Grid.Column="3" Margin="0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" Grid.ColumnSpan="1" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_districtname"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <!--隐藏域-->
                                <TextBox Text="{m:Bind Path=f_phone}" Grid.Column="5" Margin="0" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_phone"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gasmetermanufacturers}" Grid.Column="1" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasmetermanufacturers"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="3" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrand"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gasprice}" Grid.Column="1" Margin="0" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasprice" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_meternumber}" Grid.Column="3" Margin="0" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_meternumber"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metertype}" Grid.Column="5" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metertype"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cardid}" IsReadOnly="True" Grid.Column="5" Margin="0" Grid.Row="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Grid.ColumnSpan="1" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cardid"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_currentbase}" Grid.Column="5" Margin="0" Grid.Row="6" TextWrapping="Wrap" VerticalAlignment="Stretch" IsHitTestVisible="True" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_currentbase"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cumulativepurchase}" Grid.Column="1" Margin="0" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Stretch" IsHitTestVisible="True" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cumulativepurchase" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metergasnums}" IsReadOnly="True" Grid.Column="3" Margin="0" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metergasnums"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_oldcurrentbase}" IsReadOnly="True" Grid.Column="5" Margin="0" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_oldcurrentbase" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cardfees}" IsReadOnly="True" Grid.Column="1" Margin="0" Grid.Row="8" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cardfees" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cmnewgaswatchbrand}" IsReadOnly="True" Grid.Column="3" Margin="0" Grid.Row="8" TextWrapping="Wrap" VerticalAlignment="Stretch" Grid.ColumnSpan="1" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cmnewgaswatchbrand"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cmnewmetertype}" IsReadOnly="True" Grid.Column="5" Margin="0" Grid.Row="8" TextWrapping="Wrap" VerticalAlignment="Stretch" Grid.ColumnSpan="1" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cmnewmetertype"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{Binding f_cmchangemeterdate, StringFormat=yyyy-MM-dd}" IsEnabled="False"   Grid.Column="1" Margin="0" Grid.Row="9" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cmchangemeterdate"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBox Text="{m:Bind Path=f_newgasmetermanufacturers}" Grid.Column="3" Margin="0" Grid.Row="9" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_newgasmetermanufacturers"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_newgasmeterstyle}" Grid.Column="5" Margin="0" Grid.Row="9" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_newgasmeterstyle"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_newcardid}" Grid.Column="1" Margin="0" Grid.Row="11" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_newcardid"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cmnewmeternumber}" IsReadOnly="True" Grid.Column="1" Margin="0" Grid.Row="10" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cmnewmeternumber" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_newgasmeteraccomodations}" Grid.Column="5" IsReadOnly="True" Margin="0" Grid.Row="10" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_newgasmeteraccomodations"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cmaddgas}" IsReadOnly="True" Grid.Column="1" Margin="0,3,0,0" Grid.Row="12" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cmaddgas" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_nextaddgasamount}" Grid.Column="1" Margin="0" Grid.Row="13" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_nextaddgasamount"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cnote}" IsReadOnly="True" Grid.ColumnSpan="5" Grid.Column="1" Margin="0,6" Grid.Row="14" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cnote" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_flownum}" Grid.Column="5" Margin="0" Grid.Row="11" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_flownum"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cypregas}" IsReadOnly="True"  Grid.Column="3" Margin="0,3,0,0" TextWrapping="Wrap" Grid.ColumnSpan="1" Grid.Row="12"  HorizontalAlignment="Stretch" Height="25" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cypregas" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_parentname4}" Grid.Column="1" Margin="0" Grid.Row="15" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_parentname4"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cmoperator}" Grid.Column="3" Margin="0" Grid.Row="15" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cmoperator"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_cmdate}" Grid.Column="5" Margin="0" Grid.Row="15" VerticalAlignment="Stretch" IsEnabled="False" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cmdate"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <StackPanel Grid.Column="3" Orientation="Horizontal"/>
                                <!--补气类型-->
                                <TextBox Text="{m:Bind Path=f_addgastype}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_addgastype" Default="换表补气" />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--卡内气量-->
                                <TextBox Text="{m:Bind Path=f_pregas}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_pregas" />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--购气次数-->
                                <TextBox Text="{m:Bind Path=f_times}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_times" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="16" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0" Grid.Row="16" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="分公司编号：" Margin="0" TextWrapping="Wrap" Visibility="Collapsed" TextAlignment="Right" Grid.Row="16"  Grid.Column="2" Height="25" />
                                <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0" Grid.Row="16" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_fengongsinum"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="12" TextWrapping="Wrap" Text="别　　名：" Height="25" TextAlignment="Right" Grid.Column="4"/>
                                <TextBox Text="{m:Bind Path=f_aliasname}" Grid.Column="5" Margin="0" Grid.Row="12" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_aliasname"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="6" TextWrapping="Wrap" Text="类　　型：" Height="25" TextAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_type}" Grid.Column="3" Margin="0" Grid.Row="6" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_type"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="脉冲/表系数：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="11" TextWrapping="Wrap" Text="海力新表型编码：" Grid.Column="2" Height="25" TextAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_newmaichong}" Grid.Column="3" Margin="0" Grid.Row="10" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25" IsReadOnly="True" HorizontalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_newmaichong" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_newwatchnum}" Grid.Column="3" Margin="0" Grid.Row="11" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25" IsReadOnly="True" HorizontalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_newwatchnum" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="4" Margin="0" Grid.Row="16" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                <toolkit:TimePicker Value="{m:Bind Path=f_cmtime}"  Grid.Column="5" Margin="0" Grid.Row="16"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cmtime" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                            </Grid>
                        </Grid>
                    </toolkit:BusyIndicator>
                </Grid>
            </sdk:TabItem>
            <sdk:TabItem Header="补气" Height="Auto" Width="Auto" Margin="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*"/>
                        <ColumnDefinition Width="7*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=bqinfos.ItemsSource.IsBusy  or toExcel6.IsBusy}">
                        <toolkit:DockPanel   >
                            <toolkit:DockPanel x:Name="bqinfosearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="80"/>
                                        <ColumnDefinition Width="0.4*"/>
                                        <ColumnDefinition Width="0.1*"/>
                                        <ColumnDefinition Width="0.5*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户姓名：" Margin="0,6,0,-3" Height="25" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_username}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0,2,0,1" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_username" Operator="f_username like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right" d:LayoutOverrides="GridBox"><Run Text="补气日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="bqrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="1" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_addgasdate >= substring('this',1,10)" Value="{m:Exp Str=SysTime.Today}"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="bqrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" VerticalAlignment="Stretch" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_addgasdate ^= substring('this',1,10)" Value="{m:Exp Str=SysTime.Today}"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="2" Margin="0" Height="25" TextAlignment="Right" d:LayoutOverrides="GridBox"/>
                                    <ComboBox Name="Combox7"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale6}" Grid.Row="0" Grid.Column="3" ItemsSource="{m:Exp Str=fgslist}"  Margin="0"  SelectedValuePath="name"  Height="25">
                                        <ComboBox.ItemTemplate>
											<DataTemplate>
												<TextBlock Text="{Binding name}" Height="20"></TextBlock>
											</DataTemplate>
										</ComboBox.ItemTemplate>
										<a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale6"  Operator="f_filiale6 like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>

                                <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="bqsearchbutton"  Click="{m:Exp Str=bqinfosearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=bqinfosearch.DataContext.f_username\=null;
								 bqinfosearch.DataContext.f_filiale\=null;
								 bqinfosearch.DataContext.f_yytdate2\=null;
								 bqinfosearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=bqinfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel6.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel6" HQL="{m:Exp Str=bqinfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad6.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{bqinfos.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_usertype:用户类型|f_cardid:卡号|f_addgastype:补气类型|f_cmaddgas:应补气量|f_pregas:本次补气量|f_foperator:操作员$}"/>
					    <c:DownLoad x:Name="downLoad6" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel6.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
                                <sdk:DataPager x:Name="pager4" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=bqinfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap" Margin="5,0,0,3" Text="{m:Exp Str=$共\{bqinfos.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" toolkit:DockPanel.Dock="Bottom" Height="27"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"/>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="bqinfos" Margin="0,0,0,2"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="bqinfoslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_fillgas where \{bqinfosearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_fillgas where \{bqinfosearch.DataContext.Condition\} and f_filiale6 \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager4.PageIndex}" PageSize="{m:Exp Str=pager4.PageSize}" SumNames="f_times"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序号" Binding="{Binding Index}" />
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}" />
                                    <sdk:DataGridTextColumn Header="用户姓名" Binding="{Binding f_username}" />
                                    <sdk:DataGridTextColumn Header="用户类型" Binding="{Binding f_usertype}" />
                                    <sdk:DataGridTextColumn Header="卡号" Binding="{Binding f_cardid}" />
                                    <sdk:DataGridTextColumn Header="补气类型" Binding="{Binding f_addgastype}"/>
                                    <sdk:DataGridTextColumn Header="应补气量" Binding="{Binding f_cmaddgas}"/>
                                    <sdk:DataGridTextColumn Header="本次补气量" Binding="{Binding f_pregas}"/>

                                    <sdk:DataGridTextColumn Header="操作人" Binding="{Binding f_foperator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_fdate, StringFormat=yyyy-MM-dd}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>

                    <toolkit:BusyIndicator Grid.Column="2" Margin="5,0,0,0">
                        <Grid x:Name="apply" Margin="0,0,8,0" >
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="pipelinegobq" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_changmeter" Source="{m:Exp Str=bqinfos.SelectedItem}"/>
                            </a:Data.Context>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="33"/>
                                <RowDefinition Height="33"/>
                                <RowDefinition Height="33"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="33"/>
                                <RowDefinition Height="37"/>
                                <RowDefinition Height="100"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="90"/>
                                <ColumnDefinition Width="1*"/>
                                <ColumnDefinition Width="130"/>
                                <ColumnDefinition Width="1*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Margin="0,4" TextWrapping="Wrap" Text="用户姓名：" HorizontalAlignment="Right" Height="25"/>
                            <TextBlock Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="小区地址：" HorizontalAlignment="Right" VerticalAlignment="Center" Height="25"/>
                            <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="补气类型：" Height="25" TextAlignment="Right"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="3" TextWrapping="Wrap" Text="气表品牌：" HorizontalAlignment="Right" Height="25"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="4" TextWrapping="Wrap" Text="气表型号：" HorizontalAlignment="Right" Height="25"/>
                            <TextBlock Margin="0" TextWrapping="Wrap" Text="卡　　号：" Grid.Column="2" Height="25" TextAlignment="Right"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="3" TextWrapping="Wrap" Text="上次剩余补气量：" HorizontalAlignment="Right" Grid.Column="2" Height="25"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="5" TextWrapping="Wrap" Text="气      价：" HorizontalAlignment="Right" Height="25"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="5" TextWrapping="Wrap" Text="本次补气量：" HorizontalAlignment="Right" Grid.Column="2" Height="25"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="4" TextWrapping="Wrap" Text="本次剩余补气量：" HorizontalAlignment="Right" Grid.Column="2" Height="25"/>
                            <TextBlock Margin="0,4" Grid.Row="2" TextWrapping="Wrap" Text="补气日期：" Height="25" Grid.Column="2" HorizontalAlignment="Right"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="6" TextWrapping="Wrap" Text="部      门：" HorizontalAlignment="Right" Height="25"/>
                            <TextBlock Margin="0,4" Grid.Row="7" TextWrapping="Wrap" Text="操作日期：" HorizontalAlignment="Right" Height="25"/>
                            <TextBlock Grid.Column="2" Margin="0" Grid.Row="7" TextWrapping="Wrap" Text="操  作 人：" HorizontalAlignment="Right" Height="25"/>
                            <TextBox Text="{m:Bind Path=f_username}" Grid.Column="1" Margin="0,4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_username"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_address}" Grid.Column="1" Margin="0,4" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch"  Grid.ColumnSpan="1" IsReadOnly="True" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_address"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_addgastype}" Grid.Column="1" Margin="0,4" Grid.Row="2" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_addgastype"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="1"  Margin="0,5,0,4" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_gaswatchbrand"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_metertype}" Grid.Column="1"  Margin="0,5,0,4" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_metertype"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_cardid}" Grid.Column="3"  Margin="0,4" Grid.Row="0" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_cardid"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_nextaddgasamount}" Grid.Column="3" Height="25" Margin="0,5,0,4" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_nextaddgasamount"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_gasprice}" Grid.Column="1" Height="25" Margin="0,5,0,4" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_gasprice"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_pregas}" IsReadOnly="True" Grid.Column="3" Margin="0,5,0,4" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.ColumnSpan="1" Width="Auto" Height="25" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_pregas" />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_thisnextaddgasamount}" Grid.Column="3" Height="25" Margin="0,5,0,4" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" Width="Auto">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_thisnextaddgasamount"/>
                                </a:Data.Prop>
                            </TextBox>
                            <sdk:DatePicker SelectedDate="{m:Bind Path=f_addgasdate}" IsEnabled="False" Grid.Column="3" Margin="0,4" Grid.Row="2"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.ColumnSpan="1" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_addgasdate"/>
                                </a:Data.Prop>
                            </sdk:DatePicker>
                            <TextBox Text="{m:Bind Path=f_parentname5}" Grid.Column="1"  Margin="0,5,0,4" Grid.Row="6" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_parentname5"/>
                                </a:Data.Prop>
                            </TextBox>
                            <sdk:DatePicker SelectedDate="{m:Bind Path=f_fdate}" Grid.Column="1" Margin="0,4" Grid.Row="7"  VerticalAlignment="Stretch" IsEnabled="False" Grid.ColumnSpan="1" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_fdate"/>
                                </a:Data.Prop>
                            </sdk:DatePicker>
                            <TextBox Text="{m:Bind Path=f_foperator}" Grid.Column="3" Margin="0" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Stretch"  IsReadOnly="True" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_foperator"/>
                                </a:Data.Prop>
                            </TextBox>



                            <TextBlock Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" Height="25" VerticalAlignment="Center" d:LayoutOverrides="Height"/>
                            <TextBox Text="{m:Bind Path=f_filiale6}" Grid.Column="1" Margin="0" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_filiale6"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" HorizontalAlignment="Right"  Grid.Column="2" Height="25" VerticalAlignment="Center" d:LayoutOverrides="Height" />
                            <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="2,6,-2,6" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_fengongsinum"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Margin="0" TextWrapping="Wrap" Text="用户类型：" Grid.Column="2" Height="25" Grid.Row="1" TextAlignment="Right"/>
                            <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="3"  Margin="0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_usertype"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Grid.Column="2" Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                            <toolkit:TimePicker Value="{m:Bind Path=f_ftime}"  Grid.Column="3" Margin="0" Grid.Row="8"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_ftime" />
                                </a:Data.Prop>
                            </toolkit:TimePicker>
                        </Grid>
                    </toolkit:BusyIndicator>
                </Grid>
            </sdk:TabItem>

            <sdk:TabItem Header="补 卡" Height="Auto" Width="Auto" Margin="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator Margin="0,0,5,0" BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=bkinfos.ItemsSource.IsBusy  or toExcel7.IsBusy}">
                        <toolkit:DockPanel   >
                            <toolkit:DockPanel x:Name="bkinfosearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="5,6,0,6" Height="25" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right" d:LayoutOverrides="GridBox"><Run Text="补卡日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="bkrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="1" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_recoverycarddate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="bkrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_recoverycarddate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="2" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Combox9"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0"  SelectedValuePath="name"  Height="25">
                                        <ComboBox.ItemTemplate>
											<DataTemplate>
												<TextBlock Text="{Binding name}" Height="20"></TextBlock>
											</DataTemplate>
										</ComboBox.ItemTemplate>
										<a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                   
                                <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbutton1"  Click="{m:Exp Str=bkinfosearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=bkinfosearch.DataContext.f_userid\=null;
								 bkinfosearch.DataContext.f_filiale\=null;
								 bkinfosearch.DataContext.f_yytdate2\=null;
								 bkinfosearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=bkinfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel7.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel7" HQL="{m:Exp Str=bkinfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad7.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{bkinfos.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_usertype:用户类型|f_districtname:小区名称|f_recoverycarddate:补卡日期|f_recoverycardtime:补卡时间$}"/>
					    <c:DownLoad x:Name="downLoad7" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel7.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
                                <sdk:DataPager x:Name="pager5" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=bkinfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap" Margin="5,0,0,3" Text="{m:Exp Str=$共\{bkinfos.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" toolkit:DockPanel.Dock="Bottom" Height="27"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"/>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="bkinfos" Margin="0,0,0,2"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="bkinfoslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_renewalcard where \{bkinfosearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_renewalcard where \{bkinfosearch.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager5.PageIndex}" PageSize="{m:Exp Str=pager5.PageSize}" SumNames="f_times"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>

                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户姓名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="小区名称" Binding="{Binding f_districtname}"/>

                                    <sdk:DataGridTextColumn Header="补卡日期" Binding="{Binding f_recoverycarddate,StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="补卡时间" Binding="{Binding f_recoverycardtime,StringFormat=hh:mm:ss tt}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>

                    <toolkit:BusyIndicator Grid.Column="1" Margin="5,0,0,0">
                        <Grid Background="{x:Null}" x:Name="buka" >
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="bukago" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_renewalcard" Source="{m:Exp Str=bkinfos.SelectedItem}"/>
                            </a:Data.Context>
                            <toolkit:DockPanel>

                                <Grid toolkit:DockPanel.Dock="Top" Margin="0"  >
                                    <!--<ComboBox x:Name="CoboxPinpai" DisplayMemberPath="f_pinpai" SelectedValuePath="f_pinpai" SelectedValue="{m:Bind Path=f_gaswatchbrand}" Grid.Column="3" Margin="0,6" Grid.Row="1" IsEnabled="True"  >
							<a:Data.Items>
								<o:ObjectList WebClientInfo="{StaticResource dbclient}" Path="{m:Exp Str=$from qibiao as qibiao left join fetch qibiao.qbnumber}" />
							</a:Data.Items>
						</ComboBox>-->
                                    <!--隐藏域-->
                                    <Grid.Background>
                                        <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                            <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                            <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Grid.Background>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="1"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="35"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="90"/>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="130"/>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="1"/>
                                        <ColumnDefinition Width="1"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Margin="0,6" TextWrapping="Wrap" Text="用户编号：" TextAlignment="Right"/>
                                    <TextBlock Text="用户姓名：" Margin="0,6" TextWrapping="Wrap"  TextAlignment="Right" Grid.Column="2"/>
                                    <TextBlock Grid.Column="0" Grid.Row="2" Margin="0,6" TextWrapping="Wrap" Text="气表品牌：" TextAlignment="Right"/>
                                    <TextBlock Grid.Column="2" Grid.Row="2" Margin="0,6" TextWrapping="Wrap" Text="气表型号：" TextAlignment="Right"/>
                                    <TextBlock Margin="0" Grid.Row="6" TextWrapping="Wrap" Text="气表厂家：" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                    <TextBlock Text="用户类型：" Margin="0,6" Grid.Row="1" TextWrapping="Wrap" TextAlignment="Right"/>
                                    <TextBlock Margin="0" TextWrapping="Wrap" Text="卡       号：" TextAlignment="Right" Grid.Column="2" Grid.Row="1" Height="25"/>
                                    <TextBlock Margin="0,6" TextWrapping="Wrap" Text="卡       费：" TextAlignment="Right" Grid.Row="3" Grid.Column="2"/>
                                    <TextBlock Margin="0,6" TextWrapping="Wrap" Text="气      价：" TextAlignment="Right" Grid.Row="3"/>
                                    <TextBlock Margin="0,2" TextWrapping="Wrap" Text="补卡原因：" TextAlignment="Right" Grid.Column="0" Grid.Row="5"/>
                                    <TextBox Text="{m:Bind Path=f_userid}" IsReadOnly="True"  Grid.Column="1" Margin="0,6" Grid.Row="0" TextWrapping="Wrap" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_username}" IsReadOnly="True" Grid.Column="3" Margin="0,6" TextWrapping="Wrap" IsEnabled="True"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_username"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="1" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" Height="23" IsReadOnly="True">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_gaswatchbrand"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_metertype}" Grid.Column="3" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" Height="23" IsReadOnly="True">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_metertype"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <!--<ComboBox DisplayMemberPath="f_qbnumber" SelectedValuePath="f_qbnumber" ItemsSource="{m:Exp Str=CoboxPinpai.SelectedItem.qbnumber}" SelectedValue="{m:Bind Path=f_metertype}" Grid.Column="5" Margin="0,6" Grid.Row="1" IsEnabled="True" />-->
                                    <TextBox Text="{m:Bind Path=f_gasmetermanufacturers}" IsReadOnly="True" Grid.Column="3" Margin="0" Grid.Row="6" TextWrapping="Wrap" IsEnabled="True" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_gasmetermanufacturers"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="1" Margin="0,6" Grid.Row="1" IsReadOnly="True" IsEnabled="True" HorizontalAlignment="Stretch" Width="Auto" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_usertype"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_cardid}" IsReadOnly="True" Grid.Column="3" Margin="0" Grid.Row="1" TextWrapping="Wrap" IsEnabled="True" Height="25" VerticalAlignment="Stretch"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_cardid"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_cardfees}" IsReadOnly="True" Grid.Column="3" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" IsEnabled="True" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_cardfees"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_gasprice}" IsReadOnly="True" Grid.Column="1" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" IsEnabled="True" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_gasprice"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_rcreason}" IsReadOnly="True" Grid.Column="1" Margin="0,2" Grid.Row="5" TextWrapping="Wrap" Grid.ColumnSpan="3">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_rcreason"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Margin="0,6" Grid.Row="6" TextWrapping="Wrap" Text="部       门：" TextAlignment="Right" HorizontalAlignment="Right" />
                                    <TextBox Text="{m:Bind Path=f_parentname}" Grid.Column="1" Margin="0,6" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_parentname"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Grid.Column="2" Margin="0" Grid.Row="7" TextWrapping="Wrap" Text="操  作 人："  TextAlignment="Right" Height="25"/>
                                    <TextBox Text="{m:Bind Path=f_rcoperator}" Grid.Column="3" Margin="0" Grid.Row="7" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_rcoperator"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="补卡日期：" TextAlignment="Right" Height="25"/>
                                    <sdk:DatePicker SelectedDate="{m:Bind Path=f_recoverycarddate}" IsEnabled="False" Grid.Column="1" Margin="0" Grid.Row="8"  IsTodayHighlighted="True" IsDropDownOpen="False" SelectedDateFormat="Short" VerticalAlignment="Stretch" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_recoverycarddate"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <!--补卡标记-->
                                    <TextBox Text="{m:Bind Path=f_buka}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_buka" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <!--厂家别名-->
                                    <TextBox Text="{m:Bind Path=f_aliasname}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_aliasname" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <!--气量-->
                                    <TextBox Text="{m:Bind Path=f_pregas}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_pregas" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Margin="0,4" Grid.Row="7" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" HorizontalAlignment="Right"/>
                                    <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0,4" Grid.Row="7"  IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Text="分公司编号：" Margin="0,4" Visibility="Collapsed" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="7" HorizontalAlignment="Right"  Grid.Column="2" Height="27" />
                                    <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,4" Grid.Row="7" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto" d:LayoutOverrides="Width">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_fengongsinum"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Grid.Column="2" Margin="0" Grid.Row="8" Text="补卡时间：" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                    <toolkit:TimePicker Value="{m:Bind Path=f_recoverycardtime}" IsEnabled="False" Grid.Column="3" Margin="0" Grid.Row="8"   IsDropDownOpen="False"  VerticalAlignment="Stretch" Height="25" HorizontalAlignment="Stretch" Width="Auto" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_recoverycardtime" />
                                        </a:Data.Prop>
                                    </toolkit:TimePicker>
                                </Grid>
                            </toolkit:DockPanel>
                        </Grid>
                    </toolkit:BusyIndicator>
                </Grid>
            </sdk:TabItem>
            <!--sdk:TabItem Header="补 折" Height="Auto" Width="Auto" Margin="0">
				<Grid>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="3*"/>
						<ColumnDefinition Width="7*"/>
					</Grid.ColumnDefinitions>
					<toolkit:BusyIndicator Margin="0,0,5,0">
						<toolkit:DockPanel   >
							<toolkit:DockPanel x:Name="bzinfosearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >
								<a:Data.Context>
									<o:SearchObject />        	
								</a:Data.Context>
								<TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="5,6,0,6" Height="25"/>
								<TextBox TextWrapping="Wrap" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0,3" Height="25" >
									<a:Data.Prop>
										<o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>               
									</a:Data.Prop>
								</TextBox>
								<TextBlock TextWrapping="Wrap" Text="补折日期：" Margin="5,6,0,6" Height="25"/>
								<sdk:DatePicker SelectedDate="{m:Bind Path=f_recoverypassbookdate}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0,3" Height="25" >
									<a:Data.Prop>
										<o:PropertySetter PropertyName="f_recoverypassbookdate" Value="{m:Exp Str='SysTime.Today'}"
											Operator=" (f_recoverypassbookdate, StringFormat=yyyy-MM-dd)  = substring('this',1,10)"/>               
									</a:Data.Prop>
								</sdk:DatePicker>
						
								<Button Content="查  询" x:Name="bzsearchbutton" Click="{m:Exp Str=bzinfosearch.DataContext.Search()}" Margin="0,5,5,0" HorizontalAlignment="Left" Width="50" FontSize="14" Height="25"  />
							</toolkit:DockPanel>
							<toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
								<sdk:DataPager x:Name="pager6" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=bzinfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
								<TextBlock TextWrapping="Wrap" Margin="5,0,0,3" Text="{m:Exp Str=$共\{bzinfos.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" toolkit:DockPanel.Dock="Bottom" Height="27"/>
								<StackPanel Orientation="Horizontal" HorizontalAlignment="Right"/>
							</toolkit:DockPanel>
							<sdk:DataGrid x:Name="bzinfos" Margin="0,0,0,2"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
								<a:Data.Items>
									<o:PagedObjectList x:Name="bzinfoslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=$from t_renewalpassbook where \{bzinfosearch.DataContext.Condition\}}"
										PageIndex="{m:Exp Str=pager6.PageIndex}" PageSize="{m:Exp Str=pager6.PageSize}" SumNames="id"/>
								</a:Data.Items>
								<sdk:DataGrid.Columns>
									<sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
									<sdk:DataGridTextColumn d:IsLocked="True" Header="用户编号" Binding="{Binding f_userid}"/>
									<sdk:DataGridTextColumn d:IsLocked="True" Header="用户姓名" Binding="{Binding f_username}"/>
									<sdk:DataGridTextColumn Header="身份证号" Binding="{Binding f_idnumber}"/>
									<sdk:DataGridTextColumn Header="气表品牌" Binding="{Binding f_gaswatchbrand}"/>
									<sdk:DataGridTextColumn Header="气表型号" Binding="{Binding f_metertype}"/>
									<sdk:DataGridTextColumn Header="气表厂家" Binding="{Binding f_idnumber}"/>
									<sdk:DataGridTextColumn Header="用户类型" Binding="{Binding f_usertype}"/>
									<sdk:DataGridTextColumn Header="表    号" Binding="{Binding f_meternumber}"/>
									<sdk:DataGridTextColumn Header="购气折编号" Binding="{Binding f_passbookid}"/>
									<sdk:DataGridTextColumn Header="新购气折编号" Binding="{Binding f_ccnewpassbookid}"/>
									<sdk:DataGridTextColumn Header="补折日期" Binding="{Binding f_recoverypassbookdate, StringFormat=yyyy-MM-dd}"/>
									<sdk:DataGridTextColumn Header="补折原因" Binding="{Binding f_ccreason}"/>
									<sdk:DataGridTextColumn Header="部   门" Binding="{Binding f_parentname}"/>
									<sdk:DataGridTextColumn Header="操 作 人" Binding="{Binding f_rcoperator}"/>
								</sdk:DataGrid.Columns>
							</sdk:DataGrid>
						</toolkit:DockPanel>
					</toolkit:BusyIndicator>
				
					<toolkit:BusyIndicator Grid.Column="1" Margin="5,0,0,0">
						<Grid Background="{x:Null}" x:Name="buzhe" Margin="0,0,5,0" >
							<a:Data.Context>
								<o:GeneralObject x:Name="buzhego" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_renewalpassbook" Source="{m:Exp Str=bzinfos.SelectedItem}"/>
							</a:Data.Context>
							<toolkit:DockPanel>
    				
    				
								<Grid toolkit:DockPanel.Dock="Top" Margin="0"  >
									
									
									<Grid.Background>
										<LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
											<GradientStop Color="#FFF2F8FF" Offset="1"/>
											<GradientStop Color="#FFDEF4FF" Offset="0"/>
											<GradientStop Color="#FFE2F4FF" Offset="0.682"/>
										</LinearGradientBrush>
									</Grid.Background>
									<Grid.RowDefinitions >
										<RowDefinition Height="35"/>
										<RowDefinition Height="35"/>
										<RowDefinition Height="35"/>
										<RowDefinition Height="35"/>
										<RowDefinition Height="40"/>
										<RowDefinition Height="35"/>
										<RowDefinition Height="35"/>
									</Grid.RowDefinitions>
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="140"/>
										<ColumnDefinition Width="1*"/>
										<ColumnDefinition Width="100"/>
										<ColumnDefinition Width="1*"/>
										<ColumnDefinition Width="130"/>
										<ColumnDefinition Width="1*" />
									</Grid.ColumnDefinitions>
									<TextBlock Grid.Column="0" Margin="0,6" TextWrapping="Wrap" Text="用户编号：" TextAlignment="Right"/>
									<TextBlock Text="用户姓名/单位名称：" Margin="0,6" TextWrapping="Wrap"  TextAlignment="Right" Grid.Row="1"/>
									<TextBlock Text="身份证号：" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right"/>
									<TextBlock Margin="0,6" TextWrapping="Wrap" Text="气表品牌：" TextAlignment="Right" Grid.Column="2"/>
									<TextBlock Grid.Column="2" Grid.Row="1" Margin="0,6" TextWrapping="Wrap" Text="气表型号：" TextAlignment="Right"/>
									<TextBlock Margin="0,6" Grid.Row="2" TextWrapping="Wrap" Text="气表厂家：" TextAlignment="Right" Grid.Column="2"/>
									<TextBlock Text="用户类型：" Margin="0,6" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="3"/>
									<TextBlock Margin="0,6" Grid.Row="3" TextWrapping="Wrap" Text="表       号：" TextAlignment="Right" Grid.Column="2"/>
									<TextBlock Margin="0,2" TextWrapping="Wrap" Text="补折原因：" TextAlignment="Right" Grid.Column="0" Grid.Row="4"/>
									<TextBox Text="{m:Bind Path=f_userid}" IsReadOnly="True"  Grid.Column="1" Margin="0,6" Grid.Row="0" TextWrapping="Wrap" Grid.ColumnSpan="1" >
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_userid" />
										</a:Data.Prop>
									</TextBox>
									<TextBox Text="{m:Bind Path=f_username}" IsReadOnly="True" Grid.Column="1" Margin="0,6" TextWrapping="Wrap" Grid.ColumnSpan="1" IsEnabled="True" Grid.Row="1"  >
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_username" />
										</a:Data.Prop>
									</TextBox>
									<TextBox Text="{m:Bind Path=f_idnumber}"  Grid.Column="1" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" IsReadOnly="True" IsEnabled="True" >
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_idnumber" />
										</a:Data.Prop>
									</TextBox>
									<TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="3" Margin="0,6" Grid.Row="0" TextWrapping="Wrap" Height="23" IsReadOnly="True" HorizontalAlignment="Stretch" Width="Auto">
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_gaswatchbrand" />
										</a:Data.Prop>
									</TextBox>
									<TextBox Text="{m:Bind Path=f_metertype}" Grid.Column="3" Margin="0,6" Grid.Row="1" TextWrapping="Wrap" Height="23" IsReadOnly="True">
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_metertype" />
										</a:Data.Prop>
									</TextBox>
    					
									<TextBox Text="{m:Bind Path=f_gasmetermanufacturers}" IsReadOnly="True" Grid.Column="3" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" IsEnabled="True" HorizontalAlignment="Stretch" Width="Auto" >
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_gasmetermanufacturers" />
										</a:Data.Prop>
									</TextBox>
									<TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="1" Margin="0,6" Grid.Row="3" IsReadOnly="True" IsEnabled="True" >
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_usertype" />
										</a:Data.Prop>	
									</TextBox>
									<TextBox Text="{m:Bind Path=f_meternumber}" IsReadOnly="True" Grid.Column="3" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" Grid.ColumnSpan="1" IsEnabled="True" >
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_meternumber" />
										</a:Data.Prop>
									</TextBox>
									<TextBox Text="{m:Bind Path=f_ccreason}" IsReadOnly="True" Grid.Column="1" Margin="0,2,5,2" Grid.Row="4" TextWrapping="Wrap" Grid.ColumnSpan="5">
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_ccreason"/>
										</a:Data.Prop>
									</TextBox>
									<TextBlock Margin="0,6" Grid.Row="5" TextWrapping="Wrap" Text="部       门：" TextAlignment="Right"/>
									<TextBox Text="{m:Bind Path=f_parentname}" Grid.Column="1" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch">
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_parentname"/>
										</a:Data.Prop>
									</TextBox>
									<TextBlock Grid.Column="2" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" Text="操  作 人："  TextAlignment="Right"/>
									<TextBox Text="{m:Bind Path=f_rcoperator}" Grid.Column="3" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch">
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_rcoperator"/>
										</a:Data.Prop>
									</TextBox>
    					
									<TextBox Text="{m:Bind Path=f_cardid}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_cardid"  />
										</a:Data.Prop>
									</TextBox>
    					
									<TextBox Text="{m:Bind Path=f_gas}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_gas"  />
										</a:Data.Prop>
									</TextBox>
    					
									<TextBox Text="{m:Bind Path=f_times}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_times"  />
										</a:Data.Prop>
									</TextBox>
    					
									<TextBox Text="{m:Bind Path=f_aliasname}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_aliasname" />
										</a:Data.Prop>
									</TextBox>
    					
									<TextBox Text="{m:Bind Path=f_pregas}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_pregas" />
										</a:Data.Prop>
									</TextBox>
									<Grid Grid.ColumnSpan="2" Grid.Column="4" Margin="5,0,8,0" Grid.RowSpan="4" Grid.Row="0" Background="#FFD7EFFB">
										<Grid.RowDefinitions>
											<RowDefinition Height="35"/>
											<RowDefinition Height="35"/>
											<RowDefinition Height="35"/>
											<RowDefinition Height="35"/>
										</Grid.RowDefinitions>
										<Grid.ColumnDefinitions>
											<ColumnDefinition Width="110"/>
											<ColumnDefinition Width="1*"/>
										</Grid.ColumnDefinitions>
										<TextBlock Margin="0,6" TextWrapping="Wrap" Text="补 折 费：" TextAlignment="Right" HorizontalAlignment="Right" Height="23" Grid.Row="2" />
										<TextBlock Margin="0" TextWrapping="Wrap" Text="购气折编号：" TextAlignment="Right"  d:LayoutOverrides="Width, GridBox"/>
										<TextBlock Margin="0,6" TextWrapping="Wrap" Text="新购气折编号：" TextAlignment="Right" HorizontalAlignment="Right" d:LayoutOverrides="GridBox" Grid.Row="1" />
										<TextBlock Margin="0,6" TextWrapping="Wrap" Text="补折日期：" TextAlignment="Right" Height="23" Width="130" Grid.Row="3" d:LayoutOverrides="GridBox" HorizontalAlignment="Right"/>
										<TextBox Text="{m:Bind Path=f_rcrenewalpassbookfees}"  Margin="0,3" Grid.Row="2" TextWrapping="Wrap" IsReadOnly="True" IsEnabled="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.Column="1" >
											<a:Data.Prop>
												<o:PropertySetter PropertyName="f_rcrenewalpassbookfees" />
											</a:Data.Prop>
										</TextBox>
										<TextBox Text="{m:Bind Path=f_passbookid}"  Grid.Column="1" Margin="0,3" Grid.Row="0" TextWrapping="Wrap" IsReadOnly="True" Height="Auto" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  >
											<a:Data.Prop>
												<o:PropertySetter PropertyName="f_passbookid"  />
											</a:Data.Prop>
										</TextBox>
										<TextBox Text="{m:Bind Path=f_ccnewpassbookid}" IsReadOnly="True" Grid.Column="1" Margin="0" Grid.Row="1" TextWrapping="Wrap" IsEnabled="True" Height="29" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
											<a:Data.Prop>
												<o:PropertySetter PropertyName="f_ccnewpassbookid" />
											</a:Data.Prop>
										</TextBox>
										<sdk:DatePicker SelectedDate="{m:Bind Path=f_recoverypassbookdate}" IsEnabled="False" Grid.Column="1" Margin="0,3" Grid.Row="3"  IsTodayHighlighted="True" IsDropDownOpen="False" SelectedDateFormat="Short"  HorizontalAlignment="Stretch" Height="29" VerticalAlignment="Stretch" d:LayoutOverrides="GridBox" >
											<a:Data.Prop>
												<o:PropertySetter PropertyName="f_recoverypassbookdate"/>
											</a:Data.Prop>
										</sdk:DatePicker>
									</Grid>
									<TextBlock Margin="0,4" Grid.Row="6" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" HorizontalAlignment="Right" d:LayoutOverrides="HorizontalAlignment"/>
									<TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0,4" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  >
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_filiale"/>
										</a:Data.Prop>
									</TextBox>
									<TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,4" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="6" HorizontalAlignment="Right"  Grid.Column="2" Height="27" />
									<TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,4" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
										<a:Data.Prop>
											<o:PropertySetter PropertyName="f_fengongsinum"/>
										</a:Data.Prop>
									</TextBox>
								</Grid>
							</toolkit:DockPanel>
						</Grid>
					</toolkit:BusyIndicator>
				</Grid>
			</sdk:TabItem-->

            <sdk:TabItem Header="卡费修改" Height="Auto" Width="Auto" Margin="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator Margin="0,0,5,0" BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=kfinfos.ItemsSource.IsBusy or toExcel8.IsBusy}">
                        <toolkit:DockPanel   >
                            <toolkit:DockPanel x:Name="kfinfosearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="0" Height="25" TextAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid = 'this'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="2" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right"><Run Text="建档日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="kfxgrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_date >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="kfxgrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="3" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_date ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="3" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Combox10"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                    <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="kfsearchbutton"  Click="{m:Exp Str=kfinfosearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=kfinfosearch.DataContext.f_userid\=null;
								kfinfosearch.DataContext.f_operator\=null;
								 kfinfosearch.DataContext.f_filiale\=null;
								 kfinfosearch.DataContext.f_yytdate2\=null;
								 kfinfosearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=kfinfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel8.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel8" HQL="{m:Exp Str=kfinfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad8.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{kfinfos.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_cardfees:卡费|f_mnate:修改原因|f_operator:操作员|f_date:操作日期|f_department:部门|f_fengongsinum:分公司$}"/>
					    <c:DownLoad x:Name="downLoad8" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel8.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
									
									
									
									
									
									<TextBlock TextWrapping="Wrap" Text="操 作 员：" Margin="0" Height="25" TextAlignment="Right" Grid.Row="1"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_operator}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" VerticalAlignment="Stretch" Grid.Row="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_operator" Operator="f_operator = 'this'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                </Grid>
                            </toolkit:DockPanel>

                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
                                <sdk:DataPager x:Name="pager7" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=kfinfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap"  Margin="5,0,0,3" Text="{m:Exp Str=$共\{kfinfos.ItemsSource.Count\}项}"   Foreground="#FF140000" Width="Auto" toolkit:DockPanel.Dock="Bottom" Height="27"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"/>
                            </toolkit:DockPanel>

                            <sdk:DataGrid x:Name="kfinfos" Margin="0,0,0,2"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="kfinfoslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_xiugaikafei where \{kfinfosearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_xiugaikafei where \{kfinfosearch.DataContext.Condition\}  and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager7.PageIndex}" PageSize="{m:Exp Str=pager7.PageSize}" SumNames="id"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="卡    费" Binding="{Binding f_cardfees}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="修改原因" Binding="{Binding f_mnate}"/>
                                    <sdk:DataGridTextColumn Header="操 作 员" Binding="{Binding f_operator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_date, StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="部    门" Binding="{Binding f_department}"/>
                                    <sdk:DataGridTextColumn Header="分 公 司" Binding="{Binding f_fengongsinum}"/>
                                    <sdk:DataGridTextColumn Header="分公司编号" Visibility="Collapsed" Binding="{Binding f_filiale}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>

                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>

                    <toolkit:BusyIndicator Grid.Column="1" Margin="5,0,0,0">
                        <Grid  x:Name="xgkf" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0" >
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="xgkfgo" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_xiugaikafei" Source="{m:Exp Str=kfinfos.SelectedItem}" />
                            </a:Data.Context>
                            <toolkit:DockPanel  >

                                <Grid   Margin="0,0,8,17" toolkit:DockPanel.Dock="Top"  HorizontalAlignment="Stretch"  >
                                    <Grid.Background>
                                        <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                            <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                            <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Grid.Background>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="110"/>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="110"/>
                                        <ColumnDefinition Width="1*"/>

                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="24"/>
                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="60"/>
                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="35"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="1" TextWrapping="Wrap" Text="修改后卡费：" HorizontalAlignment="Right" Margin="0,6"/>
                                    <TextBox Text="{m:Bind Path=f_cardfees}" IsReadOnly="True" Grid.Column="1" Grid.Row="1" TextWrapping="Wrap"  Grid.ColumnSpan="1" Margin="0,5" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_cardfees" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Grid.Row="2" TextWrapping="Wrap" Text="修改原因：" HorizontalAlignment="Right" Margin="0,6"/>
                                    <TextBox Text="{m:Bind Path=f_mnate}" IsReadOnly="True" Grid.Column="1" Grid.Row="2" TextWrapping="Wrap"  Margin="0,2" VerticalAlignment="Stretch" Grid.ColumnSpan="3">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_mnate"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Grid.Row="3" TextWrapping="Wrap" Text="操作日期：" HorizontalAlignment="Right" Margin="0,6"/>
                                    <TextBlock Grid.Column="2" Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="操作员：" Height="25" TextAlignment="Right"/>
                                    <TextBox Text="{m:Bind Path=f_operator}" Grid.Column="3" Margin="0" Grid.Row="3" TextWrapping="Wrap"   IsReadOnly="True" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_operator"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <sdk:DatePicker Grid.Column="1" Margin="0" Grid.Row="3"  SelectedDate="{m:Bind Path=f_date}" IsEnabled="False" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_date"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock Grid.Column="2" Grid.Row="1" TextWrapping="Wrap" Text="用户编号：" Margin="0" Height="25" TextAlignment="Right"/>
                                    <TextBox Text="{m:Bind Path=f_userid}" Grid.Column="3" Margin="0" Grid.Row="1" TextWrapping="Wrap"   IsReadOnly="True" Height="25" VerticalAlignment="Stretch">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Grid.Column="2" Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                    <toolkit:TimePicker Value="{m:Bind Path=f_time}"  Grid.Column="3" Margin="0" Grid.Row="4"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_time" />
                                        </a:Data.Prop>
                                    </toolkit:TimePicker>
                                </Grid>
                            </toolkit:DockPanel>
                        </Grid>
                    </toolkit:BusyIndicator>
                </Grid>
            </sdk:TabItem>

            <sdk:TabItem Header="限购修改" Height="Auto" Width="Auto" Margin="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator Margin="0,0,5,0" BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=xgqlinfos.ItemsSource.IsBusy or toExcel9.IsBusy}">
                        <toolkit:DockPanel   >
                            <toolkit:DockPanel x:Name="xgqlinfosearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="0" Height="25" TextAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid = 'this'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="2" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right"><Run Text="修改日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="xgxgrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_date >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="xgxgrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="3" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0,0,0,-1" Height="25" Grid.ColumnSpan="1" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_date ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="3" Margin="0,0,0,-2" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Combox11"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                    <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="xgqlsearchbutton"  Click="{m:Exp Str=xgqlinfosearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=xgqlinfosearch.DataContext.f_userid\=null;
								xgqlinfosearch.DataContext.f_operator\=null;
								 xgqlinfosearch.DataContext.f_filiale\=null;
								 xgqlinfosearch.DataContext.f_yytdate2\=null;
								 xgqlinfosearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=xgqlinfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel9.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel9" HQL="{m:Exp Str=xgqlinfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad9.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{xgqlinfos.ItemsSource.Count\}/f_userid:用户编号|f_limitbuygas:限购气量修改|f_operator:操作员|f_date:操作日期|f_department:部门|f_filiale:分公司$}"/>
					    <c:DownLoad x:Name="downLoad9" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel9.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
									
									
									
									
									
									<TextBlock TextWrapping="Wrap" Text="操 作 员：" Margin="0" Height="25" TextAlignment="Right" Grid.Row="1"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_operator}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" VerticalAlignment="Stretch" Grid.Row="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_operator" Operator="f_operator = 'this'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                </Grid>
                            </toolkit:DockPanel>

                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
                                <sdk:DataPager x:Name="pager8" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=xgqlinfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap"  Margin="5,0,0,3" Text="{m:Exp Str=$共\{xgqlinfos.ItemsSource.Count\}项}"   Foreground="#FF140000" Width="Auto" toolkit:DockPanel.Dock="Bottom" Height="27"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"/>
                            </toolkit:DockPanel>

                            <sdk:DataGrid x:Name="xgqlinfos" Margin="0,0,0,2"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="xgqlinfoslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_xiangoujilu where \{xgqlinfosearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_xiangoujilu where \{xgqlinfosearch.DataContext.Condition\}  and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager8.PageIndex}" PageSize="{m:Exp Str=pager8.PageSize}" SumNames="id"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn Header="限购气量修改" Binding="{Binding f_limitbuygas}"/>



                                    <sdk:DataGridTextColumn Header="部    门" Binding="{Binding f_department}"/>

                                    <sdk:DataGridTextColumn Header="分公司" Visibility="Collapsed" Binding="{Binding f_filiale}"/>
                                    <sdk:DataGridTextColumn Header="操 作 人" Binding="{Binding f_operator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_date, StringFormat=yyyy-MM-dd}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>

                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>

                    <toolkit:BusyIndicator Grid.Column="1" Margin="5,0,0,0">
                        <Grid  x:Name="xgxg" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="xgxggo" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_xiangoujilu" Source="{m:Exp Str=xgqlinfos.SelectedItem}"         	/>
                            </a:Data.Context>
                            <toolkit:DockPanel  >
                                <Grid   Margin="0,0,8,17" toolkit:DockPanel.Dock="Top"  HorizontalAlignment="Stretch"  >
                                    <Grid.Background>
                                        <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                            <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                            <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Grid.Background>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="130"/>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="110"/>
                                        <ColumnDefinition Width="1*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="24"/>
                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="60"/>
                                        <RowDefinition Height="35"/>

                                        <RowDefinition Height="35"/>
                                        <RowDefinition Height="35"/>

                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="1" TextWrapping="Wrap" Text="限购气量修改：" Margin="0" Height="25" TextAlignment="Right"/>
                                    <TextBlock Grid.Row="4" TextWrapping="Wrap" Text="分 公 司：" Grid.Column="2" Margin="0" TextAlignment="Right" Height="25"/>
                                    <TextBox Text="{m:Bind Path=f_limitbuygas}" IsReadOnly="True" Grid.Column="1" Grid.Row="1" TextWrapping="Wrap"  Grid.ColumnSpan="1" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_limitbuygas"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_filiale}" IsReadOnly="True" Grid.Column="3" Grid.Row="4" TextWrapping="Wrap"  Grid.ColumnSpan="1" Margin="0" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" TextAlignment="Left" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Grid.Row="2" TextWrapping="Wrap" Text="修改原因：" Margin="0" Height="25" TextAlignment="Right"/>
                                    <TextBox Text="{m:Bind Path=f_mnate}" IsReadOnly="True" Grid.Column="1" Grid.Row="2" TextWrapping="Wrap"  Margin="0,2" VerticalAlignment="Stretch" Grid.ColumnSpan="3">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_mnate"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Grid.Row="3" TextWrapping="Wrap" Text="操作日期：" Margin="0" Height="25" TextAlignment="Right"/>
                                    <TextBlock Grid.Column="2" Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="操 作 员：" d:LayoutOverrides="Width" Height="25" TextAlignment="Right"/>
                                    <TextBox Text="{m:Bind Path=f_operator}" Grid.Column="3" Margin="0" Grid.Row="3" TextWrapping="Wrap" IsReadOnly="True" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_operator"	/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <sdk:DatePicker Grid.Column="1" Margin="0" Grid.Row="3"  SelectedDate="{m:Bind Path=f_date}" IsEnabled="False" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_date"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock Grid.Row="4" TextWrapping="Wrap" Text="部　　门：" Margin="0" TextAlignment="Right" Height="25"/>
                                    <TextBox Text="{m:Bind Path=f_department}" IsReadOnly="True" Grid.Column="1" Grid.Row="4" TextWrapping="Wrap"  Grid.ColumnSpan="1" Margin="0" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" TextAlignment="Left" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_department"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Grid.Column="2" Grid.Row="1" TextWrapping="Wrap" Text="用户编号：" Height="25" TextAlignment="Right" d:LayoutOverrides="Width" Margin="0"/>
                                    <TextBox Text="{m:Bind Path=f_userid}" Grid.Column="3" Margin="0" Grid.Row="1" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid"	/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Grid.Column="2" Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                    <toolkit:TimePicker Value="{m:Bind Path=f_time}"  Grid.Column="3" Margin="0" Grid.Row="5"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_time" />
                                        </a:Data.Prop>
                                    </toolkit:TimePicker>

                                </Grid>
                            </toolkit:DockPanel>

                        </Grid>
                    </toolkit:BusyIndicator>
                </Grid>
            </sdk:TabItem>
            <sdk:TabItem Header="维修配件费" Height="Auto" Width="Auto" Margin="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator Margin="0,0,5,0" BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=whfinfos.ItemsSource.IsBusy or toExcel10.IsBusy}">
                        <toolkit:DockPanel   >
                            <toolkit:DockPanel x:Name="whfsearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="5,6,0,6" Height="25" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right" d:LayoutOverrides="GridBox"><Run Text="操作日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="wxpjfrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="1" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_date >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="wxpjfrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_date ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="2" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Combox12"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>

                                <StackPanel Grid.Row="2" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="whfsearchbutton"  Click="{m:Exp Str=whfsearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=whfsearch.DataContext.f_userid\=null;
								 whfsearch.DataContext.f_filiale\=null;
								 whfsearch.DataContext.f_yytdate2\=null;
								 whfsearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=whfinfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel10.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel10" HQL="{m:Exp Str=whfinfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad10.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{whfinfos.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_districtname:小区名称|f_address:小区地址|f_phone:电话|f_peijianname:配件名称|f_price:单价|quantity:数量|f_totalcost:总价$}"/>
					    <c:DownLoad x:Name="downLoad10" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel10.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
							   
							   
							   
							   
							    </Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom"  Height="51">
                                <sdk:DataPager x:Name="pager13" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=whfinfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap" Margin="5,0,0,3" Text="{m:Exp Str=$共\{whfinfos.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" toolkit:DockPanel.Dock="Bottom" Height="27"/>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="whfinfos" Margin="0,0,0,2"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="whfinfoslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_repairefee where \{whfsearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_repairefee where \{whfsearch.DataContext.Condition\}  and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										IsOld="{m:Exp Str=weihufeimain.DataContext.State\=\=$End$}"
										PageIndex="{m:Exp Str=pager13.PageIndex}" PageSize="{m:Exp Str=pager13.PageSize}" SumNames="id"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户姓名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="小区名称" Binding="{Binding f_districtname}"/>
                                    <sdk:DataGridTextColumn Header="小区地址" Binding="{Binding f_address}"/>
                                    <sdk:DataGridTextColumn Header="电  话" Binding="{Binding f_phone}"/>
                                    <sdk:DataGridTextColumn Header="配件名称" Binding="{Binding f_peijianname}"/>
                                    <sdk:DataGridTextColumn Header="单价" Binding="{Binding f_price}"/>
                                    <sdk:DataGridTextColumn Header="数量" Binding="{Binding quantity}"/>
                                    <sdk:DataGridTextColumn Header="总价" Binding="{Binding f_totalcost}"/>



                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <toolkit:BusyIndicator Grid.Column="1">
                        <Grid Background="{x:Null}" x:Name="weihufeimain" >
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="whfgo" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_repairefee" Source="{m:Exp Str=whfinfos.SelectedItem}" />
                            </a:Data.Context>

                            <!--主操作区-->
                            <Grid Margin="0,0,0,45" HorizontalAlignment="Stretch" d:LayoutOverrides="Width, Height" >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="160"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="用户编号：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Text="地　　址：" Grid.Column="2" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Text="用户姓名/单位名称：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="2" Height="25"/>
                                <TextBlock Text="证件类型：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="3" Height="25" />
                                <TextBlock Text="气表品牌：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="4" Height="25"/>
                                <TextBlock Text="证件号码：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Grid.Row="3" Height="25" />
                                <TextBlock Text="气表型号：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Grid.Row="4" Height="25" />
                                <TextBlock Text="开户日期：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="5" Height="25" />
                                <TextBlock Text="配件名称：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="5" Grid.Column="2" Height="25" />
                                <TextBlock Text="单　　价：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="6" Height="25" />
                                <TextBlock Text="数　　量：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="6" Grid.Column="2" Height="25" />
                                <TextBlock Text="总　　价：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="7" Height="25" />
                                <TextBlock Text="网　　点：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="7" Grid.Column="2" Height="25" />
                                <TextBlock Text="操 作 员：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="0" Grid.Row="8" Height="25" />
                                <TextBlock Text="操作日期：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Grid.Row="8" Height="25" />
                                <TextBox Text="{m:Bind Path=f_userid}"  IsReadOnly="True"  Grid.Column="1" Margin="0" Grid.Row="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" HorizontalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid" />
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBox Text="{m:Bind Path=f_address}" IsReadOnly="True" Grid.Column="3" Margin="0" Grid.Row="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}"   Grid.Column="1" Margin="0" Grid.Row="2" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch"  Grid.ColumnSpan="1" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_credentials}"  IsReadOnly="True"  Grid.Column="1" Margin="0" Grid.Row="3" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" HorizontalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_credentials" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_idnumber}"   Grid.Column="3" Margin="0" Grid.Row="3" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25" HorizontalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_idnumber"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gaswatchbrand}"  Grid.Column="1" Margin="0" Grid.Row="4" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrand"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_operator}" Grid.Column="1" Margin="0" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True" Height="25" HorizontalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_operator"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metertype}"  Grid.Column="3" Margin="0" Grid.Row="4" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metertype" />
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{Binding f_dateofopening, StringFormat=yyyy-MM-dd}" IsEnabled="False" Grid.Column="1" Margin="0" Grid.Row="5"  VerticalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_dateofopening" />
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBox Text="{m:Bind Path=f_peijianname}"  Grid.Column="3" Margin="0" Grid.Row="5" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_peijianname" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_price}"  Grid.Column="1" Margin="0" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_price"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=quantity}"  Grid.Column="3" Margin="0" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="quantity"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_totalcost}"  Grid.Column="1" Margin="0" Grid.Row="7" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_totalcost" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_sgnetwork}"  Grid.Column="3" Margin="0" Grid.Row="7" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25"   >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_sgnetwork"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker Grid.Column="3" Margin="0" Grid.Row="8"  SelectedDate="{m:Bind Path=f_date}" IsEnabled="False" Grid.ColumnSpan="1" BorderThickness="1,1,1,0" Height="25" HorizontalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_date"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>

                                <TextBlock Text="分 公 司：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="9" Height="25" />
                                <TextBox Text="{m:Bind Path=f_filiale}"  Grid.Column="1" Margin="0" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="9" Height="25" Grid.Column="2" />
                                <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,9" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_fengongsinum"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                <toolkit:TimePicker Value="{m:Bind Path=f_time}"  Grid.Column="3" Margin="0" Grid.Row="9"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Left" Width="134" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_time" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                            </Grid>

                        </Grid>
                    </toolkit:BusyIndicator>


                </Grid>
            </sdk:TabItem>
            <sdk:TabItem Header="表灶销售费" Height="Auto" Width="Auto" Margin="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator  Margin="0,0,5,0" BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=bzxsinfos.ItemsSource.IsBusy or toExcel11.IsBusy}">
                        <toolkit:DockPanel   >
                            <toolkit:DockPanel x:Name="bzxssearch"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="5,6,0,6" Height="25" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right" d:LayoutOverrides="GridBox"><Run Text="操作日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="bzxsfrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="1" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_date >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="bzxsfrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_date ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="2" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Combox13"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                <StackPanel Grid.Row="2" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="bzxssearchbutton"  Click="{m:Exp Str=bzxssearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=bzxssearch.DataContext.f_userid\=null;
								 bzxssearch.DataContext.f_filiale\=null;
								 bzxssearch.DataContext.f_yytdate2\=null;
								 bzxssearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=bzxsinfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel11.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel11" HQL="{m:Exp Str=bzxsinfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad11.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{bzxsinfos.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_districtname:小区名称|f_address:小区地址|f_phone:电话|quantity:数量|f_totalcost:总价|f_filiale:分公司|f_date:操作日期|f_bzxsftime:操作时间$}"/>
					    <c:DownLoad x:Name="downLoad11" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel11.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51"  >
                                <sdk:DataPager x:Name="pager14" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=bzxsinfos}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap" Margin="5,0,0,3" Text="{m:Exp Str=$共\{bzxsinfos.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" toolkit:DockPanel.Dock="Bottom" Height="27" />
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"/>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="bzxsinfos" Margin="0,0,0,2"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="bzxsinfoslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_stovefee where \{bzxssearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_stovefee where \{bzxssearch.DataContext.Condition\}  and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										IsOld="{m:Exp Str=bzxsmain.DataContext.State\=\=$End$}"
										PageIndex="{m:Exp Str=pager14.PageIndex}" PageSize="{m:Exp Str=pager14.PageSize}" SumNames="id"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户姓名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="小区名称" Binding="{Binding f_districtname}"/>

                                    <sdk:DataGridTextColumn Header="数量" Binding="{Binding quantity}"/>
                                    <sdk:DataGridTextColumn Header="总价" Binding="{Binding f_totalcost}"/>
                                    <sdk:DataGridTextColumn Header="分公司" Binding="{Binding f_filiale}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_date,StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="操作时间" Binding="{Binding f_bzxsftime,StringFormat=hh:mm:ss tt}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <toolkit:BusyIndicator Grid.Column="1">
                        <Grid x:Name="bzxsmain" >
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="bzgo" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_stovefee" Source="{m:Exp Str=bzxsinfos.SelectedItem}"/>
                            </a:Data.Context>
                            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" toolkit:DockPanel.Dock="Top" >
                                <Grid Margin="0" HorizontalAlignment="Stretch" >
                                    <Grid.Background>
                                        <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                            <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                            <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Grid.Background>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="45"/>
                                        <RowDefinition Height="45"/>
                                        <RowDefinition Height="1"/>
                                        <RowDefinition Height="45"/>
                                        <RowDefinition Height="45"/>
                                        <RowDefinition Height="45"/>
                                        <RowDefinition Height="45"/>
                                        <RowDefinition Height="45"/>
                                        <RowDefinition Height="45"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="160"/>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="130"/>
                                        <ColumnDefinition Width="1*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Text="用户编号：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right"/>
                                    <TextBlock Text="地    址：" Grid.Column="0" Margin="0,9" Grid.Row="1" TextWrapping="Wrap" TextAlignment="Right"/>
                                    <TextBlock Text="用户姓名/单位名称：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                    <TextBlock Text="证件类型：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="3" />
                                    <TextBlock Text="灶具品牌：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="4"/>
                                    <TextBlock Text="证件号码：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Grid.Row="3" HorizontalAlignment="Right" />
                                    <TextBlock Text="灶具型号：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Grid.Row="4" HorizontalAlignment="Right" />
                                    <TextBlock Text="单    价：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="5" HorizontalAlignment="Right" />
                                    <TextBlock Text="数    量：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="5" HorizontalAlignment="Right" Grid.Column="2" />
                                    <TextBlock Text="总    价：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="6" HorizontalAlignment="Right" />
                                    <TextBlock Text="网    点：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="6" HorizontalAlignment="Right" Grid.Column="2" />
                                    <TextBlock Text="操  作  员：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="0" Grid.Row="7" HorizontalAlignment="Right" />
                                    <TextBlock Text="操作日期：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Grid.Row="7" HorizontalAlignment="Right" />
                                    <TextBox Text="{m:Bind Path=f_userid}" IsReadOnly="True"  Grid.Column="1" Margin="0,9" Grid.Row="0" TextWrapping="Wrap" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" />
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBox Text="{m:Bind Path=f_address}" IsReadOnly="True" Grid.Column="1" Margin="0,9" Grid.Row="1" TextWrapping="Wrap" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_address"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_username}"  Grid.Column="3" Margin="0" Grid.Row="0" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch"  Grid.ColumnSpan="1" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_username" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_credentials}" IsReadOnly="True"  Grid.Column="1" Margin="0,9" Grid.Row="3" TextWrapping="Wrap" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_credentials" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_idnumber}"   Grid.Column="3" Margin="0,9" Grid.Row="3" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_idnumber"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_kitchenbrand}"  Grid.Column="1" Margin="0,9" Grid.Row="4" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_kitchenbrand"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_operator}" Grid.Column="1" Margin="0,9" Grid.Row="7" TextWrapping="Wrap"  d:LayoutOverrides="Height" IsReadOnly="True">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_operator"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_kitchenmodel}"  Grid.Column="3" Margin="0,9" Grid.Row="4" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_kitchenmodel" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_price}"  Grid.Column="1" Margin="0,9" Grid.Row="5" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_price"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=quantity}"  Grid.Column="3" Margin="0,9" Grid.Row="5" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="quantity"  />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_totalcost}"  Grid.Column="1" Margin="0,9" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_totalcost" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_sgnetwork}"  Grid.Column="3" Margin="0,9" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto"   >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_sgnetwork"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <sdk:DatePicker Grid.Column="3" Margin="0,9" Grid.Row="7"  SelectedDate="{m:Bind Path=f_date}" IsEnabled="False" Grid.ColumnSpan="1" BorderThickness="1,1,1,0">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_date"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>

                                    <TextBlock Text="分  公  司：" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" Height="25" />
                                    <TextBox Text="{m:Bind Path=f_filiale}"  Grid.Column="1" Margin="0,9" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" Height="25" Grid.Column="2" />
                                    <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,9" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_fengongsinum"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Grid.Column="2" Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                    <toolkit:TimePicker Value="{m:Bind Path=f_bzxsftime}"  Grid.Column="3" Margin="0" Grid.Row="8"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Left" Width="134" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_bzxsftime" />
                                        </a:Data.Prop>
                                    </toolkit:TimePicker>
                                </Grid>
                            </ScrollViewer>
                        </Grid>
                    </toolkit:BusyIndicator>


                </Grid>
            </sdk:TabItem>

            <sdk:TabItem Header="冲正" Margin="0" >
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=czinfo.DataContext.IsBusy}" Margin="5,0,0,3" BorderThickness="1" Grid.Column="1" >
                        <Grid  x:Name="czinfo" >
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="czinfogo" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_chongzheng" Source="{m:Exp Str=czinfos.SelectedItem}"/>
                            </a:Data.Context>
                            <!--按钮-->
                            <!--非民用主操作区-->
                            <Grid >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="45"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>

                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="130"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="130"/>
                                    <ColumnDefinition Width="1.333*"/>
                                    <ColumnDefinition Width="130"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="用户编号：" Margin="0,6" TextWrapping="Wrap"  TextAlignment="Right"/>
                                <TextBlock Text="用户姓名：" Margin="0" TextWrapping="Wrap"  TextAlignment="Right" Grid.Column="2" Height="25"/>
                                <TextBlock Text="身份证号：" Margin="0,6" Grid.Row="1" TextWrapping="Wrap" TextAlignment="Right"/>
                                <TextBlock Text="小区地址：" Grid.Column="2" Margin="0" Grid.Row="1" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Text="小区名称：" Margin="0" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Text="气表品牌：" Grid.Column="4" Margin="0" Grid.Row="2" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Text="气表型号：" Margin="0" Grid.Row="3" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="气价类型：" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                <TextBlock Text="气      价：" Grid.Column="4"  TextWrapping="Wrap" TextAlignment="Right" Grid.Row="3" Margin="0" Height="25"/>
                                <TextBlock Text="维护费单价："  TextWrapping="Wrap" TextAlignment="Right" Grid.Row="4" Margin="0" Height="25"/>
                                <TextBlock Text="上次总累计购气量："  TextWrapping="Wrap" TextAlignment="Right" Grid.Row="4" Grid.Column="2" Margin="0" Height="25"/>
                                <TextBlock Text="用户类型：" Margin="0" Grid.Row="5" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Text="维管费起始月份：" Grid.Column="4" Margin="0" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Text="维管费截止月份：" Margin="0" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Text="预购气量：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="7" Height="25"/>
                                <TextBlock Text="最后购气量：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="7" Grid.Column="2" Height="25"/>
                                <TextBlock Text="最后购气日期：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="7" Grid.Column="4" Height="25"/>
                                <TextBlock Text="预购金额：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" Height="25"/>
                                <TextBlock Text="付款方式：" Grid.Column="2" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_payment}"  Grid.Column="3" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Grid.Row="8" IsReadOnly="True" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_payment" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="本次总累计购气量：" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="5" Grid.Column="2" Height="25"/>
                                <TextBlock Text="本次表累计购气量：" Margin="0" Grid.Row="5" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="4" Height="25"/>
                                <TextBlock Text="收      款：" Grid.Column="2" Margin="0" Grid.Row="9" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Text="应交金额：" Margin="0" Grid.Row="9" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="4" Height="25"/>
                                <TextBlock Text="找      零：" Margin="0" Grid.Row="9" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBox x:Name="f_userid1" Text="{m:Bind Path=f_userid}"  Grid.Column="1" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Height="25" IsReadOnly="True"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}" IsReadOnly="True" Grid.Column="3" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="3" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_idnumber}" IsReadOnly="True" Grid.Column="1" Margin="0" Grid.Row="1" TextWrapping="Wrap" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_idnumber" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_address}" IsReadOnly="True" Grid.Column="3" Margin="0" Grid.Row="1" TextWrapping="Wrap" Grid.ColumnSpan="3" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address" />
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBox Text="{m:Bind Path=f_districtname}" IsReadOnly="True" Grid.Column="1" Margin="0" Grid.Row="2" TextWrapping="Wrap" Grid.ColumnSpan="3" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_districtname" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="5" Margin="0" Grid.Row="2" IsReadOnly="True" Height="25"    >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrand" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metertype}" Grid.Column="1" Margin="0" Grid.Row="3" IsReadOnly="True" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metertype" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metertype}"  Grid.Column="3" Margin="0" Grid.Row="3" IsReadOnly="True" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metertype" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gasprice}" Grid.Column="5"  Grid.Row="3" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch" Width="Auto" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasprice" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_unitfee}" Grid.Column="1"  Grid.Row="4" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch" Width="Auto" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_unitfee" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_upbuynum}" Grid.Column="3" Margin="0" Grid.Row="4" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_upbuynum"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="1" Margin="0" Grid.Row="5" IsReadOnly="True" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_usertype" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{Binding Path=f_beginfee, StringFormat=yyyy-MM-dd}" Grid.Column="5" Margin="0" Grid.Row="6" IsReadOnly="True" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_beginfee" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_endfee}" Grid.Column="1" Margin="0" Grid.Row="6" IsReadOnly="True" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_endfee" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_pregas}"  Grid.Column="1" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Grid.Row="7" IsReadOnly="True" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_pregas"   />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_finallybought}"  Grid.Column="3" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Grid.Row="7" IsReadOnly="True" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_finallybought"   />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{Binding Path=f_finabuygasdate, StringFormat=yyyy-MM-dd}"  Grid.Column="5" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" Grid.Row="7" IsReadOnly="True" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_finabuygasdate"    />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_preamount}"  Grid.Column="1" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Grid.Row="8" Height="25"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_preamount" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cumulativepurchase}"  Grid.Column="3" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Grid.Row="5"  HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cumulativepurchase" />
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBox Text="{m:Bind Path=f_metergasnums}" IsReadOnly="True" Grid.Column="5" Margin="0" Grid.Row="5" TextWrapping="Wrap" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metergasnums"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_grossproceeds}" Grid.Column="3" Margin="0" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_grossproceeds"  />
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBox Text="{m:Bind Path=f_totalcost}" IsReadOnly="True" Grid.Column="5" Margin="0" Grid.Row="9" TextWrapping="Wrap" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_totalcost"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_givechange}"  Grid.Column="1" Margin="0" TextWrapping="Wrap" Grid.ColumnSpan="1" IsReadOnly="True" Grid.Row="9"  HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_givechange"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="12" TextWrapping="Wrap" Text="网      点：" TextAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_sgnetwork}" Grid.Column="1" Margin="0" Grid.Row="12" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_sgnetwork" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="13" Grid.Column="4" TextWrapping="Wrap" Text="分公司：" TextAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="5" Margin="0" Grid.Row="13" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="12" TextWrapping="Wrap" Text="冲  正 人："  TextAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_reversalname}" Grid.Column="3" Margin="0" Grid.Row="12" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_reversalname" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="13" TextWrapping="Wrap" Text="冲正日期：" TextAlignment="Right" Height="25"/>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_reversaldate}" IsEnabled="False" Grid.Column="1" Margin="0" Grid.Row="13"  IsTodayHighlighted="True" IsDropDownOpen="False" SelectedDateFormat="Short" VerticalAlignment="Stretch" Height="25" Grid.ColumnSpan="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_reversaldate" />
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBlock Text="上次表累计购气量：" Grid.Column="4" Margin="0" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="4" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_premetergasnums}" Grid.Column="8" Margin="0" Grid.Row="4" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_premetergasnums"   />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="维护费交费月数：" Margin="0" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_repairnum}" Grid.Column="3" Margin="0" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_repairnum"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="操  作 员："  TextAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_sgoperator}" Grid.Column="1" Margin="0" Grid.Row="10" TextWrapping="Wrap" IsReadOnly="True" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_sgoperator"   />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="4" Margin="0,6" Grid.Row="10" TextWrapping="Wrap" Text="交费日期：" TextAlignment="Right" Width="130" d:IsLocked="True"/>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_deliverydate}" IsEnabled="false" Grid.Column="5" Margin="0" Grid.Row="10"  IsTodayHighlighted="True" IsDropDownOpen="False" SelectedDateFormat="Short" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_deliverydate"   />
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBlock Margin="0" Grid.Row="11" TextWrapping="Wrap" Text="冲正原因：" Height="25" TextAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_reversalcause}" Grid.ColumnSpan="5" Grid.Column="1" Margin="0" Grid.Row="11" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="Auto" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_reversalcause" />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--隐藏域-->
                                <!--上次购气量日期-->
                                <TextBox Text="{m:Bind Path=f_finallyboughtgasdate}" Visibility="Collapsed" Margin="0,2" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_finallyboughtgasdate" />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--上次购气量-->
                                <TextBox Text="{m:Bind Path=finallybought}" Visibility="Collapsed" Margin="0,2" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="finallybought"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--补卡标记-->
                                <TextBox Text="{m:Bind Path=f_buka}" Visibility="Collapsed" Margin="0,2" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_buka" />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--写卡次数-->
                                <TextBox Text="{m:Bind Path=f_times}" Visibility="Collapsed" Margin="0,2" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_times"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--表厂别名-->
                                <TextBox Text="{m:Bind Path=f_aliasname}" Visibility="Collapsed" Margin="0,2" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_aliasname"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--卡号-->
                                <TextBox Text="{m:Bind Path=f_cardid}" Visibility="Collapsed" Margin="0,2" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cardid" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0,2.5" Grid.Row="13" Text="冲正时间：" TextAlignment="Right" Height="25"/>
                                <toolkit:TimePicker Value="{m:Bind Path=f_reversaltime}" IsEnabled="False" Grid.Column="3" Margin="0,2.5" Grid.Row="13"   IsDropDownOpen="False"  VerticalAlignment="Stretch" Height="25" HorizontalAlignment="Stretch" Width="Auto" Grid.ColumnSpan="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_reversaltime" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                                <TextBlock Grid.Column="2" Margin="0,2.5" Grid.Row="10" TextWrapping="Wrap" TextAlignment="Right" Height="25"><Run Text="交费"/><Run Text="时间"/><Run Text="："/></TextBlock>
                                <toolkit:TimePicker Value="{m:Bind Path=f_deliverytime}" IsEnabled="False" Grid.Column="3" Margin="0,2.5" Grid.Row="10"   IsDropDownOpen="False"  VerticalAlignment="Stretch" Height="25" HorizontalAlignment="Stretch" Width="Auto" Grid.ColumnSpan="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_deliverytime" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                            </Grid>
                            <!--非民用主操作区-->
                        </Grid>
                    </toolkit:BusyIndicator>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=czinfos.ItemsSource.IsBusy or toExcel12.IsBusy}" Margin="0" >
                        <toolkit:DockPanel >
                            <toolkit:DockPanel x:Name="czinfosearch"  Background="#FFCFEFFF" toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>


                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="5,6,0,6" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Text="卡　　号：" Grid.Row="1" Margin="5,6,0,6" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="1" Text="{m:Bind Path=f_cardid}" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_cardid" Operator="f_cardid like '%this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="2" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right"><Run Text="冲正日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="czrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_deliverydate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="czrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="3" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_deliverydate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="3" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Combox14"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                 <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbutton"  Click="{m:Exp Str=czinfosearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=czinfosearch.DataContext.f_userid\=null;
								 czinfosearch.DataContext.f_cardid\=null;
								 czinfosearch.DataContext.f_filiale\=null;
								 czinfosearch.DataContext.f_yytdate2\=null;
								 czinfosearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=czinfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel12.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel12" HQL="{m:Exp Str=czinfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad12.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{czinfos.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_districtname:小区名称|f_address:小区地址|f_phone:电话$}"/>
					    <c:DownLoad x:Name="downLoad12" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel12.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="57">
                                <sdk:DataPager x:Name="pager15" Source="{Binding Path=ItemsSource.Count,ElementName=czinfos,Converter={StaticResource DataPagerConverter}}"  Margin="0,0,0,3" PageSize="20" Height="24" toolkit:DockPanel.Dock="Top"/>
                                <TextBlock TextWrapping="Wrap" Margin="5,0,0,3" Text="{m:Exp Str=$共\{czinfos.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" Height="33" toolkit:DockPanel.Dock="Bottom"/>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="czinfos" Margin="0,0,0,2"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="czinfoslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_chongzheng where \{czinfosearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_chongzheng where \{czinfosearch.DataContext.Condition\}  and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager15.PageIndex}" PageSize="{m:Exp Str=pager15.PageSize}" SumNames="f_times"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户姓名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="小区名称" Binding="{Binding f_districtname}"/>

                                    <sdk:DataGridTextColumn Header="电  话" Binding="{Binding f_phone}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                            <!--提交按钮-->
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>


                </Grid>
            </sdk:TabItem>
            <sdk:TabItem Header="小区信息" Height="Auto" Width="Auto" Margin="0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="0.4*"/>
                        <ColumnDefinition Width="0.6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=userfiles.ItemsSource.IsBusy or toExcel13.IsBusy}">
                        <toolkit:DockPanel >
                            <!--提交按钮-->
                            <toolkit:DockPanel   Background="{x:Null}" toolkit:DockPanel.Dock="Bottom" Margin="0,0,0,10" Height="33"/>
                            <toolkit:DockPanel  x:Name="userfilesearch" toolkit:DockPanel.Dock="Top" Margin="0,0,0,5" Background="#FFCFEFFF"  >
                                <a:Data.Context>
                                    <o:SearchObject/>
                                </a:Data.Context>

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="小区名称：" Margin="5,4,0,4" Height="25" FontSize="13.333" HorizontalAlignment="Right" />
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_districtname}" Width="Auto" Margin="0" Height="25" FontSize="13.333" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_districtname"  Operator="f_districtname like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Text="小区地址：" Margin="5,4,0,4" Height="25" FontSize="13.333" HorizontalAlignment="Right" />
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="1" Text="{m:Bind Path=f_address}" Width="Auto" Margin="0" Height="25" FontSize="13.333" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_address"  Operator="f_address like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <ComboBox x:Name="Combox15"   Visibility="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="2" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right"><Run Text="建档日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="xqrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0,0,0,4" Height="25" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_date >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="xqrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="3" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_date ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="3" Margin="0,0,0,8" Height="25" TextAlignment="Right"/>
                                 <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="chaxun"  Click="{m:Exp Str=userfilesearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=userfilesearch.DataContext.f_districtname\=null;
								 userfilesearch.DataContext.f_address\=null;
								 userfilesearch.DataContext.f_filiale\=null;
								 userfilesearch.DataContext.f_yytdate2\=null;
								 userfilesearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=userfiles.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel13.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel13" HQL="{m:Exp Str=userfiles.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad13.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{userfiles.ItemsSource.Count\}/f_districtname:小区名称|f_gaswatchbrand:气表品牌|f_metertype:气表型号|f_accountVolume:开户气量|f_userNum:户数|f_startNumber:开户编号|f_endNumber:结束编号|f_usernumber:当前用户编号|f_filiale:公司$}"/>
					    <c:DownLoad x:Name="downLoad13" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel13.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="57">
                                <sdk:DataPager x:Name="pager16" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=userfiles}"  Margin="0,0,0,3" PageSize="20" Height="24" toolkit:DockPanel.Dock="Top"/>
                                <TextBlock TextWrapping="Wrap" Margin="5,0,0,3" Text="{m:Exp Str=$共\{userfiles.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" Height="33" toolkit:DockPanel.Dock="Bottom"/>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="userfiles" Margin="0"  FontSize="13.333"
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="userfileslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_area where \{userfilesearch.DataContext.Condition\}$\, LoginUser.f_fengongsi !\= zonggongsi.value:$from t_area where \{userfilesearch.DataContext.Condition\}  and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager16.PageIndex}" PageSize="{m:Exp Str=pager16.PageSize}" SumNames="id"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="小区名称" Binding="{Binding f_districtname}"/>

                                    <sdk:DataGridTextColumn Header="气表品牌" Binding="{Binding f_gaswatchbrand}"/>
                                    <sdk:DataGridTextColumn Header="气表型号" Binding="{Binding f_metertype}"/>
                                    <sdk:DataGridTextColumn Header="开户气量" Binding="{Binding f_accountVolume}"/>
                                    <sdk:DataGridTextColumn Header="户    数" Binding="{Binding f_userNum}"/>
                                    <sdk:DataGridTextColumn Header="开始编号" Binding="{Binding f_startNumber}"/>
                                    <sdk:DataGridTextColumn Header="结束编号" Binding="{Binding f_endNumber}"/>
                                    <sdk:DataGridTextColumn Header="当前用户编号" Binding="{Binding f_usernumber}"/>
                                    <sdk:DataGridTextColumn Header="公司" Binding="{Binding f_filiale}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_date,StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="操作时间" Binding="{Binding f_xqtime,StringFormat=hh:mm:ss tt}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <toolkit:BusyIndicator Grid.Column="1" Margin="8,0,-3,0" d:LayoutOverrides="GridBox">
                        <Grid x:Name="xiaoqu" Margin="0,0,8,0" >
                            <a:Data.Context>
                                <o:GeneralObject  x:Name="xiaoqucha" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_changmeter" Source="{m:Exp Str=userfiles.SelectedItem}"/>
                            </a:Data.Context>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="33"/>
                                <RowDefinition Height="33"/>
                                <RowDefinition Height="33"/>
                                <RowDefinition Height="33"/>
                                <RowDefinition Height="33"/>
                                <RowDefinition Height="33"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="204"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="0.354*"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="0.646*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Margin="0,4" TextWrapping="Wrap" Text="小区名称：" HorizontalAlignment="Right" Height="25"/>
                            <TextBlock Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="地   址：" HorizontalAlignment="Right" VerticalAlignment="Center" Height="25"/>
                            <TextBlock Margin="0,4" Grid.Row="2" TextWrapping="Wrap" Text="气表品牌：" HorizontalAlignment="Right" Height="25"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="3" TextWrapping="Wrap" Text="气表型号：" HorizontalAlignment="Right" Height="25"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="4" TextWrapping="Wrap" Text="开始编号：" HorizontalAlignment="Right" Height="25"/>
                            <TextBlock Margin="0,4" TextWrapping="Wrap" Text="户   数：" HorizontalAlignment="Right" Grid.Column="2" Height="25"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="3" TextWrapping="Wrap" Text="开户气量：" HorizontalAlignment="Right" Grid.Column="2" Height="25"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="5" TextWrapping="Wrap" Text="结束编号：" HorizontalAlignment="Right" Height="25"/>
                            <TextBlock Margin="0,5,0,4" Grid.Row="5" TextWrapping="Wrap" Text="当前用户编号：" HorizontalAlignment="Right" Grid.Column="2" Height="25"/>
                            <TextBox Text="{m:Bind Path=f_districtname}" Grid.Column="1" Margin="0,4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_districtname"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_address}" Grid.Column="1" Margin="0,4" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch"  Grid.ColumnSpan="1" IsReadOnly="True" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_address"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="1" Margin="0,4" Grid.Row="2" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_gaswatchbrand"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_metertype}" Grid.Column="1"  Margin="0" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_metertype"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_startNumber}" Grid.Column="1"  Margin="0" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_startNumber"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_userNum}" Grid.Column="3"  Margin="0" Grid.Row="0" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_userNum"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_accountVolume}" Grid.Column="3" Height="25" Margin="0" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_accountVolume"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_endNumber}" Grid.Column="1" Height="25" Margin="0" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_endNumber"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_usernumber}" IsReadOnly="True" Grid.Column="3" Margin="0" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.ColumnSpan="1" Width="Auto" Height="25" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_usernumber" />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Grid.Column="2" Margin="0" Grid.Row="6" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                            <toolkit:TimePicker Value="{m:Bind Path=f_xqtime}"  Grid.Column="3" Margin="0" Grid.Row="6"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_xqtime" />
                                </a:Data.Prop>
                            </toolkit:TimePicker>
                            <TextBlock Margin="0" Grid.Row="6" TextWrapping="Wrap" Text="分  公  司：" Height="25" TextAlignment="Right"/>
                            <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Height="25" Margin="0" Grid.Row="6" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_filiale"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Margin="0" Grid.Row="7" TextWrapping="Wrap" Text="操  作  员：" Height="25" TextAlignment="Right"/>
                            <TextBox Text="{m:Bind Path=f_operator}" Grid.Column="1" Height="25" Margin="0" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_operator"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Grid.Column="2" Margin="0,5,0,4" Grid.Row="7" TextWrapping="Wrap" Text="操作日期：" TextAlignment="Right" Height="25" />
                            <sdk:DatePicker  SelectedDate="{m:Bind Path=f_date}" Grid.Column="3" Margin="0,5,0,4" Grid.Row="7"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_date" />
                                </a:Data.Prop>
                            </sdk:DatePicker>
                            <TextBlock Margin="0" TextWrapping="Wrap" Text="类  型：" HorizontalAlignment="Right" Grid.Column="2" Height="25" Grid.Row="1"/>
                            <TextBox Text="{m:Bind Path=f_type}" Grid.Column="3"  Margin="0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_type"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Margin="0" TextWrapping="Wrap" Text="别  名：" HorizontalAlignment="Right" Grid.Column="2" Height="25" Grid.Row="2"/>
                            <TextBox Text="{m:Bind Path=f_aliasname}" Grid.Column="3"  Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_aliasname"/>
                                </a:Data.Prop>
                            </TextBox>
                        </Grid>
                    </toolkit:BusyIndicator>
                </Grid>
            </sdk:TabItem>
            <sdk:TabItem Header="单位信息" Height="Auto" Width="Auto" Margin="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="0.4*"/>
                        <ColumnDefinition Width="0.6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=unitinfos.ItemsSource.IsBusy or toExcel14.IsBusy}">
                        <toolkit:DockPanel Margin="0" d:LayoutOverrides="Width" >
                            <toolkit:DockPanel  x:Name="unitcx" toolkit:DockPanel.Dock="Top" Margin="0,0,0,5" Background="#FFCFEFFF"  >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>

                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="单位名称：" Margin="0"  TextAlignment="Right" HorizontalAlignment="Center" Height="25"/>
                                    <TextBox TextWrapping="Wrap" Text="{m:Bind Path=f_unitname}" Width="Auto" Margin="0" Grid.Column="1" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_unitname"  Operator="f_unitname like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>


                                    <TextBlock TextWrapping="Wrap" Grid.Row="2" Grid.Column="0" Margin="0" 
Height="25" TextAlignment="Right" HorizontalAlignment="Center" Text="操作日期从 :"/>
                                    <sdk:DatePicker Name="dwxxrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="2" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_date >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="dwxxrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="3" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_date ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="3" Margin="0" Height="25" TextAlignment="Right" HorizontalAlignment="Center" VerticalAlignment="Center"/>


                                    <TextBlock TextWrapping="Wrap" Text="地　　址：" Margin="0" Grid.Row="1"  TextAlignment="Right" Height="25" HorizontalAlignment="Center"/>
                                    <TextBox TextWrapping="Wrap" Text="{m:Bind Path=f_address}" Width="Auto" Margin="0" Grid.Column="1" Grid.Row="1" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_address"  Operator="f_address like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                   <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="dwsearchbutton"  Click="{m:Exp Str=unitcx.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=unitcx.DataContext.f_unitname\=null;
								 unitcx.DataContext.f_address\=null;
								 unitcx.DataContext.f_filiale\=null;
								 unitcx.DataContext.f_yytdate2\=null;
								 unitcx.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=unitinfos.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel14.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel14" HQL="{m:Exp Str=unitinfos.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad14.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{unitinfos.ItemsSource.Count\}/f_unitid:单位编号|f_unitname:单位名称|f_address:地址$}"/>
					    <c:DownLoad x:Name="downLoad14" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel14.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
									
									
									<TextBlock TextWrapping="Wrap" Text="所属公司：" Margin="0" HorizontalAlignment="Right" Grid.Column="2" />
                                    <ComboBox x:Name="Combox1_Copy"   Visibility="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="3" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                </Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel toolkit:DockPanel.Dock="Bottom">
                                <sdk:DataPager Name="pager33" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=unitinfos}" PageSize="15" Height="24"  toolkit:DockPanel.Dock="Top"/>
                                <TextBlock TextWrapping="Wrap" Margin="5,0,0,33" Text="{m:Exp Str=$共\{unitinfos.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" toolkit:DockPanel.Dock="Bottom" Height="27"/>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="unitinfos" Margin="0" FontSize="14" IsReadOnly="True"
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}">
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="unitinfoslist" WebClientInfo="{StaticResource dbclient}"
										Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_unit where \{unitcx.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_unit where \{unitcx.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager33.PageIndex}" PageSize="{m:Exp Str=pager33.PageSize}" SumNames="id"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="单位编号" Binding="{Binding f_unitid}"/>
                                    <sdk:DataGridTextColumn Header="单位名称" Binding="{Binding f_unitname}"/>
                                    <sdk:DataGridTextColumn Header="地    址" Binding="{Binding f_address}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                            <!--提交按钮-->
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <toolkit:BusyIndicator Grid.Column="2" Margin="5,0,0,27">
                        <toolkit:DockPanel>
                            <TextBlock  TextAlignment="Right" Margin="0,5,37,3" Text="{m:Exp Str=$气表块数：\{danlist.ItemsSource.Count\}块}" Width="511" HorizontalAlignment="Right" Foreground="#FF140000" toolkit:DockPanel.Dock="Bottom" Height="27" RenderTransformOrigin="0.5,0.5">
                            </TextBlock>
                            <Grid Margin="0" x:Name="unit" toolkit:DockPanel.Dock="Top">
                                <a:Data.Context>
                                    <o:GeneralObject  x:Name="unitgo" WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_unit" Source="{m:Exp Str=unitinfos.SelectedItem}"/>
                                </a:Data.Context>
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="45"/>
                                    <RowDefinition Height="45"/>
                                    <RowDefinition Height="45"/>
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="45"/>
                                    <RowDefinition Height="45"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Margin="0,9" TextWrapping="Wrap" TextAlignment="Right"><Run Text="单位"/><Run Text="名称："/></TextBlock>
                                <TextBlock Grid.Column="0" Margin="0,9" Grid.Row="1" TextWrapping="Wrap" TextAlignment="Right"><Run Text="地"/><Run Text="     "/><Run Text="址："/></TextBlock>

                                <TextBox Text="{m:Bind Path=f_unitname}"  Grid.Column="1" Margin="0,9" Grid.Row="0" TextWrapping="Wrap" Grid.ColumnSpan="3" IsReadOnly="True" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_unitname" />
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBox Text="{m:Bind Path=f_address}" IsReadOnly="True" Grid.Column="1" Margin="0,9" Grid.Row="1" TextWrapping="Wrap" Grid.ColumnSpan="3" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0,9" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="2"><Run Text="单位编号"/><Run Text="："/></TextBlock>
                                <TextBlock Text="操  作  员：" Margin="0,8,0,10" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="0" Grid.Row="8" HorizontalAlignment="Right" />
                                <TextBlock Text="操作日期：" Margin="0,8,1,10" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Grid.Row="9" HorizontalAlignment="Right" />
                                <TextBox Text="{m:Bind Path=f_unitid}"  Grid.Column="1" Margin="0,9" Grid.Row="2" TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_unitid"/>
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBox Text="{m:Bind Path=f_operator}" Grid.Column="1" Margin="0,8,0,10" Grid.Row="8" TextWrapping="Wrap"  d:LayoutOverrides="Height" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_operator"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker Grid.Column="3" Margin="0,8,0,10" Grid.Row="9"  SelectedDate="{m:Bind Path=f_date}" IsEnabled="False" Grid.ColumnSpan="1" BorderThickness="1,1,1,0">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_date"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBlock Text="分  公  司：" Margin="0,8,0,10" TextWrapping="Wrap" TextAlignment="Right" Grid.Column="2" Grid.Row="8" HorizontalAlignment="Right" />
                                <TextBlock Text="部       门：" Margin="0,8,0,10" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="9" HorizontalAlignment="Right" />
                                <TextBox Text="{m:Bind Path=f_filiale}"  Grid.Column="3" Margin="0,9" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_department}" Grid.Column="1" Margin="0,8,0,10" Grid.Row="9" TextWrapping="Wrap"  d:LayoutOverrides="Height" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_department" />

                                    </a:Data.Prop>
                                </TextBox>
                            </Grid>
                            <sdk:DataGrid  AutoGenerateColumns="False" x:Name="danlist" ItemsSource="{m:Exp Str=danobj}" IsReadOnly="True" >

                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTemplateColumn>
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate/>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>

                                    <sdk:DataGridTextColumn Header="序   号" d:IsLocked="True" Binding="{Binding Index}" />
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn Header="联 系 人" Binding="{Binding f_linkname}"/>
                                    <sdk:DataGridTextColumn Header="电    话" Binding="{Binding f_phone}"/>
                                    <sdk:DataGridTextColumn Header="单位编号" Binding="{Binding f_unitid}"/>
                                    <sdk:DataGridTextColumn Header="单位名称" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="卡   号" Binding="{Binding f_cardid}"/>
                                    <sdk:DataGridTextColumn Header="气表品牌" Binding="{Binding f_gaswatchbrand}"/>
                                    <sdk:DataGridTextColumn Header="气表型号" Binding="{Binding f_metertype}"/>
                                    <sdk:DataGridTextColumn Header="用气性质" Binding="{Binding f_gasproperties}"/>
                                    <sdk:DataGridTextColumn Header="气价类型" Binding="{Binding f_gaspricetype}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>

                    </toolkit:BusyIndicator>
                </Grid>
            </sdk:TabItem>

            <!--小区信息-->
            <sdk:TabItem Header="气价类型变更">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=pipelines.ItemsSource.IsBusy or toExcel15.IsBusy}">
                        <toolkit:DockPanel >
                            <!--信息列表按钮-->
                            <toolkit:DockPanel  toolkit:DockPanel.Dock="Bottom" Margin="0" Height="45">
                                <!--信息列表翻页-->
                                <TextBlock  TextWrapping="Wrap" Text="{m:Exp Str=$共\{pipelines.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" VerticalAlignment="Bottom" Margin="0,0,0,10"/>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel x:Name="pipelinesearch" toolkit:DockPanel.Dock="Top" Margin="0,0,0,5"  VerticalAlignment="Top" Background="#FFCFEFFF">
                                <a:Data.Context>
                                    <o:SearchObject  />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutto" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Text="用户地址：" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Row="1" Grid.Column="1" Text="{m:Bind Path=f_address}" a:ControlAttach.DefaultButton="searchbutto" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_address" Operator="f_address like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="2" Text="用气性质：" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                                    <ComboBox x:Name="CoboxGasPro" ItemsSource="{m:Exp Str=usegaslist}" Height="25"  SelectedValuePath="name" SelectedValue="{m:Bind Path=f_gasproperties}"  Grid.Column="1"  Grid.Row="2"  >
                                        <ComboBox.ItemTemplate>
											<DataTemplate>
												<TextBlock Text="{Binding name}" Height="20"></TextBlock>
											</DataTemplate>
										</ComboBox.ItemTemplate>
										
										<a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_gasproperties" Operator="f_gasproperties like 'this%'" />
                                        </a:Data.Prop>
                                    </ComboBox>
                                    <TextBlock TextWrapping="Wrap" Grid.Row="3" Grid.Column="0" Margin="0" 
Height="25" TextAlignment="Right"><Run Text="操作日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="qjlxbgrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="3" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_sdate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="qjlxbgrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="4" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_sdate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="4" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Comboxfx16"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="5" Grid.Column="3" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                 <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbutto"  Click="{m:Exp Str=pipelinesearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=pipelinesearch.DataContext.f_userid\=null;
								 pipelinesearch.DataContext.f_address\=null;
								 pipelinesearch.DataContext.f_gasproperties\=null;
								 pipelinesearch.DataContext.f_filiale\=null;
								 pipelinesearch.DataContext.f_yytdate2\=null;
								 pipelinesearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=pipelines.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel15.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel15" HQL="{m:Exp Str=pipelines.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad15.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{pipelines.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_address:用户地址|f_parentname:部门|f_beizhu:变更原因|f_soperator:操作人|f_sdate:操作日期$}"/>
					    <c:DownLoad x:Name="downLoad15" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel15.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="pipelines" Margin="0,0,0,24"  
            		AutoGenerateColumns="False"  IsReadOnly="True">
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="pipelineslist" WebClientInfo="{StaticResource dbclient}"
            			
            				Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_priceedit where \{pipelinesearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_priceedit where \{pipelinesearch.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
						
							PageIndex="{m:Exp Str=pagery.PageIndex}" PageSize="{m:Exp Str=pagery.PageSize}" SumNames="id"/>
                                </a:Data.Items>

                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn Header="序号" Binding="{Binding Index}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="用户姓名" Binding="{Binding f_username}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="用户地址" Binding="{Binding f_address}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="部门" Binding="{Binding f_parentname}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="变更原因" Binding="{Binding f_beizhu}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="操作人" Binding="{Binding f_soperator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_sdate,StringFormat=yyyy-MM-dd}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                            <!--信息列表-->

                            <!--信息列表按钮-->
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <!--操作区按钮-->
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=pipeline1.DataContext.IsBusy}" Grid.Column="1" Margin="8,0,0,0">
                        <Grid Background="{x:Null}" x:Name="pipeline1" >
                            <a:Data.Context>
                                <!--o:GeneralObject  Name="pipelinego" WebClientInfo="{StaticResource dbclient}" 
		EntityType="t_stopgas" Source="{m:Exp Str=pipelines.SelectedItem}"
		IsInit="{m:Exp Str='SaveAction.State==$End'}"        	>
            			<o:PropertySetter PropertyName="f_userstate"  />
					</o:GeneralObject-->
                                <o:GeneralObject  Name="pipelinego1" WebClientInfo="{StaticResource dbclient}" 
		EntityType="t_priceedit" 
		    Source="{m:Exp Str=pipelines.SelectedItem}"
 >

                                </o:GeneralObject>
                            </a:Data.Context>
                            <!--主操作区-->
                            <StackPanel HorizontalAlignment="Right"  VerticalAlignment="Bottom" Orientation="Horizontal" Margin="0" >

                            </StackPanel>
                            <Grid Margin="0,6,0,45" >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>

                                    <ColumnDefinition Width="1*"/>

                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="66"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                </Grid.RowDefinitions>
                                <TextBlock TextWrapping="Wrap" Text="用户编号：" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,6"/>
                                <TextBlock Grid.Column="2" Margin="0,6,8,6" TextWrapping="Wrap" Text="用户姓名：" HorizontalAlignment="Right"/>
                                <TextBlock Margin="0,6" Grid.Row="1" TextWrapping="Wrap" Text="用户地址：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,6" Grid.Row="2" TextWrapping="Wrap" Text="用户类型：" Height="25" TextAlignment="Right"/>

                                <TextBlock Margin="0,6" Grid.Row="8" TextWrapping="Wrap" Text="操 作 人：" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="2"/>
                                <TextBlock Margin="0,6" Grid.Row="6" TextWrapping="Wrap" Text="部      门：" HorizontalAlignment="Right" d:LayoutOverrides="Height"/>
                                <TextBlock Margin="0,6" Grid.Row="8" TextWrapping="Wrap" Text="操作日期：" HorizontalAlignment="Right" VerticalAlignment="Center" Foreground="Black"/>
                                <TextBox Text="{m:Bind Path=f_userid}" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0,6" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}"  Grid.Column="3" Margin="0,6" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_address}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0,6" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_usertype}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_usertype" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gasproperties}" Grid.Column="1" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasproperties"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gaspricetype}" Grid.Column="3" Margin="0,6" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" d:LayoutOverrides="Height">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaspricetype" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gasprice}" Grid.Column="3" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" d:LayoutOverrides="Height">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasprice" />
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBlock Margin="0,6,8,10" Grid.Row="2" TextWrapping="Wrap" Grid.Column="2" Text="气　　价：" HorizontalAlignment="Right" d:LayoutOverrides="Height"/>
                                <TextBlock Margin="0,8,8,8" Grid.Row="1" TextWrapping="Wrap" Grid.Column="2" Text="气价类型：" HorizontalAlignment="Right" d:LayoutOverrides="Height"/>
                                <TextBlock Margin="0,6" Grid.Row="3" TextWrapping="Wrap" Text="用气性质：" HorizontalAlignment="Right" VerticalAlignment="Center"/>



                                <TextBox Text="{m:Bind Path=f_gaspropertiesedit}" Grid.Column="1" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaspropertiesedit"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gaspricetypeedit}" Grid.Column="3" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" d:LayoutOverrides="Height">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaspricetypeedit" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gaspriceedit}" Grid.Column="3" Margin="0,6" Grid.Row="6" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" d:LayoutOverrides="Height">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaspriceedit" />
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBlock Margin="0" Grid.Row="6" TextWrapping="Wrap" Grid.Column="2" Text="修改后气价：" HorizontalAlignment="Right" d:LayoutOverrides="Height" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,8,8,8" Grid.Row="5" TextWrapping="Wrap" Grid.Column="2" Text="修改后气价类型：" d:LayoutOverrides="Height" HorizontalAlignment="Right" TextAlignment="Center"/>
                                <TextBlock Margin="0,6,-2,10" Grid.Row="5" TextWrapping="Wrap" Text="修改后用气性质：" HorizontalAlignment="Right" d:LayoutOverrides="Height"/>



                                <TextBox Text="{m:Bind Path=f_soperator}" Grid.Column="3" Margin="0,6" Grid.Row="8" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_soperator"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_parentname}" Grid.Column="1" Margin="0,6" Grid.Row="6" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="Auto">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_parentname" />
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_sdate}" Grid.Column="1" Margin="0,6" Grid.Row="8" VerticalAlignment="Stretch" IsEnabled="False">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_sdate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <!--隐藏域-->
                                <!--卡号-->
                                <TextBox Text="{m:Bind Path=f_cardid}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cardid"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--卡内气量-->
                                <TextBox Text="{m:Bind Path=f_gas}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gas"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--购气次数-->
                                <TextBox Text="{m:Bind Path=f_times}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_times"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--厂家别名-->
                                <TextBox Text="{m:Bind Path=f_aliasname}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_aliasname" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0,6" Grid.Row="9" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" HorizontalAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0,6" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale" 
									/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,6" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="9" HorizontalAlignment="Right"  Grid.Column="2" Height="27" />
                                <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,6" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_fengongsinum" NotNull="True"
									Default="{m:Exp Str=LoginUser.f_fengongsinum}"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Row="7" TextWrapping="Wrap" Text="备注：" HorizontalAlignment="Right" Margin="0,0,0,25" VerticalAlignment="Bottom"/>
                                <TextBox Text="{m:Bind Path=f_beizhu}" Grid.Column="1" Margin="0,6" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" Grid.ColumnSpan="3">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_beizhu"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                <toolkit:TimePicker Value="{m:Bind Path=f_yyttime}"  Grid.Column="3" Margin="0,6" Grid.Row="9"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_yyttime" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                            </Grid>
                        </Grid>
                    </toolkit:BusyIndicator>
                    <sdk:DataPager x:Name="pagery" Source="{Binding Path=ItemsSource.Count,ElementName=pipelines,Converter={StaticResource DataPagerConverter}}"   Margin="1,0,0,45" PageSize="22" Height="24" VerticalAlignment="Bottom"/>
                </Grid>
            </sdk:TabItem>


            <sdk:TabItem Header="订正气表品牌" Height="27" VerticalAlignment="Bottom">


                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=pipelinesy.ItemsSource.IsBusy or toExcel16.IsBusy}">
                        <toolkit:DockPanel >
                            <!--信息列表按钮-->
                            <toolkit:DockPanel  toolkit:DockPanel.Dock="Bottom" Margin="0" Height="45">
                                <!--信息列表翻页-->
                                <TextBlock  TextWrapping="Wrap" Text="{m:Exp Str=$共\{pipelinesy.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" VerticalAlignment="Bottom" Margin="0,0,0,10"/>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel x:Name="pipelinesearchy" toolkit:DockPanel.Dock="Top" Margin="0,0,0,5"  VerticalAlignment="Top" Background="#FFCFEFFF">
                                <a:Data.Context>
                                    <o:SearchObject  />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height=" 28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbuttony" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Text="用户地址：" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Row="1" Grid.Column="1" Text="{m:Bind Path=f_address}" a:ControlAttach.DefaultButton="searchbuttony" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_address" Operator="f_address like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>


                                    <TextBlock TextWrapping="Wrap" Grid.Row="2" Grid.Column="0" Margin="0" 
Height="25" TextAlignment="Right"><Run Text="操作日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="dzqbpprq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="2" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_sdate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="dzqbpprq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="3" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_sdate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="3" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Comboxfxy"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="3" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                 <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbuttony"  Click="{m:Exp Str=pipelinesearchy.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=pipelinesearchy.DataContext.f_userid\=null;
								 pipelinesearchy.DataContext.f_address\=null;
								 pipelinesearchy.DataContext.f_filiale\=null;
								 pipelinesearchy.DataContext.f_yytdate2\=null;
								 pipelinesearchy.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=pipelinesy.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel16.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel16" HQL="{m:Exp Str=pipelinesy.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad16.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{pipelinesy.ItemsSource.Count\}/f_userid:用户编号|f_address:用户地址|f_parentname:部门|f_soperator:操作人|f_sdate:操作日期$}"/>
					    <c:DownLoad x:Name="downLoad16" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel16.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="pipelinesy" Margin="0,0,0,24"  
            		AutoGenerateColumns="False"  IsReadOnly="True">
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="pipelineslisty" WebClientInfo="{StaticResource dbclient}"
            			    
            				Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_metertypeedity where \{pipelinesearchy.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_metertypeedity where \{pipelinesearchy.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
							PageIndex="{m:Exp Str=pager.PageIndex}" PageSize="{m:Exp Str=pager.PageSize}" SumNames="id"/>
                                </a:Data.Items>

                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn Header="序号" Binding="{Binding Index}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="用户地址" Binding="{Binding f_address}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="部门" Binding="{Binding f_parentname}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="操作人" Binding="{Binding f_soperator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_sdate,StringFormat=yyyy-MM-dd}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                            <!--信息列表-->

                            <!--信息列表按钮-->
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <!--操作区按钮-->
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=pipeliney.DataContext.IsBusy}" Grid.Column="1" Margin="8,0,0,0">
                        <Grid Background="{x:Null}" x:Name="pipeliney">
                            <a:Data.Context>
                                <!--o:GeneralObject  Name="pipelinego" WebClientInfo="{StaticResource dbclient}" 
		EntityType="t_stopgas" Source="{m:Exp Str=pipelines.SelectedItem}"
		IsInit="{m:Exp Str='SaveAction.State==$End'}"        	>
            			<o:PropertySetter PropertyName="f_userstate"  />
					</o:GeneralObject-->
                                <o:GeneralObject  Name="pipelinegoy" WebClientInfo="{StaticResource dbclient}" 
		EntityType="t_metertypeedity" 
		    Source="{m:Exp Str=pipelinesy.SelectedItem}"
 >

                                </o:GeneralObject>
                            </a:Data.Context>
                            <!--主操作区-->
                            <StackPanel HorizontalAlignment="Right"  VerticalAlignment="Bottom" Orientation="Horizontal" Margin="0" >
                                <!--<Button x:Name="save" Content="保 存" Margin="5" 
            			IsEnabled="{m:Exp Str=pipeliney.DataContext.IsModified and !pipeliney.DataContext.HasErrors}"
            			Click="{m:Exp Str=SaveAction.Invoke()}" Width="50"/>
            		<Button Content="撤 销" Margin="5" Click="{m:Exp Str=userfiles.New();pipeliney.DataContext.New()}" Width="50" />
                    -->
                            </StackPanel>
                            <Grid Margin="0,0,0,44" VerticalAlignment="Stretch" >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                </Grid.RowDefinitions>
                                <TextBlock Margin="15,4,8,1" Grid.Row="5" TextWrapping="Wrap" Height="25" Grid.ColumnSpan="3" FontWeight="Bold" Foreground="#FFC66969"><Run Text="--以下为修改后信息--"/></TextBlock>
                                <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="0" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="4" Margin="0" TextWrapping="Wrap" Text="用户姓名：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="用户地址：" Height="25" TextAlignment="Right"/>
                                <!--<TextBlock Margin="0,6" Grid.Row="2" TextWrapping="Wrap" Text="身份证号：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
            		 -->
                                <TextBlock Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="操 作 人：" Grid.Column="2" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="4" Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="部      门：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="操作日期：" Foreground="Black" Height="25" TextAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_userid}" Grid.Column="1" IsReadOnly="True" HorizontalAlignment="Stretch" Margin="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}" Grid.Column="5" Margin="0" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_address}" Grid.ColumnSpan="5" Grid.Column="1" Margin="0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address" />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--<TextBox Text="{m:Bind Path=f_idnumber}" Grid.ColumnSpan="3" Grid.Column="1" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
            			<a:Data.Prop>
            				<o:PropertySetter PropertyName="f_idnumber" Value="{m:Exp Str=userfiles.f_idnumber\=>Completed}" />
            			</a:Data.Prop>
            		</TextBox>-->
                                <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="1" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrand"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metertype}" Grid.Column="3" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metertype" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_type}" Grid.Column="5" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_type"  />
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Grid.Column="4" Text="类　　型：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Grid.Column="2" Text="气表型号：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="气表品牌：" Height="25" TextAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_watchnum}" Grid.Column="1" Margin="0" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_watchnum"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_maichong}" Grid.Column="3" Margin="0" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_maichong"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_aliasname}" Grid.Column="5" Margin="0" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_aliasname" />
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBlock Margin="0" Grid.Row="3" TextWrapping="Wrap" Grid.Column="4" Text="额定流量：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="3" TextWrapping="Wrap" Grid.Column="2" Text="气表类型：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="气表厂家：" Height="25" TextAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_gasmetermanufacturers}" Grid.Column="1" Margin="0" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasmetermanufacturers"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gasmeterstyle}" Grid.Column="3" Margin="0" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasmeterstyle"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_flownum}" Grid.Column="5" Margin="0" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_flownum" />
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Grid.Column="4" Text="别　　名：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Grid.Column="2" Text="脉冲/表系数：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="海力表型编码：" Height="25" TextAlignment="Right"/>


                                <TextBlock Margin="0" Grid.Row="7" TextWrapping="Wrap" Text="气表厂家：" TextAlignment="Right" Height="25"/>
                                <TextBlock Margin="0" Grid.Row="7" TextWrapping="Wrap" Text="气表类型：" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                <TextBlock Margin="0" Grid.Row="7" TextWrapping="Wrap" Text="额定流量：" d:LayoutOverrides="Width" Grid.Column="4" Height="25" TextAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_gasmetermanufacturersedit}" Grid.Column="1" Margin="0" Grid.Row="7" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasmetermanufacturersedit" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gasmeterstyleedit}"  Grid.Column="3" Margin="0" Grid.Row="7" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasmeterstyleedit"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_flownumedit}" Grid.Column="5" Margin="0" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" TextAlignment="Center">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_flownumedit"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="海力表型编码：" TextAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_watchnumedit}"  Grid.Column="1" Margin="0" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_watchnumedit"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="脉冲/表系数：" TextAlignment="Right" Grid.Column="2" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_maichongedit}"  Grid.Column="3" Margin="0" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True" Height="25" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_maichongedit"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="别名：" Height="25" TextAlignment="Right" Grid.Column="4"/>
                                <TextBox Text="{m:Bind Path=f_aliasnameedit}" Grid.Column="5" Margin="0" Grid.Row="8" TextWrapping="Wrap" Grid.RowSpan="1" Height="25" VerticalAlignment="Stretch" IsReadOnly="True" HorizontalAlignment="Stretch" TextAlignment="Center" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_aliasnameedit" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="气表品牌：" Margin="0" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Text="气表型号：" Grid.Column="2" Margin="0" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>
                                <TextBlock Text="类型：" Grid.Column="4" Margin="0" Grid.Row="6" TextWrapping="Wrap" TextAlignment="Right" Height="25"/>


                                <TextBox Text="{m:Bind Path=f_gaswatchbrandedit}" Grid.Column="1" IsReadOnly="True" Margin="0" Grid.Row="6" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" TextAlignment="Center">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrandedit"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metertypeedit}" Grid.Column="3" IsReadOnly="True" Margin="0" Grid.Row="6" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" TextAlignment="Center">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metertypeedit"/>
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBox Text="{m:Bind Path=f_typeedit}" Grid.Column="5" IsReadOnly="True" Margin="0" Grid.Row="6" TextWrapping="Wrap" Height="25" VerticalAlignment="Stretch" TextAlignment="Center">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_typeedit"/>
                                    </a:Data.Prop>
                                </TextBox>


                                <TextBox Text="{m:Bind Path=f_soperator}" Grid.Column="3" Margin="0" Grid.Row="9" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_soperator"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_parentname}" Grid.Column="5" Margin="0" Grid.Row="9" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" TextAlignment="Center">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_parentname"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_sdate}" Grid.Column="1" Margin="0" Grid.Row="9" VerticalAlignment="Stretch" IsEnabled="False" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_sdate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>

                                <TextBlock Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0" Grid.Row="10" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" TextAlignment="Center" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale" 
									/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                <toolkit:TimePicker Value="{m:Bind Path=f_stime}"  Grid.Column="3" Margin="0" Grid.Row="10"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_stime" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>

                            </Grid>
                        </Grid>
                    </toolkit:BusyIndicator>
                    <sdk:DataPager x:Name="pager" Source="{Binding Path=ItemsSource.Count,ElementName=pipelinesy,Converter={StaticResource DataPagerConverter}}"   Margin="1,0,0,45" PageSize="22" Height="24" VerticalAlignment="Bottom"/>                   
                </Grid>
            </sdk:TabItem>

            <sdk:TabItem Header="掉气登记" Height="27" VerticalAlignment="Bottom">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=pipelines1.ItemsSource.IsBusy or toExcel17.IsBusy}">
                        <toolkit:DockPanel >
                            <!--信息列表按钮-->
                            <toolkit:DockPanel  toolkit:DockPanel.Dock="Bottom" Margin="0" Height="45">
                                <!--信息列表翻页-->
                                <TextBlock  TextWrapping="Wrap" Text="{m:Exp Str=$共\{pipelines1.ItemsSource.Count\}项}" Width="197" HorizontalAlignment="Stretch" Foreground="#FF140000" VerticalAlignment="Stretch" Margin="5"/>
                                <!--提交审核-->
                            </toolkit:DockPanel>
                            <toolkit:DockPanel  toolkit:DockPanel.Dock="Top" x:Name="lostgasinfo1" Margin="0,0,0,5" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject  />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Text="用户姓名：" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="1" Text="{m:Bind Path=f_username}" a:ControlAttach.DefaultButton="searchbutton" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_username" Operator="f_username like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Text="卡　　号：" Grid.Row="2" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Grid.Row="2" Text="{m:Bind Path=f_cardid}" a:ControlAttach.DefaultButton="searchbutton" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_cardid" Operator="f_cardid like '%this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>


                                    <TextBlock TextWrapping="Wrap" Grid.Row="3" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right"><Run Text="操作日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="dqdjrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="3" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_cmdate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="dqdjrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="4" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_cmdate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="4" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Comboxfxy1"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="3" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                 <StackPanel Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="lostgasinfobuttony"  Click="{m:Exp Str=lostgasinfo1.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=lostgasinfo1.DataContext.f_userid\=null;
								 lostgasinfo1.DataContext.f_username\=null;
								 lostgasinfo1.DataContext.f_cardid\=null;
								 lostgasinfo1.DataContext.f_filiale\=null;
								 lostgasinfo1.DataContext.f_yytdate2\=null;
								 lostgasinfo1.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=pipelines1.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel17.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel17" HQL="{m:Exp Str=pipelines1.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad17.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{pipelines1.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_cardid:卡号|f_gaswatchbrand:表品牌|f_cmaddgas:补气量$}"/>
					    <c:DownLoad x:Name="downLoad17" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel17.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
							   
							   
							   
							    </Grid>
                            </toolkit:DockPanel>
                            <sdk:DataGrid  Margin="0,0,0,23"  x:Name="pipelines1"
            		AutoGenerateColumns="False"  IsReadOnly="True">
                                <a:Data.Items>
                                    <o:PagedObjectList  WebClientInfo="{StaticResource dbclient}"
            				Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_lostgas where \{lostgasinfo1.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_lostgas where \{lostgasinfo1.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
							PageIndex="{m:Exp Str=pager20.PageIndex}" PageSize="{m:Exp Str=pager20.PageSize}" SumNames="f_times"/>
                                </a:Data.Items>

                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn Header="序号" Binding="{Binding Index}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="用户姓名" Binding="{Binding f_username}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="卡号" Binding="{Binding f_cardid}" d:IsLocked="True"/>

                                    <sdk:DataGridTextColumn Header="表品牌" Binding="{Binding f_gaswatchbrand}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="补气量" Binding="{Binding f_cmaddgas}" d:IsLocked="True"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                            <!--信息列表-->

                            <!--信息列表按钮-->
                        </toolkit:DockPanel >
                    </toolkit:BusyIndicator>
                    <!--操作区按钮-->
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=pipelines1.DataContext.IsBusy}" Grid.Column="1" Margin="8,0,0,0">
                        <Grid Background="{x:Null}"  >
                            <a:Data.Context>
                                <!--o:GeneralObject  Name="pipelinego2" WebClientInfo="{StaticResource dbclient}" 
		                     EntityType="t_changmeter" Source="{m:Exp Str=pipelines.SelectedItem}"
		                  >

		            </o:GeneralObject-->
                                <o:GeneralObject   WebClientInfo="{StaticResource dbclient}" 
							 Source="{m:Exp Str=pipelines1.SelectedItem}"
		                      >
                                </o:GeneralObject>
                            </a:Data.Context>

                            <Grid Margin="0,0,0,45" Grid.Column="0" >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="1" />
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="1" />
                                    <RowDefinition Height="1" />
                                    <RowDefinition Height="1" />
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="40" />
                                    <RowDefinition Height="1" />
                                    <RowDefinition Height="40" />
                                    <RowDefinition Height="1" />
                                    <RowDefinition Height="60" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                </Grid.RowDefinitions>
                                <TextBlock Margin="0,3,0,2" TextWrapping="Wrap" Text="用户编号：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,2" TextWrapping="Wrap" Text="用户姓名：" Grid.Row="1" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,2" TextWrapping="Wrap" Text="用户类型：" Grid.Row="4" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,2" Grid.Row="2" TextWrapping="Wrap" Text="小区地址：" Height="25" TextAlignment="Right" Grid.Column="2"/>
                                <TextBlock Grid.Column="4" Margin="0,3,0,2" Grid.Row="1" TextWrapping="Wrap" Text="开户日期：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,2" Grid.Row="2" TextWrapping="Wrap" Text="小区名称：" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="2" Margin="0,3,0,2" Grid.Row="1" TextWrapping="Wrap" Text="电      话：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" Text="气表品牌：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" Text="表      号：" Height="25" TextAlignment="Right" Grid.Column="4"/>
                                <TextBlock Grid.Column="2" Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" Text="气表型号：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,2" TextWrapping="Wrap" Text="卡内气量：" Grid.Column="4" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="2" Margin="0,3,0,2" Grid.Row="4" TextWrapping="Wrap" Text="开户表底数：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,2" Grid.Row="4" TextWrapping="Wrap" Text="总累计购气量：" Height="25" TextAlignment="Right" Grid.Column="4"/>
                                <TextBlock Margin="0,3,0,2" Grid.Row="5" TextWrapping="Wrap" Text="表累计购气量：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,2" Grid.Row="5" TextWrapping="Wrap" Text="码盘数：" Grid.Column="2" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,2" Grid.Row="5" TextWrapping="Wrap" Text="补 气 量：" Height="25" TextAlignment="Right" Grid.Column="4"/>
                                <TextBlock Margin="0,18,0,17" Grid.Row="16" TextWrapping="Wrap" Text="备      注：" Height="25" TextAlignment="Right"/>
                                <TextBlock Margin="0,3,0,2" Grid.Row="17" TextWrapping="Wrap" Text="网      点：" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="2" Margin="0,3,0,2" Grid.Row="17" TextWrapping="Wrap" Text="维修人：" Height="25" TextAlignment="Right"/>
                                <TextBlock Grid.Column="4" Margin="0,3,0,2" Grid.Row="17" TextWrapping="Wrap" Text="操作日期：" Height="25" TextAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_userid}" Grid.Column="1" IsReadOnly="True" HorizontalAlignment="Stretch" Margin="0,3,0,2" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}" Grid.Column="1" Margin="0,3,0,2" TextWrapping="Wrap" VerticalAlignment="Stretch" Grid.Row="1" Grid.ColumnSpan="1" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="1" Margin="0,3,0,2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Grid.Row="4" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_usertype"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_address}" Grid.ColumnSpan="1" Grid.Column="3" Margin="0,3,0,2" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_dateofopening}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="1" VerticalAlignment="Stretch" IsEnabled="False" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_dateofopening" 
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBox Text="{m:Bind Path=f_districtname}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" Grid.ColumnSpan="1" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_districtname"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_phone}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_phone"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrand" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_meternumber}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" HorizontalAlignment="Stretch" Width="Auto">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_meternumber" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metertype}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metertype"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gas}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Grid.ColumnSpan="1" Height="25" IsReadOnly="True" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gas" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_currentbase}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsHitTestVisible="True" IsReadOnly="True" Height="25" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_currentbase"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cumulativepurchase}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsHitTestVisible="True" IsReadOnly="True" Height="25" HorizontalAlignment="Stretch" Width="Auto">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cumulativepurchase"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metergasnums}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metergasnums"
								 />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_oldcurrentbase}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="5" IsReadOnly="True" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_oldcurrentbase" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cmaddgas}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="5" IsReadOnly="True" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="25" HorizontalAlignment="Stretch" Width="Auto">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cmaddgas" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cnote}" Grid.ColumnSpan="5" IsReadOnly="True" Grid.Column="1" Margin="0,1" Grid.Row="16" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cnote" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_parentname4}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="17" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_parentname4" 
								/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cmoperator}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="17" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cmoperator" />
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_cmdate}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="17" VerticalAlignment="Stretch" IsEnabled="False" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cmdate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <StackPanel Grid.Column="3" Orientation="Horizontal"/>
                                <!--隐藏域-->
                                <!--补气类型-->
                                <TextBox Text="{m:Bind Path=f_addgastype}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_addgastype" Default="换表补气" />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--卡内气量-->
                                <TextBox Text="{m:Bind Path=f_pregas}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_pregas" />
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBlock Margin="0,3,0,2" Grid.Row="18" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="18" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale" 
								/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,3,0,2" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="18"  Grid.Column="2" Height="25" />
                                <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,3,0,2" Grid.Row="18" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_fengongsinum" NotNull="True"
								Default="{m:Exp Str=LoginUser.f_fengongsinum}"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0,3,0,2" Grid.Row="2" TextWrapping="Wrap" Text="门牌号：" Height="25" TextAlignment="Right" Grid.Column="4"/>
                                <TextBox Text="{m:Bind Path=f_apartment}" Grid.ColumnSpan="1" Grid.Column="5" Margin="0,3,0,2" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25" HorizontalAlignment="Stretch" Width="Auto">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_apartment" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="49,3,0,2" TextWrapping="Wrap" Text="卡 号：" Grid.Column="2" Height="25" TextAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_cardid}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="0" TextWrapping="Wrap" VerticalAlignment="Stretch" Grid.ColumnSpan="1" Height="25" IsReadOnly="True" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cardid"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Row="14" TextWrapping="Wrap" Text="处理结果：" Height="25" TextAlignment="Right" Margin="0,10,0,5"/>
                                <TextBox Text="{m:Bind Path=f_jieguo}" Grid.ColumnSpan="5" IsReadOnly="True" Grid.Column="1" Margin="0" Grid.Row="14" TextWrapping="Wrap" VerticalAlignment="Stretch" Grid.RowSpan="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_jieguo" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Row="12" TextWrapping="Wrap" Text="故障原因：" Height="25" TextAlignment="Right" Margin="0,10,0,5"/>
                                <TextBox Text="{m:Bind Path=f_yuanyin}" Grid.ColumnSpan="5" IsReadOnly="True" Grid.Column="1" Margin="0,1,0,0" Grid.Row="12" TextWrapping="Wrap" VerticalAlignment="Stretch" Grid.RowSpan="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_yuanyin" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="18" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                <toolkit:TimePicker Value="{m:Bind Path=f_time}"  Grid.Column="3" Margin="0" Grid.Row="18"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_time" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                            </Grid>
                        </Grid>
                    </toolkit:BusyIndicator>
                    <sdk:DataPager x:Name="pager20" Source="{Binding Path=ItemsSource.Count,ElementName=pipelines1,Converter={StaticResource DataPagerConverter}}"  Margin="1,0,0,43" PageSize="15" Height="24" VerticalAlignment="Bottom"/>
                </Grid>
            </sdk:TabItem>

            <sdk:TabItem Header="过户" Height="27" VerticalAlignment="Bottom">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <c:BusyIndicatorEx BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=applys.ItemsSource.IsBusy or toExcel18.IsBusy}">
                        <toolkit:DockPanel >
                            <toolkit:DockPanel x:Name="applysearch"  Background="#FFCFEFFF" toolkit:DockPanel.Dock="Top" Margin="0,0,0,5" >
                                <a:Data.Context>
                                    <o:SearchObject  />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>

                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="0" Height="28" VerticalAlignment="Bottom" TextAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Text="{m:Bind Path=f_userid}"  Margin="0" Grid.Row="0" Grid.Column="1" d:LayoutOverrides="HorizontalAlignment, GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>


                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Grid.Column="0" Margin="0" 
Height="25" TextAlignment="Right"><Run Text="过户日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="ghrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="1" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_f_tdate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="ghrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="2" Grid.Column="1" 
                                        a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_f_tdate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="2" Margin="0" Height="25" TextAlignment="Right" d:LayoutOverrides="GridBox"/>

                                    <ComboBox Name="Comboxfxy21"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25" d:LayoutOverrides="HorizontalAlignment, GridBox">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                    <StackPanel Grid.Row="2" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbutton21"  Click="{m:Exp Str=applysearch.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=applysearch.DataContext.f_userid\=null;
								 applysearch.DataContext.f_filiale\=null;
								 applysearch.DataContext.f_yytdate2\=null;
								 applysearch.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=applys.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel18.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel18" HQL="{m:Exp Str=applys.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad18.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{applys.ItemsSource.Count\}/f_userid:用户编号|f_tnewusername:用户姓名|f_username:新用户姓名|f_address:用户地址|f_notnull:备注|f_departments:部门|f_toperator:操作人|f_tdate:操作日期$}"/>
					    <c:DownLoad x:Name="downLoad18" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel18.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
                                </Grid>
                            </toolkit:DockPanel>

                            <toolkit:DockPanel  Background="{x:Null}" toolkit:DockPanel.Dock="Bottom" Margin="0"  Height="45" >
                                <!--信息列表翻页-->
                                <TextBlock TextWrapping="Wrap" Text="{m:Exp Str=$共\{applys.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" VerticalAlignment="Bottom" Margin="0,0,0,10"/>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="applys" Margin="0,0,0,24"  
				AutoGenerateColumns="False"  Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList  WebClientInfo="{StaticResource dbclient}"
                     Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_transfer where \{applysearch.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_transfer where \{applysearch.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
					 PageIndex="{m:Exp Str=pager21.PageIndex}" PageSize="{m:Exp Str=pager21.PageSize}" SumNames="id"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn Header="序号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn Header="用户姓名" Binding="{Binding f_tnewusername}"/>
                                    <sdk:DataGridTextColumn Header="新用户姓名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="用户地址" Binding="{Binding f_address}"/>
                                    <sdk:DataGridTextColumn Header="备注" Binding="{Binding f_notnull}"/>
                                    <sdk:DataGridTextColumn Header="部门" Binding="{Binding f_departments}"/>
                                    <sdk:DataGridTextColumn Header="操作人" Binding="{Binding f_toperator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_tdate,StringFormat=yyyy-MM-dd}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                            <!--信息列表-->

                            <!--信息列表按钮-->
                        </toolkit:DockPanel >
                    </c:BusyIndicatorEx>
                    <!--操作区按钮-->
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=applys.DataContext.IsBusy}"  Grid.Column="1" Margin="8,0,0,0">


                        <!--主操作区-->
                        <a:Data.Context>
                            <o:GeneralObject   WebClientInfo="{StaticResource dbclient}" 
							 Source="{m:Exp Str=applys.SelectedItem}"
							 >
                            </o:GeneralObject>
                        </a:Data.Context>

                        <Grid HorizontalAlignment="Stretch" Height="Auto" d:LayoutOverrides="Width" Margin="0,0,0,45">
                            <Grid.Background>
                                <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                    <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                    <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                </LinearGradientBrush>
                            </Grid.Background>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="110"/>
                                <ColumnDefinition Width="1*"/>
                                <ColumnDefinition Width="110"/>
                                <ColumnDefinition Width="1*"/>
                                <ColumnDefinition Width="110"/>
                                <ColumnDefinition Width="1*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="35"/>
                                <RowDefinition Height="1"/>
                                <RowDefinition Height="35"/>
                                <RowDefinition Height="35"/>
                                <RowDefinition Height="35"/>
                                <RowDefinition Height="35"/>
                                <RowDefinition Height="35"/>
                                <RowDefinition Height="45"/>
                                <RowDefinition Height="35" />
                                <RowDefinition Height="35"/>
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <TextBlock Margin="0,6" TextWrapping="Wrap" Text="用户编号：" HorizontalAlignment="Right"/>
                            <TextBlock Margin="0,6" TextWrapping="Wrap" Text="用户姓名：" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Row="2"/>
                            <TextBlock Margin="0" TextWrapping="Wrap" Text="用户地址：" Grid.Column="2" Height="25" TextAlignment="Right"/>
                            <TextBlock Margin="0,6" Grid.Row="2" TextWrapping="Wrap" Text="电     话：" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="4"/>
                            <TextBlock Grid.Column="2" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" Text="身份证号：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                            <TextBlock Margin="0,6" Grid.Row="3" TextWrapping="Wrap" Text="新用户姓名：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                            <TextBlock Grid.Column="0" Margin="0,6" Grid.Row="4" TextWrapping="Wrap" Text="银行开户名：" TextAlignment="Right" />
                            <TextBlock Grid.Column="2" Margin="0,6" Grid.Row="4" TextWrapping="Wrap" Text="银行名：" TextAlignment="Right" />
                            <TextBlock Grid.Column="4" Margin="0,6" Grid.Row="4" TextWrapping="Wrap" Text="银行账号：" TextAlignment="Right" />
                            <TextBlock Grid.Column="0" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" Text="新银行开户名：" TextAlignment="Right" />
                            <TextBlock Grid.Column="2" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" Text="新银行名：" TextAlignment="Right" />
                            <TextBlock Grid.Column="4" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" Text="新银行账号：" TextAlignment="Right" />
                            <TextBlock Grid.Column="4" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" Text="新 电 话：" TextAlignment="Right" />
                            <TextBlock Margin="0,6" Grid.Row="3" TextWrapping="Wrap" Text="新身份证号：" VerticalAlignment="Center" HorizontalAlignment="Right" Grid.Column="2"/>
                            <TextBlock Margin="0,6" Grid.Row="6" TextWrapping="Wrap" Text="过 户 费：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                            <TextBlock Margin="0,6" Grid.Row="7" TextWrapping="Wrap" Text="备     注：" HorizontalAlignment="Right"/>
                            <TextBlock Margin="0,6" Grid.Row="6" TextWrapping="Wrap" Text="过户日期:：" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="2"/>
                            <TextBlock Margin="0,6" Grid.Row="8" TextWrapping="Wrap" Text="部     门：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                            <TextBlock Margin="0,6" Grid.Row="8" TextWrapping="Wrap" Text="操 作 人：" VerticalAlignment="Center" HorizontalAlignment="Right" Grid.Column="2"/>
                            <TextBlock Grid.Column="4" Margin="0,6" Grid.Row="8" TextWrapping="Wrap" Text="操作日期：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                            <TextBox Text="{m:Bind Path=f_userid}" IsReadOnly="True" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0,6" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_userid" />

                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_username}"  Grid.Column="1" Margin="0,6" TextWrapping="Wrap" VerticalAlignment="Center" Grid.Row="2" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_username" />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_address}" Grid.ColumnSpan="3" Grid.Column="3" Margin="0" Grid.Row="0" TextWrapping="Wrap" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" IsReadOnly="True" Height="25">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_address"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_phone}" Grid.Column="5" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_phone"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_idnumber}" Grid.Column="3" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_idnumber"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_tnewusername}" Grid.Column="1" Margin="0,6" IsReadOnly="True" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Center">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_tnewusername"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_tnewphone}" Grid.Column="5" IsReadOnly="True" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Center">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_tnewphone"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_tnewidnumber}" Grid.Column="3" IsReadOnly="True" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Center">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_tnewidnumber"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_nusermc}" Grid.Column="1" Margin="0,6" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_nusermc"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_nbankname}" Grid.Column="3" Margin="0,6" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_nbankname"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_nidofcard}" Grid.Column="5" Margin="0,6" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_nidofcard"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_newnusermc}" Grid.Column="1" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_newnusermc"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_newnbankname}" Grid.Column="3" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_newnbankname"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_newnidofcard}" Grid.Column="5" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_newnidofcard"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_transferfee}" Grid.Column="1" Margin="0,6" Grid.Row="6" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_transferfee"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_notnull}" Grid.ColumnSpan="5" IsReadOnly="True" Grid.Column="1" Margin="0,6" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Stretch"  HorizontalAlignment="Stretch">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_notnull" />
                                </a:Data.Prop>
                            </TextBox>
                            <sdk:DatePicker SelectedDate="{m:Bind Path=f_f_tdate}" Grid.Column="3" Margin="0,6" Grid.Row="6" IsEnabled="False" VerticalAlignment="Center">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_f_tdate"
            					/>
                                </a:Data.Prop>
                            </sdk:DatePicker>
                            <TextBox Text="{m:Bind Path=f_departments}" Grid.Column="1" Margin="0,6" Grid.Row="8" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_departments"/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBox Text="{m:Bind Path=f_toperator}" Grid.Column="3" Margin="0,6" Grid.Row="8" TextWrapping="Wrap" VerticalAlignment="Bottom" Height="Auto" HorizontalAlignment="Stretch" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_toperator"  />
                                </a:Data.Prop>
                            </TextBox>
                            <sdk:DatePicker SelectedDate="{m:Bind Path=f_tdate}" Grid.Column="5" Margin="0,6" Grid.Row="8" VerticalAlignment="Bottom" Height="25" HorizontalAlignment="Stretch" IsEnabled="False">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_tdate"
            				/>
                                </a:Data.Prop>
                            </sdk:DatePicker>
                            <!--隐藏雨-->
                            <!--表厂别名-->
                            <TextBox Text="{m:Bind Path=f_aliasname}" Visibility="Collapsed" VerticalAlignment="Bottom" Height="Auto" HorizontalAlignment="Stretch" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_aliasname"  />
                                </a:Data.Prop>
                            </TextBox>
                            <!--卡内气量-->
                            <TextBox Text="{m:Bind Path=f_gas}" Visibility="Collapsed" VerticalAlignment="Bottom" Height="Auto" HorizontalAlignment="Stretch" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_gas"  />
                                </a:Data.Prop>
                            </TextBox>
                            <!--购气次数-->
                            <TextBox Text="{m:Bind Path=f_times}" Visibility="Collapsed" VerticalAlignment="Bottom" Height="Auto" HorizontalAlignment="Stretch" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_times"  />
                                </a:Data.Prop>
                            </TextBox>
                            <!--卡号-->
                            <TextBox Text="{m:Bind Path=f_cardid}" Visibility="Collapsed" VerticalAlignment="Bottom" Height="Auto" HorizontalAlignment="Stretch" IsReadOnly="True">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_cardid"  />
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Margin="0,4" Grid.Row="9" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" HorizontalAlignment="Right"/>
                            <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0,4" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_filiale" 
								/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,4" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="9" HorizontalAlignment="Right"  Grid.Column="2" Height="27" />
                            <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,4" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto" d:LayoutOverrides="Width">
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_fengongsinum" NotNull="True"
								/>
                                </a:Data.Prop>
                            </TextBox>
                            <TextBlock Grid.Column="2" Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                            <toolkit:TimePicker Value="{m:Bind Path=f_ttime}"  Grid.Column="3" Margin="0" Grid.Row="9"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" Grid.RowSpan="1" >
                                <a:Data.Prop>
                                    <o:PropertySetter PropertyName="f_ttime" />
                                </a:Data.Prop>
                            </toolkit:TimePicker>
                        </Grid>
                    </toolkit:BusyIndicator>
                    <sdk:DataPager x:Name="pager21" Source="{Binding Path=ItemsSource.Count,ElementName=applys,Converter={StaticResource DataPagerConverter}}"  Margin="1,0,0,44" PageSize="22" Height="24" VerticalAlignment="Bottom"/>
                </Grid>
            </sdk:TabItem>

            <sdk:TabItem Header="停用" Height="27" VerticalAlignment="Bottom">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <c:BusyIndicatorEx BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=pipelines22.ItemsSource.IsBusy or toExcel19.IsBusy}">
                        <toolkit:DockPanel >
                            <!--信息列表按钮-->
                            <toolkit:DockPanel  toolkit:DockPanel.Dock="Bottom" Margin="0" Height="45">
                                <!--信息列表翻页-->
                                <TextBlock  TextWrapping="Wrap" Text="{m:Exp Str=$共\{pipelines22.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" VerticalAlignment="Bottom" Margin="0,10,0,10"/>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel x:Name="pipelinesearch1" toolkit:DockPanel.Dock="Top" Margin="0,0,0,5"  VerticalAlignment="Top" Background="#FFCFEFFF">
                                <a:Data.Context>
                                    <o:SearchObject  />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Column="1" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Text="用户姓名：" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Row="1" Grid.Column="1" Text="{m:Bind Path=f_username}" a:ControlAttach.DefaultButton="searchbutton" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_username" Operator="f_username like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Grid.Row="2" Text="用户地址：" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Grid.Row="2" Grid.Column="1" Text="{m:Bind Path=f_address}" a:ControlAttach.DefaultButton="searchbutton" Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_address" Operator="f_address like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>


                                    <TextBlock TextWrapping="Wrap" Grid.Row="3" Grid.Column="0" Margin="0"                                       Height="25" TextAlignment="Right"><Run Text="停用日期从:"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="tyrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="3" Grid.Column="1" 
                                      a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_stopdate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="tyrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="4" Grid.Column="1"                                     a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_stopdate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="4" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Comboxfx22"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="3" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                 <StackPanel Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbutton22"  Click="{m:Exp Str=pipelinesearch1.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=pipelinesearch1.DataContext.f_userid\=null;
								 pipelinesearch1.DataContext.f_username\=null;
								 pipelinesearch1.DataContext.f_address\=null;
								 pipelinesearch1.DataContext.f_filiale\=null;
								 pipelinesearch1.DataContext.f_yytdate2\=null;
								 pipelinesearch1.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=pipelines22.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel19.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel19" HQL="{m:Exp Str=pipelines22.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad19.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{pipelines22.ItemsSource.Count\}/f_userid:用户编号|f_tnewusername:用户姓名|f_address:用户地址|f_parentname:部门|f_soperator:操作人|f_sdate:操作日期$}"/>
					    <c:DownLoad x:Name="downLoad19" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel19.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="pipelines22" Margin="0,0,0,24"  
            		AutoGenerateColumns="False"  IsReadOnly="True">
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="pipelineslist22" WebClientInfo="{StaticResource dbclient}"
            			
            				Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_stopgas where \{pipelinesearch1.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_stopgas where \{pipelinesearch1.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
							
							PageIndex="{m:Exp Str=pager22.PageIndex}" PageSize="{m:Exp Str=pager22.PageSize}" SumNames="id"/>
                                </a:Data.Items>

                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn Header="序号" Binding="{Binding Index}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="用户姓名" Binding="{Binding f_username}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="用户地址" Binding="{Binding f_address}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="部门" Binding="{Binding f_parentname}" d:IsLocked="True"/>
                                    <sdk:DataGridTextColumn Header="操作人" Binding="{Binding f_soperator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_sdate,StringFormat=yyyy-MM-dd}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                            <!--信息列表-->

                            <!--信息列表按钮-->
                        </toolkit:DockPanel>
                    </c:BusyIndicatorEx>
                    <!--操作区按钮-->
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=pipeline.DataContext.IsBusy}" Grid.Column="1" Margin="8,0,0,0">
                        <Grid Background="{x:Null}" x:Name="pipeline22" >
                            <a:Data.Context>
                                <!--o:GeneralObject  Name="pipelinego" WebClientInfo="{StaticResource dbclient}" 
		EntityType="t_stopgas" Source="{m:Exp Str=pipelines.SelectedItem}"
		IsInit="{m:Exp Str='SaveAction.State==$End'}"        	>
            			<o:PropertySetter PropertyName="f_userstate"  />
					</o:GeneralObject-->
                                <o:GeneralObject  Name="pipelinego22" WebClientInfo="{StaticResource dbclient}" 
					Source="{m:Exp Str=pipelines22.SelectedItem}"
		       			>
                                    <o:PropertySetter PropertyName="f_userstate" />
                                </o:GeneralObject>
                            </a:Data.Context>
                            <!--主操作区-->
                            <StackPanel HorizontalAlignment="Right"  VerticalAlignment="Bottom" Orientation="Horizontal" Margin="0" />
                            <Grid Margin="0,6,0,45" >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1"/>
                                    <ColumnDefinition Width="1"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="66"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                </Grid.RowDefinitions>
                                <TextBlock TextWrapping="Wrap" Text="用户编号：" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,6"/>
                                <TextBlock Grid.Column="2" Margin="0" TextWrapping="Wrap" Text="用户姓名：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Margin="0,6" Grid.Row="1" TextWrapping="Wrap" Text="用户地址：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,6" Grid.Row="2" TextWrapping="Wrap" Text="身份证号：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,6" Grid.Row="3" TextWrapping="Wrap" Text="气表品牌：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="2" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" Text="气表型号：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,6" Grid.Row="4" TextWrapping="Wrap" Text="气表厂家：" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="2"/>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="用户类型：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Margin="0,6" Grid.Row="4" TextWrapping="Wrap" Text="累计购气量：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="6" TextWrapping="Wrap" Text="最后购气日期：" HorizontalAlignment="Right" Height="25"/>
                                <!--<TextBlock Margin="0,6" Grid.Row="4" TextWrapping="Wrap" Text="气表停用底数：" VerticalAlignment="Center" HorizontalAlignment="Right" Grid.Column="2"/>
            		-->
                                <TextBlock Grid.Column="2" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" Text="抄表日期：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,6" Grid.Row="5" TextWrapping="Wrap" Text="抄 表 人：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,6" Grid.Row="6" TextWrapping="Wrap" Text="停用日期：" HorizontalAlignment="Right" VerticalAlignment="Center" Foreground="Black"/>
                                <TextBlock Margin="0,2" Grid.Row="7" TextWrapping="Wrap" Text="停用原因：" HorizontalAlignment="Right"/>
                                <TextBlock Margin="0,6" Grid.Row="8" TextWrapping="Wrap" Text="操 作 人：" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="2"/>
                                <TextBlock Margin="0,0,-2,0" Grid.Row="10" TextWrapping="Wrap" Text="部      门：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Margin="0,6" Grid.Row="8" TextWrapping="Wrap" Text="操作日期：" HorizontalAlignment="Right" VerticalAlignment="Center" Foreground="Black"/>
                                <TextBox Text="{m:Bind Path=f_userid}" Grid.Column="1" IsReadOnly="True" HorizontalAlignment="Stretch" Margin="0,6" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}" Grid.Column="3" Margin="0" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username"   />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_address}" Grid.ColumnSpan="3" Grid.Column="1" Margin="0,6" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_idnumber}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_idnumber" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.Column="1" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrand" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metertype}" Grid.Column="3" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metertype"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gasmetermanufacturers}" Grid.Column="3" Margin="0,6" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasmetermanufacturers" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="3" Margin="0,0,1,0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_usertype"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cumulativepurchase}" Grid.Column="1" Margin="0,6" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cumulativepurchase" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_finallyboughtgasdate}" Grid.Column="3" Margin="0" Grid.Row="6" IsReadOnly="True" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_finallyboughtgasdate" />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--<TextBox Text="{m:Bind Path=f_gasmeteraccomodations}" Grid.Column="3" Margin="0,6" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Center">
            			<a:Data.Prop>
            				<o:PropertySetter PropertyName="f_gasmeteraccomodations" Value="{m:Exp Str=userfiles.f_gasmeteraccomodations\=>Completed}" />
            			</a:Data.Prop>
            		</TextBox>-->
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_mrdate}" Grid.Column="3" IsEnabled="False" Margin="0,6" Grid.Row="5" VerticalAlignment="Center">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_mrdate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBox Text="{m:Bind Path=f_mrperson}" Grid.Column="1" IsReadOnly="True" Margin="0,6" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Center">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_mrperson" />
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_stopdate}" Grid.Column="1" Margin="0,6" Grid.Row="6" VerticalAlignment="Center" IsEnabled="False">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_stopdate" 
								/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBox Text="{m:Bind Path=f_stopgasreason}" Grid.ColumnSpan="3" Grid.Column="1" IsReadOnly="True" Margin="0,2" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_stopgasreason"  NotNull="True"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_soperator}" Grid.Column="3" Margin="0,6" Grid.Row="8" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_soperator" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_parentname}" Grid.Column="1" Margin="0" Grid.Row="10" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_parentname"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_sdate}" Grid.Column="1" Margin="0,6" Grid.Row="8" VerticalAlignment="Center" IsEnabled="False">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_sdate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <!--隐藏域-->
                                <!--卡号-->
                                <TextBox Text="{m:Bind Path=f_cardid}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cardid"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--卡内气量-->
                                <TextBox Text="{m:Bind Path=f_gas}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gas"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--购气次数-->
                                <TextBox Text="{m:Bind Path=f_times}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_times"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--厂家别名-->
                                <TextBox Text="{m:Bind Path=f_aliasname}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_aliasname" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0,6" Grid.Row="9" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" HorizontalAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0,6" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale" 
									/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,6" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="9" HorizontalAlignment="Right"  Grid.Column="2" Height="27" />
                                <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,6" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_fengongsinum" NotNull="True"
									/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                <toolkit:TimePicker Value="{m:Bind Path=f_stime}"  Grid.Column="3" Margin="0" Grid.Row="9"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" Grid.RowSpan="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_stime" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                            </Grid>
                        </Grid>
                    </toolkit:BusyIndicator>
                    <sdk:DataPager x:Name="pager22" Source="{Binding Path=ItemsSource.Count,ElementName=pipelines22,Converter={StaticResource DataPagerConverter}}"   Margin="1,0,0,44" PageSize="22" Height="24" VerticalAlignment="Bottom"/>
                </Grid>
            </sdk:TabItem>



            <sdk:TabItem Header="启用" Height="27" VerticalAlignment="Bottom">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=pipelines23.ItemsSource.IsBusy or toExcel20.IsBusy}">
                        <toolkit:DockPanel >
                            <!--信息列表按钮-->
                            <toolkit:DockPanel  toolkit:DockPanel.Dock="Bottom" Margin="0" Height="45">
                                <!--信息列表翻页-->
                                <TextBlock  TextWrapping="Wrap" Text="{m:Exp Str=$共\{pipelines23.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" Margin="0,0,0,10" VerticalAlignment="Bottom"/>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel x:Name="pipelinesearch23" toolkit:DockPanel.Dock="Top" Margin="0,0,0,5" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject  />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>

                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="0" TextAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Height="25" Text="{m:Bind Path=f_userid}" Width="Auto" a:ControlAttach.DefaultButton="searchbutton" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Grid.Column="0" Margin="0" 
Height="25" TextAlignment="Right" d:LayoutOverrides="GridBox"><Run Text="建档日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="qyrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="1" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_openingdate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="qyrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="2" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_openingdate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="2" Margin="0" Height="25" TextAlignment="Right"/>

                                    <ComboBox Name="Comboxfx23"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="Auto" Width="Auto" RenderTransformOrigin="2.5,0.44" HorizontalAlignment="Stretch" VerticalAlignment="Center" Grid.Column="2" MaxDropDownHeight="Infinity">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                 <StackPanel Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbutton23"  Click="{m:Exp Str=pipelinesearch23.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=pipelinesearch23.DataContext.f_userid\=null;
								 pipelinesearch23.DataContext.f_filiale\=null;
								 pipelinesearch23.DataContext.f_yytdate2\=null;
								 pipelinesearch23.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=pipelines23.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel20.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel20" HQL="{m:Exp Str=pipelines23.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad20.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{pipelines23.ItemsSource.Count\}/f_userid:用户编号|f_address:用户地址|f_parentname:部门|f_rcoperator:操作人|f_edate:操作日期|f_time:时间$}"/>
					    <c:DownLoad x:Name="downLoad20" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel20.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
							   
							   
							   
							    </Grid>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="pipelines23" Margin="0,0,0,24"  
            		AutoGenerateColumns="False"  IsReadOnly="True">
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="pipelineslist23" WebClientInfo="{StaticResource dbclient}"
            				Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_enabled where \{pipelinesearch23.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_enabled where \{pipelinesearch23.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
							PageIndex="{m:Exp Str=pager23.PageIndex}" PageSize="{m:Exp Str=pager23.PageSize}" SumNames="id"/>
                                </a:Data.Items>

                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn Header="序号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn Header="用户地址" Binding="{Binding f_address}"/>
                                    <sdk:DataGridTextColumn Header="部门" Binding="{Binding f_parentname}"/>
                                    <sdk:DataGridTextColumn Header="操作人" Binding="{Binding f_rcoperator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_edate,StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="时间" Binding="{Binding f_time,StringFormat=hh:mm:ss tt}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                            <!--信息列表-->

                            <!--信息列表按钮-->
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <!--操作区按钮-->
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=pipeline.DataContext.IsBusy}" Grid.Column="1" Margin="8,0,0,0">
                        <Grid  x:Name="pipeline23" >
                            <a:Data.Context>
                                <!--o:GeneralObject  Name="pipelinego" WebClientInfo="{StaticResource dbclient}" 
					EntityType="t_enabled" Source="{m:Exp Str=pipelines.SelectedItem}"
					IsInit="{m:Exp Str='SaveAction.State==$End'}"       >
            			<o:PropertySetter PropertyName="f_userstate"  />
					</o:GeneralObject-->
                                <o:GeneralObject  Name="pipelinego23" WebClientInfo="{StaticResource dbclient}" 
					Source="{m:Exp Str=pipelines23.SelectedItem}"   >
                                    <o:PropertySetter PropertyName="f_userstate"  />
                                </o:GeneralObject>
                            </a:Data.Context>
                            <toolkit:DockPanel  HorizontalAlignment="Right" VerticalAlignment="Bottom"/>
                            <Grid Margin="0,0,0,45" >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1"/>
                                    <ColumnDefinition Width="1"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                </Grid.RowDefinitions>
                                <TextBlock TextWrapping="Wrap" Text="用户编号：" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                                <TextBlock Grid.Column="2" TextWrapping="Wrap" Text="用户姓名：" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="用户地址：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="身份证号：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="气表厂家：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="0" Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="用户类型：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="表      号：" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="2"/>
                                <!--<TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="停用底数：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
            		-->
                                <TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="停用日期：" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="2"/>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="抄表日期：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,4,-3,12" Grid.Row="6" TextWrapping="Wrap" Text="启用日期：" HorizontalAlignment="Right" d:LayoutOverrides="Height"/>
                                <TextBlock Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="抄 表 人：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="7" TextWrapping="Wrap" Text="操 作 人：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0" Grid.Row="7" TextWrapping="Wrap" Text="部      门：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="2" Margin="0,8,8,8" Grid.Row="6" TextWrapping="Wrap" Text="操作日期：" HorizontalAlignment="Right" d:LayoutOverrides="Height"/>
                                <TextBox Text="{m:Bind Path=f_userid}" Grid.Column="1" IsReadOnly="True" HorizontalAlignment="Stretch" Margin="0,6" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}" Grid.Column="3" Margin="1,0,0,0" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_address}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_idnumber}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_idnumber" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gasmetermanufacturers}" Grid.Column="1" Margin="0" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasmetermanufacturers"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="1" Margin="0" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_usertype" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_meternumber}" Grid.Column="3" Margin="0" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_meternumber"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--<TextBox Text="{m:Bind Path=f_aisableradix}" Grid.Column="1" Margin="0" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
            			<a:Data.Prop>
            				<o:PropertySetter PropertyName="f_aisableradix" Value="{m:Exp Str=userfiles.f_gasmeteraccomodations\=>Completed}" />
            			</a:Data.Prop>
            		</TextBox>-->
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_stopdate}"  Grid.Column="3" Margin="0" Grid.Row="4" VerticalAlignment="Center" IsEnabled="False">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_stopdate" />
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_mrdate}" Grid.Column="3" Margin="0" Grid.Row="5" VerticalAlignment="Center" IsEnabled="False">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_mrdate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_openingdate}" Grid.Column="1" Margin="7,0,-8,0" Grid.Row="6" VerticalAlignment="Center" IsEnabled="False">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_openingdate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBox Text="{m:Bind Path=f_mrperson}" Grid.Column="1" IsReadOnly="True" Margin="0" Grid.Row="5" TextWrapping="Wrap" VerticalAlignment="Center">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_mrperson" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_rcoperator}" Grid.Column="3" Margin="0" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_rcoperator" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_parentname}" Grid.Column="1" Margin="0" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_parentname"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_edate}" Grid.Column="3" Margin="1,4,0,4" Grid.Row="6" VerticalAlignment="Stretch" IsEnabled="False" d:LayoutOverrides="Height">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_edate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <!--隐藏域-->
                                <!--卡号-->
                                <TextBox Text="{m:Bind Path=f_cardid}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cardid"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--卡内气量-->
                                <TextBox Text="{m:Bind Path=f_gas}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gas"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--购气次数-->
                                <TextBox Text="{m:Bind Path=f_times}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_times"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--厂家别名-->
                                <TextBox Text="{m:Bind Path=f_aliasname}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_aliasname" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0,4" Grid.Row="8" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" HorizontalAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0,4" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale" 
									/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,4" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" HorizontalAlignment="Right"  Grid.Column="2" Height="27" />
                                <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,4" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto" d:LayoutOverrides="Width">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_fengongsinum" NotNull="True"
									Default="{m:Exp Str=LoginUser.f_fengongsinum}"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                <toolkit:TimePicker Value="{m:Bind Path=f_time}"  Grid.Column="3" Margin="0" Grid.Row="8"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" Grid.RowSpan="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_time" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                            </Grid>
                        </Grid>
                    </toolkit:BusyIndicator>
                    <sdk:DataPager x:Name="pager23" Source="{Binding Path=ItemsSource.Count,ElementName=pipelines23,Converter={StaticResource DataPagerConverter}}"   Margin="1,0,0,44" PageSize="22" Height="24" VerticalAlignment="Bottom"/>
                </Grid>
            </sdk:TabItem>




            <sdk:TabItem Header="销户" Height="27" VerticalAlignment="Bottom">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <c:BusyIndicatorEx BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=pipelines24.ItemsSource.IsBusy or toExcel21.IsBusy}">
                        <toolkit:DockPanel >

                            <!--信息列表按钮-->
                            <toolkit:DockPanel  toolkit:DockPanel.Dock="Bottom" Margin="0" Height="45">
                                <!--信息列表翻页-->
                                <TextBlock  TextWrapping="Wrap" Text="{m:Exp Str=$共\{pipelines24.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" VerticalAlignment="Bottom" Margin="0,0,0,10"/>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel x:Name="pipelinesearch24" toolkit:DockPanel.Dock="Top" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject  />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="0" TextAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Height="25"  Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Grid.Column="1" Margin="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Grid.Column="0" Margin="0" TextAlignment="Right" d:LayoutOverrides="GridBox"><Run Text="销户日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="xhrq" Height="25" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="1" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton"  Margin="0"  HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_cdate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="xhrq1" Height="25" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton" Margin="0"  Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_cdate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="2" Margin="0,8,0,-5" Height="25" TextAlignment="Right"/>
                                    <ComboBox Name="Comboxfx24"  Height="25"  Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Grid.Column="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                 <StackPanel Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbutton24"  Click="{m:Exp Str=pipelinesearch24.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=pipelinesearch24.DataContext.f_userid\=null;
								 pipelinesearch24.DataContext.f_filiale\=null;
								 pipelinesearch24.DataContext.f_yytdate2\=null;
								 pipelinesearch24.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=pipelines24.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel21.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel21" HQL="{m:Exp Str=pipelines24.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad21.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{pipelines24.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_address:用户地址|f_departments:部门|f_creason:原因|f_coperator:操作人|f_cdate:操作日期$}"/>
					    <c:DownLoad x:Name="downLoad21" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel21.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="pipelines24" Margin="0,0,0,2"  
            		AutoGenerateColumns="False"  IsReadOnly="True">
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="pipelineslist24" WebClientInfo="{StaticResource dbclient}"
            				Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_cancellation where \{pipelinesearch24.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_cancellation where \{pipelinesearch24.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
							PageIndex="{m:Exp Str=pager24.PageIndex}" PageSize="{m:Exp Str=pager24.PageSize}" SumNames="id"/>
                                </a:Data.Items>

                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户姓名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="用户地址" Binding="{Binding f_address}"/>
                                    <sdk:DataGridTextColumn Header="部门" Binding="{Binding f_departments}"/>
                                    <sdk:DataGridTextColumn Header="原因" Binding="{Binding f_creason}"/>
                                    <sdk:DataGridTextColumn Header="操作人" Binding="{Binding f_coperator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_cdate,StringFormat=yyyy-MM-dd}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                            <!--信息列表-->

                            <!--信息列表按钮-->
                        </toolkit:DockPanel>
                    </c:BusyIndicatorEx>
                    <!--操作区按钮-->
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=pipeline24.DataContext.IsBusy}" Grid.Column="1" Margin="8,0,0,0">
                        <Grid  x:Name="pipeline24" >
                            <a:Data.Context>
                                <!--o:GeneralObject  Name="pipelinego" WebClientInfo="{StaticResource dbclient}" 
						EntityType="t_cancellation" Source="{m:Exp Str=pipelines.SelectedItem}"
						IsInit="{m:Exp Str='SaveAction.State==$End'}">
            			<o:PropertySetter PropertyName="f_userstate"  />
            		</o:GeneralObject -->
                                <o:GeneralObject  Name="pipelinego24" WebClientInfo="{StaticResource dbclient}" 
						Source="{m:Exp Str=pipelines24.SelectedItem}"  >
                                </o:GeneralObject >
                            </a:Data.Context>
                            <toolkit:DockPanel toolkit:DockPanel.Dock="Bottom" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0"/>
                            <Grid Margin="0,0,0,45" >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="0.334*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="0.334*"/>
                                    <ColumnDefinition Width="1"/>
                                    <ColumnDefinition Width="1"/>
                                    <ColumnDefinition Width="1"/>
                                    <ColumnDefinition Width="1"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="45" />
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                </Grid.RowDefinitions>
                                <TextBlock TextWrapping="Wrap" Text="用户编号：" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,6"/>
                                <TextBlock Grid.Column="2" Margin="0" TextWrapping="Wrap" Text="用户姓名：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,6" Grid.Row="1" TextWrapping="Wrap" Text="用户地址：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,6" Grid.Row="2" TextWrapping="Wrap" Text="身份证号：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,5" Grid.Row="4" TextWrapping="Wrap" Text="用户类型：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Margin="0,6" Grid.Row="3" TextWrapping="Wrap" Text="气 表 号：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,5" Grid.Row="2" TextWrapping="Wrap" Text="气表厂家：" HorizontalAlignment="Right" Grid.Column="2" Height="25"/>
                                <TextBlock Grid.Column="2" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" Text="气表类型：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,10" Grid.Row="6" TextWrapping="Wrap" Text="销户原因：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Margin="0,5,-2,5" Grid.Row="7" TextWrapping="Wrap" Text="备      注：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Margin="0,5,-2,5" Grid.Row="8" TextWrapping="Wrap" Text="部      门：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Grid.Column="2" Margin="0,5" Grid.Row="8" TextWrapping="Wrap" Text="操 作 人：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Margin="0,5" Grid.Row="10" TextWrapping="Wrap" Text="操作日期：" HorizontalAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_userid}" Grid.Column="1" IsReadOnly="True" Margin="0,6" TextWrapping="Wrap" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}" Grid.Column="3" Margin="0" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_address}" Grid.ColumnSpan="3" Grid.Column="1" Margin="0,6" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_idnumber}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0,6" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_idnumber"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_meternumber}" Grid.Column="1" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_meternumber"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gasmetermanufacturers}" Grid.Column="3" Margin="0,5" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasmetermanufacturers"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gasmeterstyle}" Grid.Column="3" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasmeterstyle"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_creason}" Grid.ColumnSpan="3" IsReadOnly="True" Grid.Column="1" Margin="0,5" Grid.Row="6" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="35">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_creason" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_cnote}" Grid.ColumnSpan="3" IsReadOnly="True" Grid.Column="1" Margin="0,3,0,2" Grid.Row="7" TextWrapping="Wrap" VerticalAlignment="Stretch" Height="30">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cnote" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_departments}" Grid.Column="1" Margin="0,5" Grid.Row="8" TextWrapping="Wrap" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" IsReadOnly="True" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_departments"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_coperator}" Grid.Column="3" Margin="0,5" Grid.Row="8" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_coperator"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_cdate}" Grid.Column="1" Margin="0,5" Grid.Row="10" VerticalAlignment="Stretch" IsEnabled="False" Grid.ColumnSpan="1" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cdate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <!--隐藏域-->
                                <!--卡号-->
                                <TextBox Text="{m:Bind Path=f_cardid}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cardid"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--卡内气量-->
                                <TextBox Text="{m:Bind Path=f_gas}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gas"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--购气次数-->
                                <TextBox Text="{m:Bind Path=f_times}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_times"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--厂家别名-->
                                <TextBox Text="{m:Bind Path=f_aliasname}" Visibility="Collapsed" Margin="0,6"  TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_aliasname" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_userstate}" Grid.Column="1" Margin="0,5" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userstate"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0,5,-2,5" Grid.Row="9" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" HorizontalAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0,5" Grid.Row="9" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale" 
								/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,6,0,2" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" HorizontalAlignment="Right"  Grid.Column="2" Height="27" d:LayoutOverrides="HorizontalAlignment" />
                                <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,6" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_fengongsinum" NotNull="True"
									Default="{m:Exp Str=LoginUser.f_fengongsinum}"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0,5" Grid.Row="9" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                <toolkit:TimePicker Value="{m:Bind Path=f_time}"  Grid.Column="3" Margin="0,5" Grid.Row="9"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" Grid.RowSpan="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_time" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                            </Grid>
                        </Grid>
                    </toolkit:BusyIndicator>
                    <sdk:DataPager x:Name="pager24" Source="{Binding Path=ItemsSource.Count,ElementName=pipelines24,Converter={StaticResource DataPagerConverter}}"   Margin="-6,0,10,10" PageSize="22" Height="24" VerticalAlignment="Bottom"/>
                </Grid>
            </sdk:TabItem>

            <sdk:TabItem Header="批量变更" Height="27" VerticalAlignment="Bottom">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="0.4*"/>
                        <ColumnDefinition Width="0.6*"/>

                    </Grid.ColumnDefinitions>
                    <m:ResourceLoad>
                        <!--分公司列表对象-->
                        <o:ObjectList Name="fgslist25" WebClientInfo="{StaticResource dbclient}" Path="from paramvalue where param.name='分公司' order by id"/>

                        <!--总公司名称-->
                        <o:GeneralObject Name="zonggongsi25" EntityType="t_singlevalue" WebClientInfo="{StaticResource dbclient}" 
		  		Path="{m:Exp Str=$one/from t_singlevalue where name \= \'总公司名称\'}"   >
                        </o:GeneralObject>
                    </m:ResourceLoad>
                    <toolkit:BusyIndicator  Grid.Column="1" BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=bkinfos25.ItemsSource.IsBusy}">
                        <Grid>


                            <toolkit:DockPanel>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel>
                                <Grid x:Name="biangeng25" Width="Auto" Height="Auto" Margin="0">
                                    <a:Data.Context>
                                        <o:GeneralObject WebClientInfo="{StaticResource dbclient}" 
									EntityType="t_plchange" Source="{m:Exp Str=bkinfos25.SelectedItem}"/>
                                    </a:Data.Context>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="0.145*"/>
                                        <ColumnDefinition Width="0.188*"/>
                                        <ColumnDefinition Width="0.278*"/>
                                        <ColumnDefinition Width="0.389*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="1"/>
                                        <RowDefinition Height="142"/>

                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="153"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="52"/>
                                    </Grid.RowDefinitions>

                                    <sdk:DataGrid  AutoGenerateColumns="False" x:Name="userfileslist25" ItemsSource="{m:Exp Str=data.f_piliangchange}"   IsReadOnly="True"  HorizontalAlignment="Stretch" Grid.Column="1" Margin="0" Grid.Row="0" VerticalAlignment="Stretch" Grid.ColumnSpan="3" Width="Auto" Grid.RowSpan="2" d:LayoutOverrides="VerticalMargin">
                                        <sdk:DataGrid.Columns>
                                            <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                            <sdk:DataGridTextColumn d:IsLocked="True" Header="用户姓名" Binding="{Binding f_username}"/>
                                        </sdk:DataGrid.Columns>
                                    </sdk:DataGrid>
                                    <sdk:DataGrid IsReadOnly="True" AutoGenerateColumns="False" x:Name="fileschange25" ItemsSource="{m:Exp Str=data.f_changesid}"   HorizontalAlignment="Stretch" Grid.Column="1" Margin="0" Grid.Row="3" VerticalAlignment="Stretch" Grid.ColumnSpan="3" Width="Auto" >
                                        <sdk:DataGrid.Columns>
                                            <sdk:DataGridTextColumn Header="变更字段名称" Binding="{Binding f_filename}"/>                                            <sdk:DataGridTextColumn Header="编码" Binding="{Binding code}"/>                                            <sdk:DataGridTextColumn Header="变更后内容" Binding="{Binding f_changehou}"/>
                                        </sdk:DataGrid.Columns>
                                    </sdk:DataGrid>
                                    <TextBlock Grid.Row="2" TextWrapping="Wrap" Text="变更原因：" Height="25" TextAlignment="Right" VerticalAlignment="Top" d:LayoutOverrides="Height" Margin="0,0,-0.333,0"/>
                                    <TextBox Text="{m:Bind Path=f_changereason}" Grid.Column="1" IsReadOnly="True" HorizontalAlignment="Stretch" Margin="0" TextWrapping="Wrap" VerticalAlignment="Bottom" Width="Auto" Height="25" Grid.Row="2" Grid.ColumnSpan="3" d:LayoutOverrides="Height">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_changereason" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock Margin="0,5,0,0" Grid.Row="4" TextWrapping="Wrap" Text="分 公 司：" Height="25" TextAlignment="Right"/>
                                    <TextBlock Margin="0,0,0,27" Visibility="Collapsed" Grid.Row="3" TextWrapping="Wrap" Text="分公司编号" Height="25" TextAlignment="Right" Grid.Column="2" VerticalAlignment="Bottom" d:LayoutOverrides="Height"/>
                                    <TextBlock Margin="0,5,0,0" Grid.Row="5" TextWrapping="Wrap" Text="部　　门:" Height="25" TextAlignment="Right"/>
                                    <TextBlock Margin="0,5,0,0" Grid.Row="4" TextWrapping="Wrap" Text="操 作 员：" Height="25" TextAlignment="Right" Grid.Column="2"/>
                                    <TextBlock Margin="0,5,0,0" Grid.Row="5" TextWrapping="Wrap" Text="日　　期：" Height="25" TextAlignment="Right" Grid.Column="2"/>
                                    <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed" Grid.Column="3" HorizontalAlignment="Stretch" Margin="0,0,0,32" TextWrapping="Wrap" VerticalAlignment="Bottom" Width="Auto" Height="25" Grid.Row="3" RenderTransformOrigin="4.727,0.48" IsReadOnly="True" d:LayoutOverrides="Height">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_fengongsinum"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_operator}" Grid.Column="3" HorizontalAlignment="Stretch" Margin="0,5,0,0" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" Height="25" Grid.Row="4" RenderTransformOrigin="4.727,0.48" IsReadOnly="True">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_operator"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_department}" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0.333,5,0,0" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" Height="25" Grid.Row="5" RenderTransformOrigin="4.727,0.48" IsReadOnly="True">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_department" />
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" IsReadOnly="True" HorizontalAlignment="Stretch" Margin="1.333,5,0,0" TextWrapping="Wrap" VerticalAlignment="Stretch" Width="Auto" Height="25" Grid.Row="4" RenderTransformOrigin="4.727,0.48" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <sdk:DatePicker SelectedDate="{m:Bind Path=f_date}" IsEnabled="False"  Grid.Column="3" Margin="0,5,0,0" Grid.Row="5"  Height="25" VerticalAlignment="Stretch"  >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_date"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                </Grid>
                            </toolkit:DockPanel>

                        </Grid>
                    </toolkit:BusyIndicator>

                    <toolkit:BusyIndicator Margin="0,0,5,0" BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=bkinfos25.ItemsSource.IsBusy or toExcel22.IsBusy}">
                        <toolkit:DockPanel   >
                            <toolkit:DockPanel x:Name="bkinfosearch25"  toolkit:DockPanel.Dock="Top" Margin="0,0,0,3" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>


                                    <TextBlock TextWrapping="Wrap" Grid.Column="0" Margin="0" 
Height="25" TextAlignment="Right" d:LayoutOverrides="GridBox"><Run Text="操作日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="bgrq" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="0" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_date >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="bgrq1" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="1" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_date ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Margin="0" Height="25" TextAlignment="Right" Grid.Row="1"/>

                                    <ComboBox Name="Combox25"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" Grid.Row="0" Grid.Column="2" ItemsSource="{m:Exp Str=fgslist25}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="25">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                               <StackPanel Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbutton25"  Click="{m:Exp Str=bkinfosearch25.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str= bkinfosearch25.DataContext.f_filiale\=null;
								 bkinfosearch25.DataContext.f_yytdate2\=null;
								 bkinfosearch25.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=bkinfos25.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel22.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel22" HQL="{m:Exp Str=bkinfos25.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad22.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{bkinfos25.ItemsSource.Count\}/f_changereason:变更原因|f_department:部门|f_operator:操作人|f_date:操作日期$}"/>
					    <c:DownLoad x:Name="downLoad22" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel22.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel   Background="#FFC3E4FD" toolkit:DockPanel.Dock="Bottom" Height="51">
                                <sdk:DataPager x:Name="pager25" Source="{Binding ItemsSource.Count, Converter={StaticResource DataPagerConverter}, ElementName=bkinfos25}" Margin="0,0,0,0" PageSize="20" toolkit:DockPanel.Dock="Top" Height="24"   />
                                <TextBlock TextWrapping="Wrap" Margin="5,0,0,3" Text="{m:Exp Str=$共\{bkinfos25.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" toolkit:DockPanel.Dock="Bottom" Height="27"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"/>
                            </toolkit:DockPanel>

                            <sdk:DataGrid x:Name="bkinfos25" Margin="0,0,0,2"  
								AutoGenerateColumns="False" Width="Auto" Background="{x:Null}" IsReadOnly="True" >
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="danbginfoslist25" WebClientInfo="{StaticResource dbclient}"
										MultiPath="{m:Exp Str=$from t_plchange  where \{bkinfosearch25.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'}" 	
	                                    Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_plchange as apply left join fetch apply.f_piliangchange left join fetch apply.f_changesid  where \{bkinfosearch25.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_plchange as apply left join fetch apply.f_piliangchange left join fetch apply.f_changesid where \{bkinfosearch25.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
										PageIndex="{m:Exp Str=pager25.PageIndex}" PageSize="{m:Exp Str=pager25.PageSize}" SumNames="id"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn d:IsLocked="True" Header="序  号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="变更原因" Binding="{Binding f_changereason}"/>
                                    <sdk:DataGridTextColumn Header="部   门" Binding="{Binding f_department}"/>
                                    <sdk:DataGridTextColumn Header="操 作 人" Binding="{Binding f_operator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_date, StringFormat=yyyy-MM-dd}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                </Grid>
            </sdk:TabItem>

            <sdk:TabItem Header="发折" Height="27" VerticalAlignment="Bottom">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=pipelines23fz.ItemsSource.IsBusy or toExcel23.IsBusy}">
                        <toolkit:DockPanel >
                            <!--信息列表按钮-->
                            <toolkit:DockPanel  toolkit:DockPanel.Dock="Bottom" Margin="0" Height="45">
                                <!--信息列表翻页-->
                                <TextBlock  TextWrapping="Wrap" Text="{m:Exp Str=$共\{pipelines23fz.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" Margin="0,0,0,10" VerticalAlignment="Bottom"/>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel x:Name="pipelinesearch23fz" toolkit:DockPanel.Dock="Top" Margin="0,0,0,5" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject  />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>

                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="0" TextAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Height="25" Text="{m:Bind Path=f_userid}" Width="Auto" a:ControlAttach.DefaultButton="searchbutton23fz" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Grid.Column="0" Margin="0" 
Height="25" TextAlignment="Right" d:LayoutOverrides="GridBox"><Run Text="操作日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="qyrqfz" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="1" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton23fz" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_recoverypassbookdate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="qyrq1fz" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="2" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton23fz" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_recoverypassbookdate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="2" Margin="0" Height="25" TextAlignment="Right"/>

                                    <ComboBox Name="Comboxfx23fz"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="Auto" Width="Auto" RenderTransformOrigin="2.5,0.44" HorizontalAlignment="Stretch" VerticalAlignment="Center" Grid.Column="2" MaxDropDownHeight="Infinity">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                 <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbutton23fz"  Click="{m:Exp Str=pipelinesearch23fz.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=pipelinesearch23fz.DataContext.f_userid\=null;
								 pipelinesearch23fz.DataContext.f_filiale\=null;
								 pipelinesearch23fz.DataContext.f_yytdate2\=null;
								 pipelinesearch23fz.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=pipelines23fz.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel23.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel23" HQL="{m:Exp Str=pipelines23fz.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad23.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{pipelines23fz.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_address:用户地址|f_usertype:用户类型|f_whethergivepassbook:是否发折|f_meternumber:表号|f_gaswatchbrand:气表品牌|f_filiale:分公司|f_rcoperator:操作人|f_recoverypassbookdate:操作日期|f_recoverypassbooktime:时间$}"/>
					    <c:DownLoad x:Name="downLoad23" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel23.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
							   
							   
							   
							    </Grid>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="pipelines23fz" Margin="0,0,0,24"  
            		AutoGenerateColumns="False"  IsReadOnly="True">
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="pipelineslist23fz" WebClientInfo="{StaticResource dbclient}"
            				Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_fazhe where \{pipelinesearch23fz.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_fazhe where \{pipelinesearch23fz.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
							PageIndex="{m:Exp Str=pager23fz.PageIndex}" PageSize="{m:Exp Str=pager23fz.PageSize}" SumNames="id"/>
                                </a:Data.Items>

                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn Header="序号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn Header="用户姓名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="用户地址" Binding="{Binding f_address}"/>
                                    <sdk:DataGridTextColumn Header="用户类型" Binding="{Binding f_usertype}"/>
                                    <sdk:DataGridTextColumn Header="是否发折" Binding="{Binding f_whethergivepassbook}"/>
                                    <sdk:DataGridTextColumn Header="表号" Binding="{Binding f_meternumber}"/>
                                    <sdk:DataGridTextColumn Header="气表品牌" Binding="{Binding f_gaswatchbrand}"/>
                                    <sdk:DataGridTextColumn Header="分公司" Binding="{Binding f_filiale}"/>
                                    <sdk:DataGridTextColumn Header="操作人" Binding="{Binding f_rcoperator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_recoverypassbookdate,StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="时间" Binding="{Binding f_recoverypassbooktime,StringFormat=hh:mm:ss tt}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                            <!--信息列表-->

                            <!--信息列表按钮-->
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <!--操作区按钮-->
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=pipelines23fz.DataContext.IsBusy}" Grid.Column="1" Margin="8,0,0,0">
                        <Grid  x:Name="pipeline23fz" >
                            <a:Data.Context>
                                <!--o:GeneralObject  Name="pipelinego" WebClientInfo="{StaticResource dbclient}" 
					EntityType="t_enabled" Source="{m:Exp Str=pipelines.SelectedItem}"
					IsInit="{m:Exp Str='SaveAction.State==$End'}"       >
            			<o:PropertySetter PropertyName="f_userstate"  />
					</o:GeneralObject-->
                                <o:GeneralObject  Name="pipelinego23fz" WebClientInfo="{StaticResource dbclient}" 
					Source="{m:Exp Str=pipelines23fz.SelectedItem}"   >
                                    <o:PropertySetter PropertyName="f_userstate"  />
                                </o:GeneralObject>
                            </a:Data.Context>
                            <toolkit:DockPanel  HorizontalAlignment="Right" VerticalAlignment="Bottom"/>
                            <Grid Margin="0" >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1"/>
                                    <ColumnDefinition Width="1"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="1" />
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="1"/>
                                </Grid.RowDefinitions>
                                <TextBlock TextWrapping="Wrap" Text="用户编号：" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                                <TextBlock Grid.Column="2" TextWrapping="Wrap" Text="用户姓名：" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,8,0" Height="25"/>
                                <TextBlock Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="用户地址：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="气表品牌：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="用户类型：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="表      号：" HorizontalAlignment="Right" Grid.Column="2" Height="25"/>
                                <!--<TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="停用底数：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
            		-->
                                <TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="操 作 人：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="操作日期：" HorizontalAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_userid}" Grid.Column="1" IsReadOnly="True" HorizontalAlignment="Stretch" Margin="0,6" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}" Grid.Column="3" Margin="1,0,0,0" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_address}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrand" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="3" Margin="0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_usertype" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_meternumber}" Grid.Column="3" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_meternumber"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--<TextBox Text="{m:Bind Path=f_aisableradix}" Grid.Column="1" Margin="0" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
            			<a:Data.Prop>
            				<o:PropertySetter PropertyName="f_aisableradix" Value="{m:Exp Str=userfiles.f_gasmeteraccomodations\=>Completed}" />
            			</a:Data.Prop>
            		</TextBox>-->
                                <TextBox Text="{m:Bind Path=f_rcoperator}" Grid.Column="1" Margin="0" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_rcoperator" />
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_recoverypassbookdate}" Grid.Column="3" Margin="0" Grid.Row="4" VerticalAlignment="Stretch" IsEnabled="False" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_recoverypassbookdate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>

                                <TextBlock Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" HorizontalAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0" Grid.Row="5" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale" 
									/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,4" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" HorizontalAlignment="Right"  Grid.Column="2" Height="27" />
                                <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,4" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto" d:LayoutOverrides="Width">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_fengongsinum" NotNull="True"
									/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                <toolkit:TimePicker Value="{m:Bind Path=f_recoverypassbooktime}"  Grid.Column="3" Margin="0" Grid.Row="5"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" Grid.RowSpan="1" Grid.ColumnSpan="3" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_recoverypassbooktime" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                                <TextBlock Margin="0,8" Grid.Row="3" TextWrapping="Wrap" Text="是否发折：" HorizontalAlignment="Right" d:LayoutOverrides="Height"/>
                                <TextBox Text="{m:Bind Path=f_whethergivepassbook}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" d:LayoutOverrides="Height">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_whethergivepassbook" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="开户日期：" HorizontalAlignment="Right" Height="25"/>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_yytdate}" Grid.Column="3" Margin="0" Grid.Row="3" VerticalAlignment="Stretch" IsEnabled="False" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_yytdate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                            </Grid>
                        </Grid>
                    </toolkit:BusyIndicator>
                    <sdk:DataPager x:Name="pager23fz" Source="{Binding Path=ItemsSource.Count,ElementName=pipelines23fz,Converter={StaticResource DataPagerConverter}}"   Margin="1,0,0,44" PageSize="22" Height="24" VerticalAlignment="Bottom"/>
                </Grid>
            </sdk:TabItem>


            <sdk:TabItem Header="补折" Height="27" VerticalAlignment="Bottom">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=pipelines23bz.ItemsSource.IsBusy or toExcel24.IsBusy}">
                        <toolkit:DockPanel >
                            <!--信息列表按钮-->
                            <toolkit:DockPanel  toolkit:DockPanel.Dock="Bottom" Margin="0" Height="45">
                                <!--信息列表翻页-->
                                <TextBlock  TextWrapping="Wrap" Text="{m:Exp Str=$共\{pipelines23bz.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" Margin="0,0,0,10" VerticalAlignment="Bottom"/>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel x:Name="pipelinesearch23bz" toolkit:DockPanel.Dock="Top" Margin="0,0,0,5" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject  />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>

                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="0" TextAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Height="25" Text="{m:Bind Path=f_userid}" Width="Auto" a:ControlAttach.DefaultButton="searchbutton23fz" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Grid.Column="0" Margin="0" 
Height="25" TextAlignment="Right" d:LayoutOverrides="GridBox"><Run Text="操作日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="qyrqbz" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="1" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton23fz" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <!-- Value="{m:Exp Str=SysTime.Today}"-->
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_recoverypassbookdate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <sdk:DatePicker Name="qyrq1bz" SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="2" Grid.Column="1" 
a:ControlAttach.DefaultButton="searchbutton23fz" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_recoverypassbookdate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="2" Margin="0" Height="25" TextAlignment="Right"/>

                                    <ComboBox Name="Comboxfx23bz"   Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="Auto" Width="Auto" RenderTransformOrigin="2.5,0.44" HorizontalAlignment="Stretch" VerticalAlignment="Center" Grid.Column="2" MaxDropDownHeight="Infinity">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbutton23bz"  Click="{m:Exp Str=pipelinesearch23bz.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=pipelinesearch23bz.DataContext.f_userid\=null;
								 pipelinesearch23bz.DataContext.f_filiale\=null;
								 pipelinesearch23bz.DataContext.f_yytdate2\=null;
								 pipelinesearch23bz.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=pipelines23bz.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel24.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel24" HQL="{m:Exp Str=pipelines23bz.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad24.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{pipelines23bz.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_address:用户地址|f_usertype:用户类型|f_rcrenewalpassbookfees:补折费|f_ccreason:补折原因|f_meternumber:表号|f_gaswatchbrand:气表品牌|f_filiale:分公司|f_rcoperator:操作人|f_recoverypassbookdate:操作日期|f_recoverypassbooktime:时间$}"/>
					    <c:DownLoad x:Name="downLoad24" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel24.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="pipelines23bz" Margin="0,0,0,24"  
            		AutoGenerateColumns="False"  IsReadOnly="True">
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="pipelineslist23bz" WebClientInfo="{StaticResource dbclient}"
            				Path="{m:Exp Str=LoginUser.f_fengongsi \=\= zonggongsi.value:$from t_renewalpassbook where \{pipelinesearch23bz.DataContext.Condition\}$\, LoginUser.f_fengongsi \!\= zonggongsi.value:$from t_renewalpassbook where \{pipelinesearch23bz.DataContext.Condition\} and f_filiale \=\'\{LoginUser.f_fengongsi\}\'$\,$abc$}"
							PageIndex="{m:Exp Str=pager23bz.PageIndex}" PageSize="{m:Exp Str=pager23bz.PageSize}" SumNames="id"/>
                                </a:Data.Items>

                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn Header="序号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn Header="用户姓名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="用户地址" Binding="{Binding f_address}"/>
                                    <sdk:DataGridTextColumn Header="用户类型" Binding="{Binding f_usertype}"/>
                                    <sdk:DataGridTextColumn Header="补折费" Binding="{Binding f_rcrenewalpassbookfees}"/>
                                    <sdk:DataGridTextColumn Header="补折原因" Binding="{Binding f_ccreason}"/>
                                    <sdk:DataGridTextColumn Header="表号" Binding="{Binding f_meternumber}"/>
                                    <sdk:DataGridTextColumn Header="气表品牌" Binding="{Binding f_gaswatchbrand}"/>
                                    <sdk:DataGridTextColumn Header="分公司" Binding="{Binding f_filiale}"/>
                                    <sdk:DataGridTextColumn Header="操作人" Binding="{Binding f_rcoperator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_recoverypassbookdate,StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="时间" Binding="{Binding f_recoverypassbooktime,StringFormat=hh:mm:ss tt}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                            <!--信息列表-->

                            <!--信息列表按钮-->
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <!--操作区按钮-->
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=pipelines23bz.DataContext.IsBusy}" Grid.Column="1" Margin="8,0,0,0">
                        <Grid  x:Name="pipeline23bz" >
                            <a:Data.Context>
                                <!--o:GeneralObject  Name="pipelinego" WebClientInfo="{StaticResource dbclient}" 
					EntityType="t_enabled" Source="{m:Exp Str=pipelines.SelectedItem}"
					IsInit="{m:Exp Str='SaveAction.State==$End'}"       >
            			<o:PropertySetter PropertyName="f_userstate"  />
					</o:GeneralObject-->
                                <o:GeneralObject  Name="pipelinego23bz" WebClientInfo="{StaticResource dbclient}" 
					Source="{m:Exp Str=pipelines23bz.SelectedItem}"   >
                                    <o:PropertySetter PropertyName="f_userstate"  />
                                </o:GeneralObject>
                            </a:Data.Context>
                            <toolkit:DockPanel  HorizontalAlignment="Right" VerticalAlignment="Bottom"/>
                            <Grid Margin="0" >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1"/>
                                    <ColumnDefinition Width="1"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="1"/>
                                </Grid.RowDefinitions>
                                <TextBlock TextWrapping="Wrap" Text="用户编号：" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                                <TextBlock Grid.Column="2" TextWrapping="Wrap" Text="用户姓名：" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,8,0" Height="25"/>
                                <TextBlock Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="用户地址：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="气表品牌：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="用户类型：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="表      号：" HorizontalAlignment="Right" Grid.Column="2" Height="25"/>
                                <!--<TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="停用底数：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
            		-->
                                <TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="操 作 人：" HorizontalAlignment="Right" Height="25"/>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="操作日期：" HorizontalAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_userid}" Grid.Column="1" IsReadOnly="True" HorizontalAlignment="Stretch" Margin="0,6" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}" Grid.Column="3" Margin="1,0,0,0" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_address}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrand" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="3" Margin="0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_usertype" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_meternumber}" Grid.Column="3" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_meternumber"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <!--<TextBox Text="{m:Bind Path=f_aisableradix}" Grid.Column="1" Margin="0" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
            			<a:Data.Prop>
            				<o:PropertySetter PropertyName="f_aisableradix" Value="{m:Exp Str=userfiles.f_gasmeteraccomodations\=>Completed}" />
            			</a:Data.Prop>
            		</TextBox>-->
                                <TextBox Text="{m:Bind Path=f_rcoperator}" Grid.Column="1" Margin="0" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_rcoperator" />
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_recoverypassbookdate}" Grid.Column="3" Margin="0" Grid.Row="4" VerticalAlignment="Stretch" IsEnabled="False" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_recoverypassbookdate" Default="{m:Exp Str=SysTime.Today}"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>

                                <TextBlock Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" HorizontalAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0" Grid.Row="5" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale" 
									/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Text="分公司编号：" Visibility="Collapsed" Margin="0,4" TextWrapping="Wrap" TextAlignment="Right" Grid.Row="8" HorizontalAlignment="Right"  Grid.Column="2" Height="27" />
                                <TextBox Text="{m:Bind Path=f_fengongsinum}" Visibility="Collapsed"  Grid.Column="3" Margin="0,4" Grid.Row="8" TextWrapping="Wrap" IsReadOnly="True"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="Auto" d:LayoutOverrides="Width">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_fengongsinum" NotNull="True"
									/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="操作时间：" TextAlignment="Right" Height="25" />
                                <toolkit:TimePicker Value="{m:Bind Path=f_recoverypassbooktime}"  Grid.Column="3" Margin="0" Grid.Row="5"   IsDropDownOpen="False"  VerticalAlignment="Stretch" IsEnabled="False" Height="25" HorizontalAlignment="Stretch" Width="Auto" Grid.RowSpan="1" Grid.ColumnSpan="3" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_recoverypassbooktime"  Value="{m:Exp Str=SecRefresh\=&gt;TimeEvent!\=null:SysTime.Now\,$$}"/>
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                                <TextBlock Margin="0,8" Grid.Row="3" TextWrapping="Wrap" Text="补折费：" HorizontalAlignment="Right" d:LayoutOverrides="Height"/>
                                <TextBox Text="{m:Bind Path=f_rcrenewalpassbookfees}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0,6" Grid.Row="3" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" d:LayoutOverrides="Height">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_rcrenewalpassbookfees" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="开户日期：" HorizontalAlignment="Right" Height="25"/>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_yytdate}" Grid.Column="3" Margin="0" Grid.Row="3" VerticalAlignment="Stretch" IsEnabled="False" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_yytdate"
            					/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBlock Margin="0,0,-1,0" Grid.Row="6" TextWrapping="Wrap" Text="补折原因：" TextAlignment="Right" HorizontalAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_ccreason}" Grid.Column="1" Margin="0" Grid.Row="6" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_ccreason" 
									/>
                                    </a:Data.Prop>
                                </TextBox>
                            </Grid>
                        </Grid>
                    </toolkit:BusyIndicator>
                    <sdk:DataPager x:Name="pager23bz" Source="{Binding Path=ItemsSource.Count,ElementName=pipelines23bz,Converter={StaticResource DataPagerConverter}}"   Margin="1,0,0,44" PageSize="22" Height="24" VerticalAlignment="Bottom"/>
                </Grid>
            </sdk:TabItem>


            <sdk:TabItem Header="缴费记录维护查询" Height="27" VerticalAlignment="Bottom">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"/>
                        <ColumnDefinition Width="6*"/>
                    </Grid.ColumnDefinitions>
                    <toolkit:BusyIndicator BusyContent="正在查询，请稍等" IsBusy="{m:Exp Str=upkeeplistxz1109.ItemsSource.IsBusy or toExcel25.IsBusy}">
                        <toolkit:DockPanel >
                            <!--信息列表按钮-->
                            <toolkit:DockPanel  toolkit:DockPanel.Dock="Bottom" Margin="0" Height="45">
                                <!--信息列表翻页-->
                                <TextBlock  TextWrapping="Wrap" Text="{m:Exp Str=$共\{upkeeplistxz1109.ItemsSource.Count\}项}" Width="Auto" HorizontalAlignment="Stretch" Foreground="#FF140000" Margin="0,0,0,10" VerticalAlignment="Bottom"/>
                            </toolkit:DockPanel>
                            <toolkit:DockPanel x:Name="searchxz1109" toolkit:DockPanel.Dock="Top" Margin="0,0,0,5" Background="#FFCFEFFF" >
                                <a:Data.Context>
                                    <o:SearchObject  />
                                </a:Data.Context>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>
                                        <RowDefinition Height="28"/>

                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="用户编号：" Margin="0" TextAlignment="Right"/>
                                    <TextBox TextWrapping="Wrap" Height="25" Text="{m:Bind Path=f_userid}" Width="Auto" a:ControlAttach.DefaultButton="searchbutton23fz" Grid.Column="1" HorizontalAlignment="Stretch" Margin="0" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                    <TextBlock TextWrapping="Wrap" Grid.Row="1" Grid.Column="0" Margin="0" Height="25" TextAlignment="Right" d:LayoutOverrides="GridBox"><Run Text="操作日期从"/><Run Text=" "/></TextBlock>
                                    <sdk:DatePicker Name="changedatestartxz1109" SelectedDate="{m:Bind Path=f_yytdate1}" Grid.Row="1" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton23fz" Width="Auto" Margin="0" Height="25" HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate1" 
											Operator="f_changedate >= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                    <TextBlock TextWrapping="Wrap" Text="到：" Grid.Row="2" Margin="0" Height="25" TextAlignment="Right"/>
                                    <ComboBox Visibility="{m:Exp Str='LoginUser.f_fengongsi \=\= zonggongsi.value:$Visible$\,$Collapsed$'}" SelectedValue="{m:Bind Path=f_filiale}" ItemsSource="{m:Exp Str=fgslist}"  Margin="0" DisplayMemberPath="name" SelectedValuePath="name"  Height="Auto" Width="Auto" RenderTransformOrigin="2.5,0.44" HorizontalAlignment="Stretch" VerticalAlignment="Center" Grid.Column="2" MaxDropDownHeight="Infinity">
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_filiale"  Operator="f_filiale like 'this%'"/>
                                        </a:Data.Prop>
                                    </ComboBox>
                                    <sdk:DatePicker SelectedDate="{m:Bind Path=f_yytdate2}" Grid.Row="2" Grid.Column="1" a:ControlAttach.DefaultButton="searchbutton23fz" Width="Auto" Margin="0" Height="25" Grid.ColumnSpan="1" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_yytdate2"  
											Operator="f_changedate ^= substring('this',1,10)"/>
                                        </a:Data.Prop>
                                    </sdk:DatePicker>
                                 <StackPanel Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="3" Orientation="Horizontal" >
                                
                                    <Button Content="查  询" x:Name="searchbuttonxz1109"  Click="{m:Exp Str=searchxz1109.DataContext.Search()}" Margin="2" HorizontalAlignment="Left" Width="Auto" FontSize="14" />
									<Button Content=" 置  空"   Width="Auto" 
								 Click="{m:Exp Str=searchxz1109.DataContext.f_userid\=null;
								 searchxz1109.DataContext.f_filiale\=null;
								 searchxz1109.DataContext.f_yytdate2\=null;
								 searchxz1109.DataContext.f_yytdate1\=null}" FontSize="14" Margin="2"  />
							
									<Button Content="导出Excel" IsEnabled="{m:Exp Str=upkeeplistxz1109.ItemsSource.Count!\=0:True\,False}" Click="{m:Exp Str=toExcel25.ToExcel()}" Margin="2" HorizontalAlignment="Left" Width="Auto"/>
								<c:Excel x:Name="toExcel25" HQL="{m:Exp Str=upkeeplistxz1109.ItemsSource.Path}" 
   							 Completed="{m:Exp Str=downLoad25.Down()}"
   							 Path="{m:Exp Str=$\{server.BaseAddress\}/excel/\{upkeeplistxz1109.ItemsSource.Count\}/f_userid:用户编号|f_username:用户姓名|f_address:用户地址|f_usertype:用户类型|f_whethergivepassbook:是否发折|f_meternumber:表号|f_gaswatchbrand:气表品牌|f_filiale:分公司|f_rcoperator:操作人|f_recoverypassbookdate:操作日期|f_recoverypassbooktime:时间$}"/>
					    <c:DownLoad x:Name="downLoad25" Path="{m:Exp Str=$\{server.BaseAddress\}/file/\{toExcel25.FileName\}}" Filter="(*.xls)|*.xls" Height="30" VerticalAlignment="Top" Width="0" ></c:DownLoad>
							</StackPanel>
								
								
								</Grid>
                            </toolkit:DockPanel>
                            <sdk:DataGrid x:Name="upkeeplistxz1109" Margin="0,0,0,24" AutoGenerateColumns="False"  IsReadOnly="True">
                                <a:Data.Items>
                                    <o:PagedObjectList WebClientInfo="{StaticResource dbclient}"
            				            Path="{m:Exp Str=$from t_upkeep where \{searchxz1109.DataContext.Condition\}$}" PageIndex="{m:Exp Str=pagercountxz1109.PageIndex}" PageSize="{m:Exp Str=pagercountxz1109.PageSize}" SumNames="id"/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn Header="序号" Binding="{Binding Index}"/>
                                    <sdk:DataGridTextColumn Header="用户编号" Binding="{Binding f_userid}"/>
                                    <sdk:DataGridTextColumn Header="用户姓名" Binding="{Binding f_username}"/>
                                    <sdk:DataGridTextColumn Header="用户地址" Binding="{Binding f_address}"/>
                                    <sdk:DataGridTextColumn Header="用户类型" Binding="{Binding f_usertype}"/>
                                    <sdk:DataGridTextColumn Header="是否发折" Binding="{Binding f_whethergivepassbook}"/>
                                    <sdk:DataGridTextColumn Header="表号" Binding="{Binding f_meternumber}"/>
                                    <sdk:DataGridTextColumn Header="气表品牌" Binding="{Binding f_gaswatchbrand}"/>
                                    <sdk:DataGridTextColumn Header="分公司" Binding="{Binding f_filiale}"/>
                                    <sdk:DataGridTextColumn Header="操作人" Binding="{Binding f_rcoperator}"/>
                                    <sdk:DataGridTextColumn Header="操作日期" Binding="{Binding f_recoverypassbookdate,StringFormat=yyyy-MM-dd}"/>
                                    <sdk:DataGridTextColumn Header="时间" Binding="{Binding f_recoverypassbooktime,StringFormat=hh:mm:ss tt}"/>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </toolkit:DockPanel>
                    </toolkit:BusyIndicator>
                    <!--操作区按钮-->
                    <toolkit:BusyIndicator BusyContent="正在工作，请稍等" IsBusy="{m:Exp Str=upkeepgridxz1109.DataContext.IsBusy}" Grid.Column="1" Margin="8,0,0,0">
                        <Grid  x:Name="upkeepgridxz1109" >
                            <a:Data.Context>
                                <o:GeneralObject WebClientInfo="{StaticResource dbclient}" Source="{m:Exp Str=upkeeplistxz1109.SelectedItem}" >
                                </o:GeneralObject>
                            </a:Data.Context>
                            <toolkit:DockPanel  HorizontalAlignment="Right" VerticalAlignment="Bottom"/>
                            <Grid Margin="0" >
                                <Grid.Background>
                                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                                        <GradientStop Color="#FFF2F8FF" Offset="0"/>
                                        <GradientStop Color="#FFDDF2FD" Offset="1"/>
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="110"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1"/>
                                    <ColumnDefinition Width="1"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="35"/>
                                    <RowDefinition Height="1" />
                                    <RowDefinition Height="1"/>
                                    <RowDefinition Height="1"/>
                                </Grid.RowDefinitions>
                                <TextBlock TextWrapping="Wrap" Text="用户编号：" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                                <TextBox Text="{m:Bind Path=f_userid}" Grid.Column="1" IsReadOnly="True" HorizontalAlignment="Stretch" Margin="0,6" TextWrapping="Wrap" VerticalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" TextWrapping="Wrap" Text="用户姓名：" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,8,0" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_username}" Grid.Column="3" Margin="1,0,0,0" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="用户地址：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBox Text="{m:Bind Path=f_address}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="气表品牌：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                <TextBox Text="{m:Bind Path=f_gaswatchbrand}" Grid.ColumnSpan="1" Grid.Column="1" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Center" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gaswatchbrand" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="1" TextWrapping="Wrap" Text="用户类型：" HorizontalAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_usertype}" Grid.Column="3" Margin="0" Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_usertype" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="2" TextWrapping="Wrap" Text="表      号：" HorizontalAlignment="Right" Grid.Column="2" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_meternumber}" Grid.Column="3" Margin="0" Grid.Row="2" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_meternumber"  />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="操 作 人：" HorizontalAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_sgoperator}" Grid.Column="1" Margin="0" Grid.Row="4" TextWrapping="Wrap" VerticalAlignment="Stretch" IsReadOnly="True" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_sgoperator" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="2" Margin="0" Grid.Row="4" TextWrapping="Wrap" Text="修改日期：" HorizontalAlignment="Right" Height="25"/>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_changedate}" Grid.Column="3" Margin="0" Grid.Row="4" VerticalAlignment="Stretch" IsEnabled="False" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_changedate" />
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBlock Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="分  公  司：" TextAlignment="Right" HorizontalAlignment="Right" Height="25"/>
                                <TextBox Text="{m:Bind Path=f_filiale}" Grid.Column="1" Margin="0" Grid.Row="5" TextWrapping="Wrap" IsReadOnly="True" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Height="25">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_filiale" />
                                    </a:Data.Prop>
                                </TextBox>
                            </Grid>
                        </Grid>
                    </toolkit:BusyIndicator>
                    <sdk:DataPager x:Name="pagercountxz1109" Source="{Binding Path=ItemsSource.Count,ElementName=upkeeplistxz1109,Converter={StaticResource DataPagerConverter}}"   Margin="1,0,0,44" PageSize="22" Height="24" VerticalAlignment="Bottom"/>
                </Grid>
            </sdk:TabItem>

        </sdk:TabControl>

    </Grid>
</UserControl>
