<UserControl
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:a="clr-namespace:Com.Aote.Attachs;assembly=s2DLL"
    xmlns:o="clr-namespace:Com.Aote.ObjectTools;assembly=s2DLL"
    xmlns:b="clr-namespace:Com.Aote.Behaviors;assembly=s2DLL"
    xmlns:m="clr-namespace:Com.Aote.Marks;assembly=s2DLL"
    xmlns:c="clr-namespace:Com.Aote.Controls;assembly=s2DLL"
    xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
    xmlns:ei="http://schemas.microsoft.com/expression/2010/interactions"
    xmlns:data="clr-namespace:System.Windows.Data;assembly=System.Windows"
    xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"
    xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit" 
	xmlns:note="clr-namespace:s2.Program.Note"
	mc:Ignorable="d"
	x:Class="s2.话务员界面"
	 FontSize="13" Width="Auto" Height="611">

    <Grid x:Name="LayoutRoot" Height="Auto" Width="Auto" >
        <m:ResourceLoad Margin="0">

            <!--单值对象-->
            <o:GeneralObject Name="gdms" EntityType="t_singlevalue" WebClientInfo="{StaticResource dbclient}" 
		  		Path="one/from t_singlevalue where name='工单模式'"   ></o:GeneralObject>

            <o:ObjectList Name="jiedanbumenlist" WebClientInfo="{StaticResource dbclient}"  Path="from paramvalue where param.name='接单部门'"/>
            <!--接单人对象列表 -->
            <!--o:ObjectList Name="jiedanrenlist" WebClientInfo="{StaticResource dbclient}"  Path="from repairsman where f_repairsmanstate = '空闲'" IsOld="{m:Exp Str=main.DataContext.f_phone!\=null}"/-->
            <!--报修类型ItemsSource="{m:Exp Str=bxlxlist}"-->
            <o:ObjectList Name="bxlxlist" WebClientInfo="{StaticResource dbclient}"  Path="from paramvalue where param.name='报修类型'"/>
            <!--来电类型ItemsSource="{m:Exp Str=laidianlxlist}"-->
            <o:ObjectList Name="laidianlxlist" WebClientInfo="{StaticResource dbclient}"  Path="from paramvalue where param.name='来电类型'"/>
            <!--处理方式ItemsSource="{m:Exp Str=chulifangshilist}"-->
            <o:ObjectList Name="chulifangshilist" WebClientInfo="{StaticResource dbclient}"  Path="from paramvalue where param.name='处理方式'"/>
            <!--是否处理ItemsSource="{m:Exp Str=shifoulist}"-->
            <o:ObjectList Name="shifoulist" WebClientInfo="{StaticResource dbclient}"  Path="from paramvalue where param.name='是否处理'"/>
            <!--完成情况ItemsSource="{m:Exp Str=wcqklist}"-->
            <o:ObjectList Name="wcqklist" WebClientInfo="{StaticResource dbclient}"  Path="from paramvalue where param.name='完成情况' order by id"/>
            <!--是否回访ItemsSource="{m:Exp Str=sfhflist}"-->
            <o:ObjectList Name="sfhflist" WebClientInfo="{StaticResource dbclient}"  Path="from paramvalue where param.name='是否回访' order by id"/>
            <!--服务态度满意情况ItemsSource="{m:Exp Str=fwtdlist}"-->
            <o:ObjectList Name="fwtdlist" WebClientInfo="{StaticResource dbclient}"  Path="from paramvalue where param.name='服务态度满意情况' order by id"/>
            <!--质量满意情况ItemsSource="{m:Exp Str=zlmylist}"-->
            <o:ObjectList Name="zlmylist" WebClientInfo="{StaticResource dbclient}"  Path="from paramvalue where param.name='质量满意情况' order by id"/>
            <!--保存时更新用户档案中的newphone-->

            <b:HQLAction Name="updatenewphone"  WebClientInfo="{StaticResource dbclient}" 
		HQL="{m:Exp Str='maingo1.f_userid !\= null and maingo1.f_phone !\= null :$update t_userfiles set f_phone\={maingo1.f_phone} where f_userid\={maingo1.f_userid}$,$$ '}">
            </b:HQLAction>

            <b:HQLAction Name="repairman"   WebClientInfo="{StaticResource dbclient}" 
			HQL="{m:Exp Str=$update repairsman set f_repairsmanstate\=\'繁忙\' where man\=\'\{jiedanren.SelectedValue\}\'}"/>

            <!--来电信息保存并发送短信-->
            <b:SyncActionFactory Name="SendNote"   >
                <b:CallMethodAction    Name="consumernew" TargetObject="{m:Exp Str=consumer}"   MethodName="New"/>

            </b:SyncActionFactory>
            <!--来电信息保存并发送短信-->
            <b:SyncActionFactory Name="reSendNote"   >
                <b:CallMethodAction    Name="resavedata" TargetObject="{m:Exp Str=wxobj.DataContext}"    MethodName="New"/>

            </b:SyncActionFactory>
            <!--短信对象-->
            <!--自动提交电话对象-->
            <o:Phone Name="confirm" Confirm="{m:Exp Str=maingo1.State\=\=$End$}" LineNum="{m:Exp Str=IpTongDao.tongdao}" GongHao="{m:Exp Str=LoginUser.gonghao}" TelServiceUrl="http://192.168.1.18:8000"/>
            <o:Phone Name="wbPhone"  LineNum="{m:Exp Str=IpTongDao.tongdao}" GongHao="{m:Exp Str=LoginUser.gonghao}" TelServiceUrl="http://192.168.1.18:8000"/>


            <!--来电短信保存对象 -->
            <o:GeneralObject Name="telnote" EntityType="t_sendnotes" WebClientInfo="{StaticResource noteserver}">
                <o:PropertySetter PropertyName="nodeid" Value="{m:Exp Str='maingo1.f_cucode.ToString()'}"/>
                <o:PropertySetter PropertyName="phone" Value="{m:Exp Str='maingo1.f_acceptertel.ToString()'}"/>
                <o:PropertySetter PropertyName="content" Value="{m:Exp Str='$客服中心\,报修编号\{maingo1.f_gasusertype\}  \{maingo1.f_cucode\},电话\{maingo1.f_reapirtelnum\}地址：\{maingo1.f_unitname\}\,\{maingo1.f_useraddress\}。内容：\{maingo1.f_repairreason\}'}"/>
                <o:PropertySetter PropertyName="sendresult"   Default="未发送"/>
                <o:PropertySetter PropertyName="sendpeople" Value="{m:Exp Str='maingo1.f_operator'}"/>
            </o:GeneralObject>

            <!--维修重发短信对象
			   <note:Note Name="noteresave" WebClientInfo="{StaticResource noteserver}"   phone="{m:Exp Str=$\{maingo2.f_acceptertel\}}"
			content="{m:Exp Str='$客服中心\，报修编号\{maingo2.f_cucode\}电话\{maingo2.f_reapirtelnum\}地址：\{maingo2.f_unitname\}\,\{maingo2.f_useraddress\}。内容：\{maingo2.f_repairreason\}'}"
				nodeid="{m:Exp Str='$\{maingo2.f_cucode\}|\{maingo2.f_reapirtelnum\}'}"
				sendpeople="{m:Exp Str=LoginUser.name}"
			/>-->


            <!--来电短信保存对象 -->
            <o:GeneralObject Name="noteresave" EntityType="t_sendnotes" WebClientInfo="{StaticResource noteserver}">
                <o:PropertySetter PropertyName="nodeid" Value="{m:Exp Str='maingo2.f_cucode.ToString()'}"/>
                <o:PropertySetter PropertyName="phone" Value="{m:Exp Str='maingo2.f_acceptertel.ToString()'}"/>
                <o:PropertySetter PropertyName="content" Value="{m:Exp Str='$客服中心\,报修编号\{maingo2.f_gasusertype\}  \{maingo2.f_cucode\}电话\{maingo2.f_reapirtelnum\}地址：\{maingo2.f_unitname\}\,\{maingo2.f_useraddress\}。内容：\{maingo2.f_repairreason\}'}"/>
                <o:PropertySetter PropertyName="sendresult"   Default="未发送"/>
                <o:PropertySetter PropertyName="sendpeople" Value="{m:Exp Str='maingo2.f_operator'}"/>
            </o:GeneralObject>



            <!--用户对象 -->
            <o:GeneralObject Name="consumer" EntityType="t_userfiles" WebClientInfo="{StaticResource dbclient}"
             Path="{m:Exp Str=this.tiaojian}">
                <o:PropertySetter PropertyName="tiaojian" Value="{m:Exp Str=main.DataContext.f_userid !\= null :$one\/from t_userfiles where f_userid\=\'\{main.DataContext.f_userid\}\'$\,$$}"/>
                <o:PropertySetter PropertyName="tiaojian" Value="{m:Exp Str=$one/from t_userfiles where (f_phone\=\'\{main.DataContext.f_phone\}\'  or f_phone1 \=\'\{main.DataContext.f_phone\}\')}"/>
                <o:PropertySetter PropertyName="tiaojian" Value="{m:Exp Str=$one/from t_userfiles where id\=\'\{cx.SelectedItem.id\}\'}"/>
            </o:GeneralObject>
            <!--任务对象-->
            <o:ObjectList  Name="works"  EntityType="t_users" WebClientInfo="{StaticResource dbclient}"
		LoadOnPathChanged="True" IsOld="{m:Exp Str=main.DataContext.f_phone!\=null}"
                        
               Path="{m:Exp Str=$sql/select  a.man man\,a.phone phone1\, ISNULL(b.geshu\,0) counts from t_repairsman a   left join (select f_accepter\,COUNT(*)  geshu from t_repairsys where f_havacomplete !\=\'已完成\'  group by f_accepter) b on  a.man \= b.f_accepter}" 
            >
            </o:ObjectList>
            <!--来电对象-->
            <o:GeneralObject Name="maingo1" WebClientInfo="{StaticResource dbclient}" 
					EntityType="t_repairsys"   
				    IsInit="{m:Exp Str=this.State\=\=$End}">
                <o:PropertySetter PropertyName="f_state" Default="{m:Exp Str=gdms.value\=\=$直接派发到APP模式$:$已派发$\,$未派发$}" Value="{m:Exp Str=gdms.value\=\=$直接派发到APP模式$:$已派发$\,$未派发$}"></o:PropertySetter>
            </o:GeneralObject>
            <!--维修对象-->
            <o:GeneralObject Name="maingo2" WebClientInfo="{StaticResource dbclient}" 
					EntityType="t_repairsys" Source="{m:Exp Str=wx.SelectedItem }"  
					IsInit="{m:Exp Str='this.State==$End'}"/>

            <!--停气公告-->
            <o:ObjectList Name="gaogaolist" WebClientInfo="{StaticResource dbclient}"
							Path="{m:Exp Str=$from t_stopgonggao where  f_displayrepair \= \'是\' }"
							
						 	IsOld="{m:Exp Str='Timer.State==$Loaded'}"	 />

            <!--  更新二次发送的原来完成的标识 -->
            <b:HQLAction Name="updaterepairsys"   WebClientInfo="{StaticResource dbclient}" 
			HQL="{m:Exp Str=$update t_repairsys set f_havacomplete\=\'已完成\' where id\=\'\{wxobj.DataContext.id\}\'}"/>

            <o:GeneralObject Name="maingo22" EntityType="t_repairsys" WebClientInfo="{StaticResource dbclient}" IsInit="{m:Exp Str='this.State==$End'}">
                <o:PropertySetter PropertyName="f_userid" NoDependValue="{m:Exp Str=maingo2.f_userid}"/>
                <o:PropertySetter PropertyName="f_username" NoDependValue="{m:Exp Str=maingo2.f_username}"/>
                <o:PropertySetter PropertyName="f_linktype" NoDependValue="{m:Exp Str=maingo2.f_linktype}"/>
                <o:PropertySetter PropertyName="f_unitname" NoDependValue="{m:Exp Str=maingo2.f_unitname}"/>
                <o:PropertySetter PropertyName="f_address" NoDependValue="{m:Exp Str=maingo2.f_address}"/>
                <o:PropertySetter PropertyName="f_cusDom" NoDependValue="{m:Exp Str=maingo2.f_cusDom}"/>
                <o:PropertySetter PropertyName="f_phone" NoDependValue="{m:Exp Str=maingo2.f_phone}"/>
                <o:PropertySetter PropertyName="f_recorddate" NoDependValue="{m:Exp Str=maingo2.f_recorddate}"/>
                <o:PropertySetter PropertyName="f_reporttime" NoDependValue="{m:Exp Str=maingo2.f_reporttime}"/>
                <o:PropertySetter PropertyName="f_gasmeteraccomodations" NoDependValue="{m:Exp Str=maingo2.f_gasmeteraccomodations}"/>
                <o:PropertySetter PropertyName="f_meternumber" NoDependValue="{m:Exp Str=maingo2.f_meternumber}"/>
                <o:PropertySetter PropertyName="f_lastrecord" NoDependValue="{m:Exp Str=maingo2.f_lastrecord}"/>
                <o:PropertySetter PropertyName="f_metertype" NoDependValue="{m:Exp Str=maingo2.f_metertype}"/>
                <o:PropertySetter PropertyName="f_aroundmeter" NoDependValue="{m:Exp Str=maingo2.f_aroundmeter}"/>
                <o:PropertySetter PropertyName="f_metergasnums" NoDependValue="{m:Exp Str=maingo2.f_metergasnums}"/>
                <o:PropertySetter PropertyName="f_restrictsparenum" NoDependValue="{m:Exp Str=maingo2.f_restrictsparenum}"/>
                <o:PropertySetter PropertyName="f_usertype" NoDependValue="{m:Exp Str=maingo2.f_usertype}"/>
                <o:PropertySetter PropertyName="f_fireopening" NoDependValue="{m:Exp Str=maingo2.f_fireopening}"/>
                <o:PropertySetter PropertyName="f_beginfee" NoDependValue="{m:Exp Str=maingo2.f_beginfee}"/>
                <o:PropertySetter PropertyName="f_switchdate" NoDependValue="{m:Exp Str=maingo2.f_switchdate}"/>
                <o:PropertySetter PropertyName="f_stopremark" NoDependValue="{m:Exp Str=maingo2.f_stopremark}"/>
                <o:PropertySetter PropertyName="f_finallybought" NoDependValue="{m:Exp Str=maingo2.f_finallybought}"/>
                <o:PropertySetter PropertyName="f_teltype" NoDependValue="{m:Exp Str=maingo2.f_teltype}"/>
                <o:PropertySetter PropertyName="f_repairtype" NoDependValue="{m:Exp Str=maingo2.f_repairtype}"/>
                <o:PropertySetter PropertyName="f_operator" NoDependValue="{m:Exp Str=maingo2.f_operator}"/>
                <o:PropertySetter PropertyName="f_department" NoDependValue="{m:Exp Str=maingo2.f_department}"/>
                <o:PropertySetter PropertyName="f_repairreason" NoDependValue="{m:Exp Str=maingo2.f_repairreason}"/>
                <o:PropertySetter PropertyName="f_cucode" Default="{m:Exp Str=$\{SysTime.Now.ToString($yyyyMMdd$)\}\{Seriabx.Value\}}" />
                <o:PropertySetter PropertyName="recordfile" NoDependValue="{m:Exp Str=maingo2.recordfile}"/>
                <o:PropertySetter PropertyName="f_dealtype" NoDependValue="{m:Exp Str=maingo2.f_dealtype}"/>
                <o:PropertySetter PropertyName="f_havadeal" Default="{m:Exp Str=$是$}" />
                <o:PropertySetter PropertyName="f_dealonline" NoDependValue="{m:Exp Str=maingo2.f_dealonline}"/>
                <o:PropertySetter PropertyName="f_sender" NoDependValue="{m:Exp Str=maingo2.f_sender}"/>
                <o:PropertySetter PropertyName="f_senddate" NoDependValue="{m:Exp Str=maingo2.f_senddate}"/>
                <o:PropertySetter PropertyName="f_sendtime" NoDependValue="{m:Exp Str=maingo2.f_sendtime}"/>
                <o:PropertySetter PropertyName="f_meetunit" NoDependValue="{m:Exp Str=maingo2.f_meetunit}"/>
                <o:PropertySetter PropertyName="f_accepter" NoDependValue="{m:Exp Str=maingo2.f_accepter}"/>
                <o:PropertySetter PropertyName="f_acceptertel" NoDependValue="{m:Exp Str=maingo2.f_acceptertel}"/>
                <o:PropertySetter PropertyName="f_accepttime" NoDependValue="{m:Exp Str=maingo2.f_accepttime}"/>
                <o:PropertySetter PropertyName="f_havacomplete" Default="{m:Exp Str=$二次新工单$}" />
                <o:PropertySetter PropertyName="f_beizhu" NoDependValue="{m:Exp Str=maingo2.f_beizhu}"/>
                <!--<o:PropertySetter PropertyName="f_state" NoDependValue="$未派发$"/>-->
            </o:GeneralObject>

        </m:ResourceLoad>
        <toolkit:DockPanel LastChildFill="True">
            <Grid Height="Auto" Width="Auto" Background="{StaticResource MainRightTitleColorBrush1}" Grid.Row="1" Margin="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="3*"/>
                    <ColumnDefinition Width="1*"/>
                </Grid.ColumnDefinitions>

                <sdk:TabControl Margin="0,0,0,8" Height="Auto" VerticalAlignment="Stretch" Grid.Row="0" Width="Auto" d:LayoutOverrides="GridBox">
                    <sdk:TabItem Header="维修记录查询" HorizontalAlignment="Stretch" Width="Auto" Margin="0">
                        <toolkit:DockPanel LastChildFill="True" Height="Auto" Margin="0" Width="Auto">
                            <toolkit:WrapPanel x:Name="ldrecordsearch"  Background="{x:Null}" toolkit:DockPanel.Dock="Top" Margin="5,0,0,0" Orientation="Horizontal"   >
                                <a:Data.Context>
                                    <o:SearchObject/>
                                </a:Data.Context>
                                <TextBlock TextWrapping="Wrap" Text="报修编号："/>
                                <TextBox TextWrapping="Wrap" Text="{m:Bind Path=f_cucode}" a:ControlAttach.DefaultButton="searchbutton" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cucode" Operator="f_cucode like 'this%'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock TextWrapping="Wrap" Text="用户ID："/>
                                <TextBox TextWrapping="Wrap" Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock TextWrapping="Wrap" Text="值班人："/>
                                <TextBox TextWrapping="Wrap" Text="{m:Bind Path=f_operator}" a:ControlAttach.DefaultButton="searchbutton" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_operator" Operator="f_operator like 'this%'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock TextWrapping="Wrap" Text="用户姓名：" Margin="5,0,0,0"/>
                                <TextBox TextWrapping="Wrap" Text="{m:Bind Path=f_username}" a:ControlAttach.DefaultButton="searchbutton" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username" Operator="f_username like 'this%'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock TextWrapping="Wrap" Text="地址：" Margin="5,0,0,0"/>
                                <TextBox TextWrapping="Wrap" Text="{m:Bind Path=f_address}" a:ControlAttach.DefaultButton="searchbutton" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address" Operator="f_address like '%this%'"/>
                                    </a:Data.Prop>
                                </TextBox>

                                <TextBlock TextWrapping="Wrap" Text="来电电话：" Margin="5,0,0,0"/>
                                <TextBox TextWrapping="Wrap" Text="{m:Bind Path=f_phone}" a:ControlAttach.DefaultButton="searchbutton" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_phone" Operator="f_phone like 'this%'"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0,3,0,5" TextWrapping="Wrap" Text="报修类型：" RenderTransformOrigin="0.631,2.08" Height="22" HorizontalAlignment="Right"  />
                                <ComboBox DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=bxlxlist}" SelectedValue="{m:Bind Path=f_repairtype}" Margin="0,2,0,3" Height="25" Width="Auto" a:ControlAttach.DefaultButton="searchbutton" HorizontalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_repairtype"  Operator="f_repairtype like '%this%'" ></o:PropertySetter>
                                    </a:Data.Prop>
                                </ComboBox>

                                <TextBlock TextWrapping="Wrap" Text="接单部门：" Margin="5,0,0,0"/>
                                <ComboBox SelectedValue="{m:Bind Path=f_meetunit}" ItemsSource="{m:Exp Str=jiedanbumenlist}"  DisplayMemberPath="name" SelectedValuePath="name" a:ControlAttach.DefaultButton="searchbutton" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_meetunit" Operator="f_meetunit = 'this'"/>
                                    </a:Data.Prop>
                                </ComboBox>

                                <TextBlock TextWrapping="Wrap" Text="接单人：" Margin="5,0,0,0"/>
                                <ComboBox  SelectedValue="{m:Bind Path=f_accepter}" ItemsSource="{m:Exp Str=works}" DisplayMemberPath="col0" SelectedValuePath="col0" a:ControlAttach.DefaultButton="searchbutton" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_accepter" Operator="f_accepter = 'this'"/>
                                    </a:Data.Prop>
                                </ComboBox>
                                <TextBlock TextWrapping="Wrap" Text="完成情况：" Margin="5,0,0,0"/>
                                <ComboBox SelectedValue="{m:Bind Path=f_havacomplete}" ItemsSource="{m:Exp Str=wcqklist}" DisplayMemberPath="name" SelectedValuePath="name" a:ControlAttach.DefaultButton="searchbutton" Margin="0" Height="25" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_havacomplete" Operator="f_havacomplete = 'this'"/>
                                    </a:Data.Prop>
                                </ComboBox>
                                <TextBlock TextWrapping="Wrap"  Text="报修时间：" Margin="0,0,4,3" Height="25" FontSize="13.333" HorizontalAlignment="Right" Grid.Row="3" Grid.Column="0"/>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_anjianriqi}" Margin="0"  Height="25" VerticalAlignment="Stretch" Grid.Row="3" Grid.Column="1" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_anjianriqi" Value="{m:Exp Str=SysTime.MonthsBeforeToday(1)}" Operator=" f_reporttime >= 'this' "/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBlock TextWrapping="Wrap"  Text=" -  至  -  " Margin="0,0,4,3" Height="25" FontSize="13.333" HorizontalAlignment="Right" Grid.Row="3" Grid.Column="2"/>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_anjianriqi2}" Margin="0"  Height="25" VerticalAlignment="Stretch" Grid.Row="3" Grid.Column="3" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_anjianriqi2" Value="{m:Exp Str=SysTime.Today}" Operator=" f_reporttime ^= 'this' "/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <Button Content="  查  询  " x:Name="searchbutton" Click="{m:Exp Str=ldrecordsearch.DataContext.Search()}" Margin="5,0,0,0"/>
                                <Button Content="  清  空  " x:Name="clearbutton" Click="{m:Exp Str=ldlist.Clear();ldrecordsearch.DataContext.f_repairtype\=null;ldrecordsearch.DataContext.f_cucode\=null;ldrecordsearch.DataContext.f_userid\=null;ldrecordsearch.DataContext.f_operator\=null;ldrecordsearch.DataContext.f_username\=null;ldrecordsearch.DataContext.f_phone\=null;ldrecordsearch.DataContext.f_address\=null;ldrecordsearch.DataContext.f_meetunit\=null;ldrecordsearch.DataContext.f_accepter\=null;ldrecordsearch.DataContext.f_havacomplete\=null}" Margin="5,0,0,0"/>
                            </toolkit:WrapPanel>

                            <c:BusyIndicatorEx BusyContent="正在查询，请稍等"  IsBusy="{m:Exp Str=wx.ItemsSource.IsBusy}" Margin="0,2,0,-2">

                                <sdk:DataGrid x:Name="wx" Margin="0"   AutoGenerateColumns="False"  
										IsReadOnly="True"  >
                                    <a:Data.Items>
                                        <o:PagedObjectList x:Name="ldlist" WebClientInfo="{StaticResource dbclient}"
												Path="{m:Exp Str=$from t_repairsys where \{ldrecordsearch.DataContext.Condition\}}"
												IsOld="{m:Exp Str=maingo2.State\=\=$End$ or maingo22.State\=\=$End$}"
												PageIndex="{m:Exp Str=pager.PageIndex}" PageSize="{m:Exp Str=pager.PageSize}" SumNames=","/>
                                    </a:Data.Items>
                                    <sdk:DataGrid.Columns>
                                        <sdk:DataGridTextColumn  Header="序号" Binding="{Binding Index}"/>
                                        <sdk:DataGridTemplateColumn Header="报修编号" >
                                            <sdk:DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding f_cucode}"   Foreground="{m:Exp Str=data.sendresult\!\= null and data.sendresult \=\= $失败$:Red\,DataGridText}"  />
                                                </DataTemplate>
                                            </sdk:DataGridTemplateColumn.CellTemplate>
                                        </sdk:DataGridTemplateColumn>
                                        <sdk:DataGridTemplateColumn Header="完成情况" >
                                            <sdk:DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding f_havacomplete}" Foreground="{m:Exp Str=(data.f_havacomplete\=\=$未完成$ or data.f_havacomplete\=\=$二次新工单$):Red\,Black}" />
                                                </DataTemplate>
                                            </sdk:DataGridTemplateColumn.CellTemplate>
                                        </sdk:DataGridTemplateColumn>
                                        <sdk:DataGridTextColumn Header="来电电话" Binding="{Binding f_phone}"/>
                                        <sdk:DataGridTextColumn Header="地址" Binding="{Binding f_address}"/>
                                        <sdk:DataGridTextColumn Header="任务下载" Binding="{Binding f_downloadstatus}"/>
                                        <sdk:DataGridTextColumn Header="用户姓名" Binding="{Binding f_username}"/>
                                        <sdk:DataGridTextColumn Header="备注" Binding="{Binding f_beizhu}"/>
                                        <sdk:DataGridTextColumn Header="用户ID" Binding="{Binding f_userid}"/>
                                        <sdk:DataGridTextColumn Header="楼号" Binding="{Binding f_cusDom}"/>
                                        <sdk:DataGridTextColumn Header="报修类型" Binding="{Binding f_repairtype}"/>
                                        <sdk:DataGridTextColumn Header="来电类型" Binding="{Binding f_teltype}"/>
                                        <sdk:DataGridTextColumn Header="处理方式" Binding="{Binding f_dealtype}"/>
                                        <sdk:DataGridTextColumn Header="接单部门" Binding="{Binding f_meetunit}"/>
                                        <sdk:DataGridTextColumn Header="接单人" Binding="{Binding f_accepter}"/>
                                        <sdk:DataGridTextColumn Header="是否处理" Binding="{Binding f_havadeal}"/>
                                        <sdk:DataGridTextColumn Header="值班员" Binding="{Binding f_operator}"/>
                                        <sdk:DataGridTextColumn Header="报修日期" Binding="{Binding f_reporttime}"/>

                                    </sdk:DataGrid.Columns>
                                </sdk:DataGrid>

                            </c:BusyIndicatorEx>

                        </toolkit:DockPanel>

                    </sdk:TabItem>
                </sdk:TabControl>

                <Grid Grid.Column="1"  Margin="0" Width="Auto" Height="Auto" HorizontalAlignment="Stretch" >
                    <sdk:TabControl x:Name="opertabs" Margin="0,-1,0,-16" SelectedIndex="{m:Exp Str='(wx=>SelectionChanged != null and wx.SelectedItem != null) :2,opertabs.SelectedIndex'}"  Width="Auto" HorizontalAlignment="Stretch" SelectionChanged="opertabs_SelectionChanged" >
                        <sdk:TabItem Header="来电信息" >

                            <Grid  x:Name="main" HorizontalAlignment="Stretch" Width="Auto" Margin="0,0,0,1" DataContext="{m:Res Key=maingo1}" >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="15"/>
                                    <ColumnDefinition Width="90"/>
                                    <ColumnDefinition Width="123"/>
                                    <ColumnDefinition Width="107.5"/>
                                    <ColumnDefinition Width="131.5"/>
                                    <ColumnDefinition Width="106"/>
                                    <ColumnDefinition Width="144"/>
                                    <ColumnDefinition Width="278.5"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="34"/>
                                    <RowDefinition Height="90"/>
                                    <RowDefinition Height="60" />
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="0"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="59"/>
                                    <RowDefinition Height="6"/>
                                </Grid.RowDefinitions>


                                <TextBlock TextWrapping="Wrap" Text="用户ID：" Margin="0,0,-2,0" HorizontalAlignment="Right" Grid.Column="5" Height="25" VerticalAlignment="Center" d:LayoutOverrides="HorizontalAlignment"/>
                                <TextBlock Margin="0" TextWrapping="Wrap" Text="用户姓名：" HorizontalAlignment="Right" Grid.Row="2" Height="25" VerticalAlignment="Center" Grid.Column="1"/>
                                <TextBlock Margin="0,4,-1.5,4" TextWrapping="Wrap" Text="联系方式：" Grid.Column="3" Grid.Row="2" Height="22" TextAlignment="Right"/>
                                <TextBlock Grid.Row="1" TextWrapping="Wrap" Text="单位：" Margin="0" Height="25" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="1"/>
                                <TextBlock Margin="0,0,-2.5,0" Grid.Row="1" TextWrapping="Wrap" Text="用户地址：" Grid.Column="3" HorizontalAlignment="Right" Height="25" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,0,-2.5,0" TextWrapping="Wrap" Text="来电电话：" Grid.Column="3" HorizontalAlignment="Right" Height="25" VerticalAlignment="Center"/>
                                <TextBlock Grid.Row="14" TextWrapping="Wrap" Text="报修日期：" Margin="0,4" Height="22" TextAlignment="Right" Grid.Column="5" HorizontalAlignment="Right"/>
                                <TextBlock Margin="0,0,-2.5,0" Grid.Row="3" TextWrapping="Wrap" Text="表底数：" Grid.Column="3" Height="25" HorizontalAlignment="Right" VerticalAlignment="Center" d:LayoutOverrides="HorizontalAlignment"/>
                                <TextBlock Grid.Row="3" TextWrapping="Wrap" Text="表号：" Grid.Column="5" HorizontalAlignment="Right" Margin="0" Height="25" VerticalAlignment="Center"/>
                                <TextBlock Grid.Row="4" TextWrapping="Wrap" Text="表型：" Margin="0,0,-2.5,0" Grid.Column="3" HorizontalAlignment="Right" Height="25" VerticalAlignment="Center"/>
                                <TextBlock Grid.Row="4" TextWrapping="Wrap" Text="左右表：" Grid.Column="5" Margin="0" Height="25" HorizontalAlignment="Right" VerticalAlignment="Center" RenderTransformOrigin="-3.356,0.34"/>
                                <TextBlock Margin="0,4" Grid.Row="4" TextWrapping="Wrap" Text="累计购气量：" Height="22" HorizontalAlignment="Right" Grid.Column="1"/>
                                <TextBlock Margin="0,4" Grid.Row="3" TextWrapping="Wrap" Text="用户类别：" Height="22" TextAlignment="Right" Grid.ColumnSpan="2"/>
                                <TextBlock Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="通气日期：" Grid.Column="5" HorizontalAlignment="Right" Height="25" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,0,-2.5,0" Grid.Row="5" TextWrapping="Wrap" Text="备注：" HorizontalAlignment="Right" Grid.Column="3" Height="25" VerticalAlignment="Center"/>
                                <TextBlock Margin="0,3,6.5,5" Grid.Row="6" TextWrapping="Wrap" Text="来电类型：" Grid.Column="3" Height="22" TextAlignment="Right" HorizontalAlignment="Right" Width="69"/>
                                <TextBlock Margin="0,3,0,5" Grid.Row="6" TextWrapping="Wrap" Text="报修类型：" RenderTransformOrigin="0.631,2.08" Height="22" HorizontalAlignment="Right" Grid.Column="1"/>

                                <TextBlock Margin="0,20,0,8" Grid.Row="9" TextWrapping="Wrap" Text="处理记录：" Height="22" TextAlignment="Right" VerticalAlignment="Center" Grid.ColumnSpan="2"/>
                                <TextBlock Margin="0,0,3.5,8" Grid.Row="6" TextWrapping="Wrap" Text="处理方式：" Grid.Column="5" Height="22" HorizontalAlignment="Right"/>
                                <TextBlock Grid.Row="8" TextWrapping="Wrap" Text="来电内容：" Margin="0,24" Height="22" TextAlignment="Right" Grid.ColumnSpan="2"/>
                                <TextBox Text="{m:Bind Path=f_userid}" Margin="0,3,0,2" TextWrapping="Wrap" Height="25" Grid.Column="6" Width="Auto" HorizontalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_userid"  Value="{m:Exp Str=consumer.f_userid}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_username}" Margin="0,3,0,2" TextWrapping="Wrap" Height="25" Grid.Column="2" Width="Auto" HorizontalAlignment="Stretch" Grid.Row="2">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_username" Value="{m:Exp Str=consumer.f_username}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_linktype}" Margin="1.5,3,-3,2" TextWrapping="Wrap" Height="25" Grid.Column="4" Width="Auto" HorizontalAlignment="Stretch" RenderTransformOrigin="-0.204,0.68" Grid.Row="2" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_linktype" Value="{m:Exp Str=consumer.f_phone}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_unitname}" Margin="0,3,0,2" Grid.Row="1" TextWrapping="Wrap" Height="25" Grid.Column="2" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_unitname" NotNull="True" Value="{m:Exp Str=consumer.f_username}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_address}" Margin="1.5,3,-3,2" Grid.Row="1" TextWrapping="Wrap" Height="25" Grid.Column="4" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" Width="Auto" TextChanged="f_address">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_address" NotNull="True" Value="{m:Exp Str=consumer.f_address}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_phone}" Margin="1.5,3,-3,2" Grid.Row="0" TextWrapping="Wrap" Height="25" Grid.Column="4" Width="Auto" RenderTransformOrigin="-0.288,0.36" HorizontalAlignment="Stretch" IsReadOnly="False" TextChanged="f_phone">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_phone" NotNull="True" Value="{m:Exp Str=Phone.CallNumber}"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <toolkit:TimePicker Value="{m:Bind Path=f_recorddate}" IsEnabled="False" Margin="0,3,0,2" Grid.Row="2" Height="25" Grid.Column="6" Width="Auto" HorizontalAlignment="Stretch" Visibility="Collapsed">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_recorddate" NotNull="True"  
													Default="{m:Exp Str=SysTime.Now}"/>
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_reporttime}" IsEnabled="False" Grid.Column="6" Margin="0,3,0,2" Grid.Row="14" Height="25" Width="Auto">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_reporttime" Default="{m:Exp Str=SysTime.Now}"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <TextBox Text="{m:Bind Path=f_gasmeteraccomodations}" Margin="1.5,3,-3,2" Grid.Row="3" TextWrapping="Wrap" Height="25" Grid.Column="4" Width="Auto" HorizontalAlignment="Stretch" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_gasmeteraccomodations" Value="{m:Exp Str=consumer.f_gasmeteraccomodations}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_meternumber}" Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" Height="25" Grid.Column="6" Width="Auto" HorizontalAlignment="Stretch" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_meternumber" Value="{m:Exp Str=consumer.f_meternumber}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metertype}" Margin="1.5,3,-3,2" Grid.Row="4" TextWrapping="Wrap" Height="25" Grid.Column="4" Width="Auto" HorizontalAlignment="Stretch" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metertype" Value="{m:Exp Str=consumer.f_metertype}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_aroundmeter}" Margin="0,3,0,2" Grid.Row="4" TextWrapping="Wrap" Height="25" Grid.Column="6" Width="Auto" HorizontalAlignment="Stretch" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_aroundmeter" Value="{m:Exp Str=consumer.f_aroundmeter}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_metergasnums}" Margin="0,3,0,2" Grid.Row="4" TextWrapping="Wrap" Height="25" Grid.Column="2" Width="Auto" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_metergasnums" Value="{m:Exp Str=consumer.f_metergasnums}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_usertype}" Margin="0,3,0,2"  Foreground="{m:Exp Str=consumer.gasusertype \=\= $A$ or consumer.gasusertype \=\= $B$:Red\,DataGridText}"  Grid.Row="3" TextWrapping="Wrap" Height="25" Grid.Column="2" Width="Auto" RenderTransformOrigin="-0.388,0.48" HorizontalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_usertype" Value="{m:Exp Str=consumer.f_usertype}" Default="C"  NotNull="True" />
                                    </a:Data.Prop>
                                </TextBox>
                                <ComboBox DisplayMemberPath="name" SelectedValuePath="name"  ItemsSource="{m:Exp Str=laidianlxlist}" SelectedValue="{m:Bind Path=f_teltype}" Margin="-1.5,2,-0.5,3" Grid.Row="6" Height="25" Grid.Column="4" RenderTransformOrigin="0.514,-0.54" Width="Auto" HorizontalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_teltype" NotNull="True" Default="{m:Exp Str='laidianlxlist.Count > 0 :laidianlxlist.First().name,null'}" ></o:PropertySetter>
                                    </a:Data.Prop>
                                </ComboBox>
                                <ComboBox DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=bxlxlist}" SelectedValue="{m:Bind Path=f_repairtype}" Margin="0,2,0,3" Grid.Row="6" Height="25" Grid.Column="2" Width="Auto" HorizontalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_repairtype" NotNull="True" ></o:PropertySetter>
                                    </a:Data.Prop>
                                </ComboBox>

                                <TextBox Text="{m:Bind Path=f_dealonline}" AcceptsReturn="True"  VerticalScrollBarVisibility="Auto"  Grid.ColumnSpan="5" Grid.Column="2" Grid.Row="9" TextWrapping="Wrap" Margin="0,-1,0,0" HorizontalAlignment="Stretch" Width="Auto" Height="Auto" VerticalAlignment="Stretch"/>
                                <ComboBox DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=chulifangshilist}" SelectedValue="{m:Bind Path=f_dealtype}" Grid.Column="6" HorizontalAlignment="Stretch" Margin="0.5,3,-0.5,2" Grid.Row="6" Width="Auto" Height="25" VerticalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_dealtype"  NotNull="True" Default="{m:Exp Str='chulifangshilist.Count > 0 :chulifangshilist.First().name,null'}"></o:PropertySetter>
                                    </a:Data.Prop>
                                </ComboBox>
                                <TextBox Text="{m:Bind Path=f_repairreason}"  VerticalScrollBarVisibility="Auto" AcceptsReturn="True"  Margin="0,40,0,0" Grid.Row="8" TextWrapping="Wrap" Height="Auto" Grid.ColumnSpan="5" Grid.Column="2" VerticalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_repairreason" NotNull="True" Value="{m:Exp Str='${a.IsChecked:$漏气,$,$$}{b.IsChecked:$通气,$,$$}{c.IsChecked:$输气不进,$,$$}{d.IsChecked:$灶具故障,$,$$}{e.IsChecked:$表响,$,$$}{f.IsChecked:$死表,$,$$}{g.IsChecked:$换表,$,$$}{h.IsChecked:$换自闭阀,$,$$}{i.IsChecked:$气量不符,$,$$}{a1.IsChecked:$热水器接驳,$,$$}{b1.IsChecked:$壁挂炉接驳,$,$$}{c1.IsChecked:$改装,$,$$}{d1.IsChecked:$打不着火,$,$$}{e1.IsChecked:$无气,$,$$}'}"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0" TextWrapping="Wrap" Text="报修编号：" HorizontalAlignment="Right" Height="25" VerticalAlignment="Center" Grid.Column="1"/>
                                <TextBox Text="{m:Bind Path=f_cucode}" Grid.Column="2" Margin="0,3,0,2" TextWrapping="Wrap" Height="25" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_cucode" Default="{m:Exp Str=$\{SysTime.Now.ToString($yyyyMMdd$)\}\{Seriabx.Value\}}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Margin="0,5,0,3" Grid.Row="11" TextWrapping="Wrap" Text="接单部门：" TextAlignment="Right" Grid.ColumnSpan="2"/>
                                <TextBlock Visibility="{m:Exp Str=gdms.value\=\=$直接派发到APP模式$:$Visible$\,$Collapsed$}" Grid.Column="3" Margin="0,4,-0.5,4" Grid.Row="11" TextWrapping="Wrap" Text="接单人：" Height="22" TextAlignment="Right" HorizontalAlignment="Right"/>

                                <TextBlock Visibility="{m:Exp Str=gdms.value\=\=$直接派发到APP模式$:$Visible$\,$Collapsed$}" Grid.Column="5" Margin="0,4,1.5,4" Grid.Row="10" TextWrapping="Wrap" Text="接单人电话：" Height="22" TextAlignment="Right" HorizontalAlignment="Right"/>
                                <ComboBox  DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=jiedanbumenlist}" SelectedValue="{m:Bind Path=f_meetunit}" Grid.Column="2" Margin="0,2,0,3" Grid.Row="11" Height="25" HorizontalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_meetunit" Default="{m:Exp Str='jiedanbumenlist.Count > 0 :jiedanbumenlist.First().name,null'}" ></o:PropertySetter>
                                    </a:Data.Prop>
                                </ComboBox>
                                <ComboBox Visibility="{m:Exp Str=gdms.value\=\=$直接派发到APP模式$:$Visible$\,$Collapsed$}" Name="jiedanren" DisplayMemberPath="col0" SelectedValuePath="col0" ItemsSource="{m:Exp Str=works}" SelectedValue="{m:Bind Path=f_accepter}"   Grid.Column="4" Margin="0.5,3,-0.5,2" Grid.Row="11"   Height="25" HorizontalAlignment="Stretch" >
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_accepter" ></o:PropertySetter>
                                    </a:Data.Prop>
                                </ComboBox>
                                <TextBox Visibility="{m:Exp Str=gdms.value\=\=$直接派发到APP模式$:$Visible$\,$Collapsed$}" Text="{m:Bind Path=f_acceptertel}"  Grid.Column="6" Margin="0.5,3,2.5,2" Grid.Row="10" TextWrapping="Wrap" Width="Auto" Height="25" HorizontalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1" Grid.RowSpan="1" RenderTransformOrigin="0.391,-0.44">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_acceptertel" Value="{m:Exp Str=jiedanren.SelectedItem.col1}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Name="录音文件" Text="{m:Bind Path=recordfile}" Margin="0,3,0,2" TextWrapping="Wrap" Height="25" Grid.Column="6" Width="Auto" HorizontalAlignment="Stretch" RenderTransformOrigin="-0.204,0.68" Grid.Row="6" IsReadOnly="True" Visibility="Collapsed">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="recordfile" Value="{m:Exp Str=Phone.RecordFile}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_stopremark}" Grid.Column="4" Margin="1.5,3,-3,2" Grid.Row="5" TextWrapping="Wrap" Height="25" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_stopremark" Value="{m:Exp Str=consumer.f_qitashixiang}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_startusedate}" Grid.Column="6" Margin="0,3,0,2" Grid.Row="5" TextWrapping="Wrap" Height="25" IsReadOnly="True">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_startusedate" Value="{m:Exp Str=consumer.f_fireopening}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBox Text="{m:Bind Path=f_operator}"  Grid.Column="4" Margin="0.5,3,-1,2" Grid.Row="14" TextWrapping="Wrap" Width="Auto" Height="25" HorizontalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_operator" NotNull="True" Default="{m:Exp Str=LoginUser.name}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <TextBlock Grid.Column="3" Margin="0,4,-0.5,4" Grid.Row="14" TextWrapping="Wrap" Text="值班人：" Height="22" TextAlignment="Right" HorizontalAlignment="Right"/>
                                <TextBlock Margin="0,4" Grid.Row="14" TextWrapping="Wrap" Text="值班人部门：" TextAlignment="Right" Height="22" HorizontalAlignment="Right" Grid.Column="1"/>
                                <TextBox Text="{m:Bind Path=f_department}"  Grid.Column="2" Margin="0,3,0,2" Grid.Row="14" TextWrapping="Wrap" Width="Auto" Height="25" HorizontalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_department" NotNull="True" Default="{m:Exp Str=LoginUser.f_parentname}" />
                                    </a:Data.Prop>
                                </TextBox>
                                <StackPanel Grid.Row="8" Grid.Column="2" Height="40" Width="auto" Margin="0" Grid.ColumnSpan="5"  Orientation="Vertical" VerticalAlignment="Top">
                                    <StackPanel Height="20" Width="auto" Orientation="Horizontal">
                                        <CheckBox Name="a"  Content="漏气"  Height="20" Margin="10,0,5,0"  HorizontalAlignment="Left" Width="50" VerticalAlignment="Top" d:LayoutOverrides="Height"/>
                                        <CheckBox Name="b" Content="通气"  Height="20" Margin="0,0,5,0" VerticalAlignment="Top" d:LayoutOverrides="Height"/>
                                        <CheckBox Name="c" Content="输气不进"  Height="20" Margin="0,0,5,0" VerticalAlignment="Top" d:LayoutOverrides="Height"/>
                                        <CheckBox Name="d" Content="灶具故障"  Height="20" Margin="0,0,5,0"  VerticalAlignment="Top" HorizontalAlignment="Right" Width="77" Grid.ColumnSpan="2"/>
                                        <CheckBox Name="e" Content="表响"  Height="20" Margin="0,0,5,0"  VerticalAlignment="Top" HorizontalAlignment="Left" Width="47" d:LayoutOverrides="Height"/>
                                        <CheckBox Name="f" Content="死表"  Height="20" Margin="0,0,5,0"  VerticalAlignment="Top" HorizontalAlignment="Left" Width="47" d:LayoutOverrides="HorizontalAlignment, Height"/>
                                        <CheckBox Name="g" Content="换表"  Height="20" Margin="0,0,5,0"  VerticalAlignment="Top" HorizontalAlignment="Right" Width="47" d:LayoutOverrides="Height"/>
                                        <CheckBox Name="h" Content="换自闭阀" Height="20" Margin="0,0,5,0"  VerticalAlignment="Top" HorizontalAlignment="Left" Width="77" d:LayoutOverrides="HorizontalAlignment, Height"/>
                                        <CheckBox Name="i" Content="气量不符" Height="20" Margin="0,0,5,0"  VerticalAlignment="Top" HorizontalAlignment="Left" Width="77" d:LayoutOverrides="Height"/>
                                    </StackPanel>
                                    <StackPanel Height="20" Width="auto" Orientation="Horizontal">
                                        <CheckBox Name="a1"  Content="热水器接驳"  Height="20" Margin="10,0,5,0"  HorizontalAlignment="Left" Width="85" VerticalAlignment="Top" d:LayoutOverrides="Height"/>
                                        <CheckBox Name="b1" Content="壁挂炉接驳"  Height="20" Margin="0,0,5,0" VerticalAlignment="Top" d:LayoutOverrides="Height"/>
                                        <CheckBox Name="c1" Content="改装"  Height="20" Margin="0,0,5,0" VerticalAlignment="Top" d:LayoutOverrides="Height"/>
                                        <CheckBox Name="d1" Content="打不着火"  Height="20" Margin="0,0,5,0"  VerticalAlignment="Top" HorizontalAlignment="Right" Width="77" Grid.ColumnSpan="2"/>
                                        <CheckBox Name="e1" Content="无气"  Height="20" Margin="0,0,5,0"  VerticalAlignment="Top" HorizontalAlignment="Left" Width="47" d:LayoutOverrides="Height"/>
                                    </StackPanel>
                                </StackPanel>
                                <TextBlock Grid.Column="1" Margin="0,3,0,5" Grid.Row="5" TextWrapping="Wrap" Text="报修时间：" Height="22" HorizontalAlignment="Right" d:LayoutOverrides="HorizontalMargin"/>
                                <toolkit:TimePicker Value="{m:Bind Path=f_recorddate}" Grid.Column="2" Margin="0,3,8,2" Grid.Row="5" Height="25" d:LayoutOverrides="HorizontalMargin">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_recorddate" Value="{m:Exp Str='SecRefresh=>TimeEvent!=null:SysTime.Now,$$'}" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                                <StackPanel x:Name="ldbuttons"  Orientation="Horizontal" Grid.Column="5" Height="Auto" Margin="26,11,19,20" Grid.Row="15" VerticalAlignment="Stretch" Grid.ColumnSpan="2">

                                    <Button x:Name="save2" Content=" 保存并更新 " Margin="0,3,10,0"  
											  IsEnabled="{m:Exp Str=main.DataContext.IsModified and !main.DataContext.HasErrors }" 
												  Click="{m:Exp Str=main.DataContext.Save();updatenewphone.Invoke();SendNote.Invoke();consumer.New()}" RenderTransformOrigin="0.5,0.5" toolkit:DockPanel.Dock="Right"  />
                                    <!-- <Button x:Name="save2" Content=" 保存并发送 " Margin="0,3,10,0"  
											  IsEnabled="{m:Exp Str=main.DataContext.IsModified and !main.DataContext.HasErrors }" 
												  Click="{m:Exp Str=updatenewphone.Invoke();repairman.Invoke();SendNote.Invoke();consumer.New();lsld.ItemsSource.Clear();gqxx.ItemsSource.Clear();ajxx.ItemsSource.Clear();Phone.ConfirmHandUp()}" RenderTransformOrigin="0.5,0.5" toolkit:DockPanel.Dock="Right"  />
                                    -->
                                    <Button Content=" 撤 销 " Margin="5,3,5,0" Click="{m:Exp Str=consumer.New();main.DataContext.New();main.DataContext.f_phone\=Phone.CallNumber;main.DataContext.recordfile\=Phone.RecordFile}" RenderTransformOrigin="0.5,0.5" toolkit:DockPanel.Dock="Right" />

                                </StackPanel>
                                <TextBlock Margin="0,4,-1,4" TextWrapping="Wrap" Text="是否处理：" Grid.Row="10" HorizontalAlignment="Right" Grid.Column="1"/>
                                <ComboBox DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=shifoulist}" SelectedValue="{m:Bind Path=f_havadeal}" Grid.Column="2" Grid.Row="10" Margin="1,2,-1,3" Height="25" Width="Auto" VerticalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_havadeal" NotNull="True" Default="{m:Exp Str='shifoulist.Count > 0 :shifoulist.First().name,null'}"></o:PropertySetter>
                                    </a:Data.Prop>
                                </ComboBox>
                                <TextBlock Margin="38,4,0,4" Grid.Row="13" TextWrapping="Wrap" Text="派单人：" Grid.Column="1" d:LayoutOverrides="Width"/>
                                <TextBlock Grid.Column="3" Margin="0,4,-0.5,4" Grid.Row="13" TextWrapping="Wrap" Text="派单日期：" HorizontalAlignment="Right"/>
                                <TextBlock Grid.Column="5" Grid.Row="13" TextWrapping="Wrap" Text="派单时间：" Margin="0,5,2.5,3" HorizontalAlignment="Right"/>
                                <TextBlock Visibility="{m:Exp Str=gdms.value\=\=$直接派发到APP模式$:$Visible$\,$Collapsed$}" Grid.Column="5" Grid.Row="11" Text="未处理任务数：" HorizontalAlignment="Right" Grid.ColumnSpan="2" Margin="0,5,143.5,0"></TextBlock>
                                <TextBox Text="{m:Bind Path=f_sender}" Grid.Column="2" Margin="0,3,0,2" Grid.Row="13" TextWrapping="Wrap" Height="25" Width="Auto" VerticalAlignment="Stretch" Grid.RowSpan="1" HorizontalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_sender" Default="{m:Exp Str=LoginUser.name}"/>
                                    </a:Data.Prop>
                                </TextBox>
                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_senddate}" Grid.Column="4" IsEnabled="True" Margin="0.5,3,-1,2" Grid.Row="13" Height="25" Width="Auto" RenderTransformOrigin="-0.109,0.38" VerticalAlignment="Stretch" Grid.ColumnSpan="1" Grid.RowSpan="1" HorizontalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_senddate" Default="{m:Exp Str=SysTime.Today}"/>
                                    </a:Data.Prop>
                                </sdk:DatePicker>
                                <toolkit:TimePicker Value="{m:Bind Path=f_sendtime}" Grid.Column="6" Margin="0,3,0,2" Grid.Row="13" Height="25" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.RowSpan="1">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_sendtime" Value="{m:Exp Str=SecRefresh\=&gt;TimeEvent!\=null:SysTime.Now\,$$}" />
                                    </a:Data.Prop>
                                </toolkit:TimePicker>
                                <TextBlock Margin="0,3,-0.5,5" TextWrapping="Wrap" Text="完成情况：" Grid.Row="10" HorizontalAlignment="Right" Grid.Column="3"/>
                                <ComboBox DisplayMemberPath="name" SelectedValuePath="name"  ItemsSource="{m:Exp Str=wcqklist}" SelectedValue="{m:Bind Path=f_havacomplete}" Grid.Column="4" Grid.Row="10" Margin="2.5,3,5,2" Height="25" Width="Auto" VerticalAlignment="Stretch">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_havacomplete" Default="{m:Exp Str='wcqklist.Count > 0 :wcqklist.First().name,null'}" ></o:PropertySetter>
                                    </a:Data.Prop>
                                </ComboBox>
                                <Button x:Name="save" Content=" 保 存 " Margin="0,14,18.5,20" 
											IsEnabled="{m:Exp Str=main.DataContext.IsModified and !main.DataContext.HasErrors}"
											Click="{m:Exp Str=main.DataContext.Save();consumer.New()}" Grid.Column="6" Grid.Row="15" HorizontalAlignment="Right" d:LayoutOverrides="Height" />
                                <!-- gdms.value\=\=$班组长模式$:main.DataContext.f_state\=\'未派发\'\,main.DataContext.f_state\=\'已派发\';
								<Button x:Name="save" Content=" 保 存 " Margin="0,14,18.5,20" 
											IsEnabled="{m:Exp Str=main.DataContext.IsModified and !main.DataContext.HasErrors}"
											Click="{m:Exp Str=main.DataContext.Save();consumer.New();lsld.ItemsSource.Clear();gqxx.ItemsSource.Clear();ajxx.ItemsSource.Clear();Phone.ConfirmHandUp()}" Grid.Column="6" Grid.Row="15" HorizontalAlignment="Right" d:LayoutOverrides="Height" />
                                -->
                                <TextBox Visibility="{m:Exp Str=gdms.value\=\=$直接派发到APP模式$:$Visible$\,$Collapsed$}" Text="{m:Bind Path=f_counts}"  Grid.Column="6" Margin="0.5,5,1.5,0" Grid.Row="11" TextWrapping="Wrap" Width="Auto" Height="25" HorizontalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1" Grid.RowSpan="1" RenderTransformOrigin="0.391,-0.44">
                                    <a:Data.Prop>
                                        <o:PropertySetter PropertyName="f_counts" Value="{m:Exp Str=jiedanren.SelectedItem.col2}" />
                                    </a:Data.Prop>
                                </TextBox>
                            </Grid>
                        </sdk:TabItem>
                        <sdk:TabItem Header="用户历史信息" >
                            <sdk:TabControl   TabStripPlacement="Right" Margin="0" Height="Auto" Width="Auto" BorderThickness="0">
                                <sdk:TabItem Header="历史来电">
                                    <StackPanel>
                                        <sdk:DataGrid x:Name="lsld" HorizontalScrollBarVisibility="Auto" AutoGenerateColumns="False" HorizontalAlignment="Stretch" Width="Auto" IsReadOnly="True" Height="162" VerticalAlignment="Top">
                                            <a:Data.Items>
                                                <o:ObjectList Name="repairoftellist" WebClientInfo="{StaticResource dbclient}" 
											Path="{m:Exp Str=$from t_repairsys where  f_userid \=\'\{maingo1.f_userid\}\'  order by f_cucode desc}" 
											/>
                                            </a:Data.Items>
                                            <sdk:DataGrid.Columns>
                                                <sdk:DataGridTextColumn Binding="{Binding f_cucode}" Header="报修编号" IsReadOnly="True" />
                                                <sdk:DataGridTextColumn Binding="{Binding f_userid}" Header="用户编号" IsReadOnly="True" />

                                                <sdk:DataGridTextColumn Binding="{Binding f_username}" Header="用户姓名" IsReadOnly="True" />
                                                <sdk:DataGridTextColumn Binding="{Binding f_phone}" Header="来电号码" IsReadOnly="True" />
                                                <sdk:DataGridTextColumn Binding="{Binding f_repairreason}" Header="来电内容" IsReadOnly="True" />

                                                <sdk:DataGridTextColumn Binding="{Binding f_metergasnums}" Header="累计购气量" IsReadOnly="True" />
                                                <sdk:DataGridTextColumn Binding="{Binding f_repairtype}" Header="报修类型" IsReadOnly="True" />
                                                <sdk:DataGridTextColumn Binding="{Binding f_dealtype}" Header="处理方式" IsReadOnly="True" />
                                                <sdk:DataGridTextColumn Binding="{Binding f_meetunit}" Header="接单部门" IsReadOnly="True" />
                                                <sdk:DataGridTextColumn Binding="{Binding f_accepter}" Header="接单人" IsReadOnly="True" />
                                            </sdk:DataGrid.Columns>
                                        </sdk:DataGrid>

                                        <StackPanel   DataContext="{m:Exp Str='lsld.SelectedItem' }">
                                            <Grid  HorizontalAlignment="Stretch" Width="Auto" Margin="0,10,0,-1" Height="112" >
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="90"/>
                                                    <ColumnDefinition Width="0.528*"/>
                                                    <ColumnDefinition Width="0.472*"/>
                                                    <ColumnDefinition Width="132"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="148"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="30"/>
                                                    <RowDefinition Height="30"/>
                                                    <RowDefinition Height="60"/>
                                                    <RowDefinition Height="224"/>


                                                </Grid.RowDefinitions>
                                                <TextBlock Grid.Row="2" TextWrapping="Wrap" Text="报修日期：" Height="22" TextAlignment="Right" Grid.Column="4" Margin="0,22,0,16"/>
                                                <TextBlock Margin="0,-1,11,9" TextWrapping="Wrap" Text="来电类型：" Grid.Column="2" Height="22" TextAlignment="Right" HorizontalAlignment="Right"/>
                                                <TextBlock Margin="0,4,3,4" TextWrapping="Wrap" Text="报修类型：" RenderTransformOrigin="0.631,2.08" Height="22" HorizontalAlignment="Right"/>
                                                <TextBlock Grid.Row="1" TextWrapping="Wrap" Text="来电内容：" Height="22" TextAlignment="Right" Margin="0,8,0,0"/>
                                                <toolkit:TimePicker Value="{m:Bind Path=f_recorddate}" IsEnabled="False" Margin="0,3,0,0" Grid.Row="2" Height="25" Grid.Column="5" Width="Auto" HorizontalAlignment="Stretch" Visibility="Collapsed" VerticalAlignment="Top" d:LayoutOverrides="Height"/>
                                                <sdk:DatePicker SelectedDate="{m:Bind Path=f_reporttime}" IsEnabled="False" Grid.Column="5" Margin="0,21,0,14" Grid.Row="2" Height="25" Width="Auto" VerticalAlignment="Stretch"/>
                                                <TextBox  IsReadOnly="True"      Text="{m:Bind Path=f_teltype}" Margin="-1,1,0,4" Grid.Row="0" Height="25" Grid.Column="3" RenderTransformOrigin="0.514,-0.54" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                                                <TextBox  IsReadOnly="True"   Text="{m:Bind Path=f_repairtype}" Margin="1,1,-1,4" Grid.Row="0" Height="25" Grid.Column="1" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                                                <TextBox Text="{m:Bind Path=f_repairreason}"  VerticalScrollBarVisibility="Auto" AcceptsReturn="True"  Margin="0,-1,0,-17" Grid.Row="1" TextWrapping="Wrap" Height="Auto" Grid.ColumnSpan="5" Grid.Column="1" VerticalAlignment="Stretch"  IsReadOnly="True" Grid.RowSpan="1"/>
                                                <TextBox Text="{m:Bind Path=f_operator}"  Grid.Column="3" Margin="0,21,0,14" Grid.Row="2" TextWrapping="Wrap" Width="Auto" Height="25" HorizontalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1" VerticalAlignment="Stretch"/>
                                                <TextBlock Grid.Column="2" Grid.Row="2" TextWrapping="Wrap" Text="值班人：" Height="22" TextAlignment="Right" Margin="0,22,0,16"/>
                                                <TextBlock Grid.Row="2" TextWrapping="Wrap" Text="值班人部门：" TextAlignment="Right" Height="22" Margin="0,22,0,16"/>
                                                <TextBox Text="{m:Bind Path=f_department}"  Grid.Column="1" Margin="0,21,0,14" Grid.Row="2" TextWrapping="Wrap" Width="Auto" Height="25" HorizontalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1" VerticalAlignment="Stretch"/>
                                                <TextBlock Grid.Column="4" Margin="0,2,4,6" TextWrapping="Wrap" Text="报修时间：" Height="22" HorizontalAlignment="Right"/>
                                                <toolkit:TimePicker Value="{m:Bind Path=f_recorddate}" Grid.Column="5" Margin="0,0,0,5" Grid.Row="0" Height="25" IsEnabled="False" VerticalAlignment="Stretch"  />


                                            </Grid>
                                            <Grid    HorizontalAlignment="Stretch" Height="280"     >
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="89"/>
                                                    <ColumnDefinition Width="0.626*"/>
                                                    <ColumnDefinition Width="0.374*"/>
                                                    <ColumnDefinition Width="132"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="148"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="0"/>
                                                    <RowDefinition Height="6"/>
                                                    <RowDefinition Height="30"/>
                                                    <RowDefinition Height="54"/>
                                                    <RowDefinition Height="30" />
                                                    <RowDefinition Height="30"/>
                                                    <RowDefinition Height="1"/>
                                                    <RowDefinition Height="50"/>
                                                    <RowDefinition Height="29"/>
                                                    <RowDefinition Height="38"/>
                                                    <RowDefinition Height="87"/>

                                                </Grid.RowDefinitions>
                                                <TextBlock Margin="0" TextWrapping="Wrap" Text="处理方式：" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Column="2" Margin="0" TextWrapping="Wrap" Text="是否处理：" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                                <TextBlock Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="处理记录：" Height="25" VerticalAlignment="Center" HorizontalAlignment="Right"/>

                                                <TextBlock TextWrapping="Wrap" Text="派单人：" HorizontalAlignment="Right" Margin="0" Grid.Row="4" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Column="2" TextWrapping="Wrap" Text="派单日期：" HorizontalAlignment="Right" Margin="0" Grid.Row="4" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Column="4" TextWrapping="Wrap" Text="派单时间：" HorizontalAlignment="Right" Margin="0" Grid.Row="4" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Row="5" TextWrapping="Wrap" Text="接单部门：" HorizontalAlignment="Right" Margin="0" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Column="2" Grid.Row="5" TextWrapping="Wrap" Text="接单人：" HorizontalAlignment="Right" Margin="0" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Column="4" Grid.Row="5" TextWrapping="Wrap" Text="接单时间：" HorizontalAlignment="Right" Margin="0" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Row="7" TextWrapping="Wrap" Text="上门维修记录：" HorizontalAlignment="Right" Margin="0" Height="35" VerticalAlignment="Center" Width="81"/>
                                                <TextBlock Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="完成情况：" HorizontalAlignment="Right" Grid.Column="2" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Row="8" TextWrapping="Wrap" Text="维修人员：" Height="25" TextAlignment="Right" Margin="0" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                                <TextBlock Margin="0,3" Grid.Row="8" TextWrapping="Wrap" Text="完成日期：" HorizontalAlignment="Right" Grid.Column="4"/>
                                                <TextBlock Margin="0,5,0,8" Grid.Row="9" TextWrapping="Wrap" Text="完成时间：" HorizontalAlignment="Right"/>
                                                <TextBox  IsReadOnly="True" Text="{m:Bind Path=f_dealtype}" Grid.Column="1" Margin="0,4,0,1" Height="25" VerticalAlignment="Stretch" Width="Auto" Grid.Row="2" HorizontalAlignment="Stretch"/>
                                                <TextBox IsReadOnly="True"   Text="{m:Bind Path=f_havadeal}" Grid.Column="3" Margin="0,4,0,1" Height="25" Width="Auto" VerticalAlignment="Stretch" Grid.Row="2" HorizontalAlignment="Stretch"/>
                                                <TextBox  IsReadOnly="True" Text="{m:Bind Path=f_dealonline}"  VerticalScrollBarVisibility="Auto" TextWrapping="Wrap" AcceptsReturn="True" Grid.Column="1" Margin="0,3,0,2" Grid.Row="3"   Grid.ColumnSpan="5" Height="Auto"/>

                                                <TextBox IsReadOnly="True" Text="{m:Bind Path=f_sender}" Grid.Column="1" Margin="0,4,0,1" Grid.Row="4" TextWrapping="Wrap" Height="25" Width="Auto" VerticalAlignment="Stretch" Grid.RowSpan="1">
                                                    <a:Data.Prop>
                                                        <o:PropertySetter PropertyName="f_sender"/>
                                                    </a:Data.Prop>
                                                </TextBox>
                                                <sdk:DatePicker IsEnabled="False"  SelectedDate="{m:Bind Path=f_senddate}" Grid.Column="3"   Margin="0,4,0,1" Grid.Row="4" Height="25" Width="Auto" RenderTransformOrigin="-0.109,0.38" VerticalAlignment="Stretch" Grid.RowSpan="1">
                                                    <a:Data.Prop>
                                                        <o:PropertySetter PropertyName="f_senddate" Default="{m:Exp Str=SysTime.Today}"/>
                                                    </a:Data.Prop>
                                                </sdk:DatePicker>
                                                <toolkit:TimePicker IsEnabled="False" Value="{m:Bind Path=f_sendtime}" Grid.Column="5" Margin="0,4,0,1" Grid.Row="4" Height="25" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.RowSpan="1">
                                                    <a:Data.Prop>
                                                        <o:PropertySetter PropertyName="f_sendtime" Default="{m:Exp Str=SecRefresh\=&gt;TimeEvent!\=null:SysTime.Now\,$$}" />
                                                    </a:Data.Prop>
                                                </toolkit:TimePicker>
                                                <TextBox IsReadOnly="True" Text="{m:Bind Path=f_meetunit}" Grid.Column="1" Margin="0,4,0,1" Grid.Row="5" Height="25" Width="Auto" VerticalAlignment="Stretch"/>
                                                <TextBox   IsReadOnly="True" Text="{m:Bind Path=f_accepter}"    Grid.Column="3" Margin="0,3,0,2" Grid.Row="5"  Height="25" HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox"/>
                                                <!--<TextBox Text="{m:Bind Path=f_accepter}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="5" TextWrapping="Wrap" Height="25" Width="Auto" VerticalAlignment="Stretch"/>-->
                                                <toolkit:TimePicker IsEnabled="True" Value="{m:Bind Path=f_accepttime}" Grid.Column="5" Margin="0,4,0,1" Grid.Row="5" Height="25" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                                    <a:Data.Prop>
                                                        <o:PropertySetter PropertyName="f_accepttime" Default="{m:Exp Str=SecRefresh\=&gt;TimeEvent!\=null:SysTime.Now\,$$}"  />
                                                    </a:Data.Prop>
                                                </toolkit:TimePicker>
                                                <TextBox IsReadOnly="True" Text="{m:Bind Path=f_smwxjl}" VerticalScrollBarVisibility="Auto" TextWrapping="Wrap" AcceptsReturn="True" Grid.Column="1" Margin="0,3,0,2" Grid.Row="7"  Height="Auto" Grid.ColumnSpan="5" VerticalAlignment="Stretch" Grid.RowSpan="1"/>
                                                <TextBox IsReadOnly="True" Text="{m:Bind Path=f_havacomplete}" Grid.Column="3" Margin="0,4,0,1" Grid.Row="8" Height="25" RenderTransformOrigin="0.605,-1.2" Width="Auto" VerticalAlignment="Stretch"/>
                                                <TextBox IsReadOnly="True" Text="{m:Bind Path=f_repairer2}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="8"   Height="25" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  />
                                                <sdk:DatePicker IsEnabled="False" SelectedDate="{m:Bind Path=f_completedate2}" Grid.Column="5" Margin="0,3,36,2" Grid.Row="8" Height="25" Width="Auto" VerticalAlignment="Stretch">
                                                    <a:Data.Prop>
                                                        <o:PropertySetter PropertyName="f_completedate2" />
                                                    </a:Data.Prop>
                                                </sdk:DatePicker>
                                                <toolkit:TimePicker IsEnabled="False" Value="{m:Bind Path=f_completetime}" Grid.Column="1" Margin="0,3,-20,6" Grid.Row="9" Height="25" Width="Auto" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                                    <a:Data.Prop>
                                                        <o:PropertySetter PropertyName="f_completetime" />
                                                    </a:Data.Prop>
                                                </toolkit:TimePicker>
                                                <sdk:DatePicker IsEnabled="False" SelectedDate="{m:Bind Path=f_operatedate}"  Grid.Column="3" Margin="26,5,-6,4" Grid.Row="9" Height="25" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                                    <a:Data.Prop>
                                                        <o:PropertySetter PropertyName="f_operatedate" Default="{m:Exp Str=SysTime.Now}"/>
                                                    </a:Data.Prop>
                                                </sdk:DatePicker>
                                                <TextBlock  Margin="0,3,-22,6" Grid.Row="9" TextWrapping="Wrap" Text="操作日期：" TextAlignment="Right" HorizontalAlignment="Right" Grid.Column="2"/>
                                                <TextBlock Grid.Column="4" Margin="0,3,8,6" Grid.Row="9" TextWrapping="Wrap" Text="操作员：" TextAlignment="Right" HorizontalAlignment="Right"/>
                                                <TextBox  IsReadOnly="True"
											Text="{m:Bind Path=f_operateman}"  Grid.Column="5" Margin="8,5,8,4" Grid.Row="9" TextWrapping="Wrap" Height="25" TextAlignment="Right" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                                    <a:Data.Prop>
                                                        <o:PropertySetter PropertyName="f_operateman" NotNull="True" 
													Default="{m:Exp Str=LoginUser.name}"/>
                                                    </a:Data.Prop>
                                                </TextBox>
                                                <Path Grid.ColumnSpan="6" Data="M-57,4.000134 L278,4.5001345 M432.03674,4.4786983 L1603.855,4.0001869" Stretch="Fill" UseLayoutRounding="False" StrokeThickness="2" HorizontalAlignment="Left" Margin="8,0,0,0" Grid.Row="1" Width="628" Height="3" VerticalAlignment="Top">
                                                    <Path.Fill>
                                                        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">

                                                            <GradientStop Color="Green" Offset="1"/>
                                                            <GradientStop Color="Green"/>
                                                        </LinearGradientBrush>
                                                    </Path.Fill>
                                                    <Path.Stroke>
                                                        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                            <GradientStop Color="Green" Offset="0"/>
                                                            <GradientStop Color="Green" Offset="1"/>
                                                        </LinearGradientBrush>
                                                    </Path.Stroke>
                                                </Path>




                                            </Grid>
                                        </StackPanel>

                                    </StackPanel>
                                </sdk:TabItem>
                                <sdk:TabItem Header="购气信息">
                                    <sdk:DataGrid Name="gqxx"   HorizontalScrollBarVisibility="Auto" AutoGenerateColumns="False" Margin="0" HorizontalAlignment="Stretch" Width="Auto" IsReadOnly="True">
                                        <a:Data.Items>
                                            <o:ObjectList Name="payfeelist" WebClientInfo="{StaticResource dbclient}" 
											Path="{m:Exp Str=$from t_sellinggas where f_userid \=\'\{maingo1.f_userid\}\'  order by id desc}" 
											/>
                                        </a:Data.Items>
                                        <sdk:DataGrid.Columns>
                                            <sdk:DataGridTextColumn Binding="{Binding f_userid}" Header="用户编号" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_username}" Header="单位" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_username}" Header="用户名称" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_pregas}" Header="用气量" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_preamount}" Header="用气金额" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_pregas}" Header="应交气量" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_totalcost}" Header="应交金额" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_gasprice}" Header="气价" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_metergasnums}" Header="累计购气量" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_pregas}" Header="本次预购气量" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_amountmaintenance}" Header="维修费金额" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_sgnetwork}" Header="交费站点" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_deliverytime}" Header="交费日期" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_sgoperator}" Header="操作人" IsReadOnly="True" />
                                        </sdk:DataGrid.Columns>
                                    </sdk:DataGrid>

                                </sdk:TabItem>
                                <sdk:TabItem Header="安检信息">
                                    <sdk:DataGrid Name="ajxx" AutoGenerateColumns="False" Margin="0,0,0,1" HorizontalAlignment="Stretch" Width="Auto" IsReadOnly="True" Height="Auto" VerticalAlignment="Stretch">
                                        <a:Data.Items>
                                            <o:ObjectList Name="safetylist" WebClientInfo="{StaticResource dbclient}" 
											Path="{m:Exp Str=$from safety where f_userid \=\'\{maingo1.f_userid\}\'  order by id desc}" 
											/>
                                        </a:Data.Items>
                                        <sdk:DataGrid.Columns>
                                            <sdk:DataGridTextColumn Binding="{Binding f_userid}" Header="用户编号" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_username}" Header="单位" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_username}" Header="用户名称" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_cusDom}" Header="楼号"  IsReadOnly="True"/>
                                            <sdk:DataGridTextColumn Binding="{Binding f_address}" Header="住址" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding f_meternumber}" Header="表号" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding factremaingascount}" Header="表余气量" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding examine}" Header="安检员姓名" IsReadOnly="True" />
                                            <sdk:DataGridTextColumn Binding="{Binding safetydate}" Header="安检日期" IsReadOnly="True" />
                                        </sdk:DataGrid.Columns>
                                    </sdk:DataGrid>
                                </sdk:TabItem>
                            </sdk:TabControl>

                        </sdk:TabItem>

                        <sdk:TabItem Header="维修处理&amp;回访记录">
                            <ScrollViewer Height="Auto"  HorizontalAlignment="Right" >
                                <StackPanel  x:Name="wxobj" DataContext="{m:Exp Str=maingo2}">
                                    <Grid  HorizontalAlignment="Stretch" Width="Auto" Margin="0,5,0,1" >
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="123"/>
                                            <ColumnDefinition Width="0.562*"/>
                                            <ColumnDefinition Width="0.438*"/>
                                            <ColumnDefinition Width="132"/>
                                            <ColumnDefinition Width="80"/>
                                            <ColumnDefinition Width="148"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30" />
                                            <RowDefinition Height="34"/>
                                            <RowDefinition Height="70"/>
                                            <RowDefinition Height="30" />
                                            <RowDefinition Height="30" />

                                        </Grid.RowDefinitions>


                                        <TextBlock TextWrapping="Wrap" Text="用户ID：" Margin="0,0,-1,0" HorizontalAlignment="Right" Grid.Column="4" Height="25" VerticalAlignment="Center"/>
                                        <TextBlock Margin="0" TextWrapping="Wrap" Text="用户姓名：" HorizontalAlignment="Right" Grid.Row="2" Height="25" VerticalAlignment="Center"/>
                                        <TextBlock Margin="0,4,-0.5,4" TextWrapping="Wrap" Text="联系方式：" Grid.Column="2" Grid.Row="2" Height="22" TextAlignment="Right"/>
                                        <TextBlock Grid.Row="1" TextWrapping="Wrap" Text="单位：" Margin="0" Height="25" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Margin="0,0,-1.5,0" Grid.Row="1" TextWrapping="Wrap" Text="用户地址：" Grid.Column="2" HorizontalAlignment="Right" Height="25" VerticalAlignment="Center"/>
                                        <TextBlock Margin="0,0,-1.5,0" TextWrapping="Wrap" Text="来电电话：" Grid.Column="2" HorizontalAlignment="Right" Height="25" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Row="9" TextWrapping="Wrap" Text="报修日期：" Margin="0" Height="22" TextAlignment="Right" Grid.Column="4"/>
                                        <TextBlock Margin="0,0,-1.5,0" Grid.Row="3" TextWrapping="Wrap" Text="表底数：" Grid.Column="2" Height="25" HorizontalAlignment="Right" VerticalAlignment="Center" d:LayoutOverrides="HorizontalAlignment"/>
                                        <TextBlock Grid.Row="3" TextWrapping="Wrap" Text="表号：" Grid.Column="4" HorizontalAlignment="Right" Margin="0" Height="25" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Row="4" TextWrapping="Wrap" Text="表型：" Margin="0,0,-1.5,0" Grid.Column="2" HorizontalAlignment="Right" Height="25" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Row="4" TextWrapping="Wrap" Text="左右表：" Grid.Column="4" Margin="0" Height="25" HorizontalAlignment="Right" VerticalAlignment="Center" RenderTransformOrigin="-3.356,0.34"/>
                                        <TextBlock Margin="0,4" Grid.Row="4" TextWrapping="Wrap" Text="累计购气量：" Height="22" HorizontalAlignment="Right"/>
                                        <TextBlock Margin="0,4" Grid.Row="3" TextWrapping="Wrap" Text="用户类别：" Height="22" TextAlignment="Right"/>
                                        <TextBlock Margin="0" Grid.Row="5" TextWrapping="Wrap" Text="通气日期：" Grid.Column="4" HorizontalAlignment="Right" Height="25" VerticalAlignment="Center"/>
                                        <TextBlock Margin="0,0,-1.5,0" Grid.Row="5" TextWrapping="Wrap" Text="备注：" HorizontalAlignment="Right" Grid.Column="2" Height="25" VerticalAlignment="Center"/>
                                        <TextBlock Margin="0,6,-0.5,6" Grid.Row="7" TextWrapping="Wrap" Text="来电类型：" Grid.Column="2" Height="22" TextAlignment="Right" HorizontalAlignment="Right"/>
                                        <Button Content="播放录音" Click="{m:Exp Str=wbPhone.startwav()}" Grid.Row="7" Grid.Column="5" RenderTransformOrigin="0.543,0.577" Width="88"/>
                                        <Grid DataContext="{m:Exp Str=wbPhone}">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="filename" Value="{m:Exp Str=maingo2.recordfile}"/>
                                            </a:Data.Prop>
                                        </Grid>
                                        <TextBlock Margin="0,6" Grid.Row="7" TextWrapping="Wrap" Text="报修类型：" RenderTransformOrigin="0.631,2.08" Height="22" HorizontalAlignment="Right"/>
                                        <TextBlock Grid.Row="8" TextWrapping="Wrap" Text="来电内容：" Margin="0,24" Height="22" TextAlignment="Right"/>
                                        <TextBox Text="{m:Bind Path=f_userid}" Margin="0,3,0,2" TextWrapping="Wrap" Height="25" Grid.Column="5" Width="Auto" HorizontalAlignment="Stretch"  IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_username}" Margin="0,3,0,2" TextWrapping="Wrap" Height="25" Grid.Column="1" Width="Auto" HorizontalAlignment="Stretch" Grid.Row="2"  IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_phone}" Margin="0.5,3,-1,2" TextWrapping="Wrap" Height="25" Grid.Column="3" Width="Auto" HorizontalAlignment="Stretch" RenderTransformOrigin="-0.204,0.68" Grid.Row="2" IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_username}" Margin="0,3,0,2" Grid.Row="1" TextWrapping="Wrap" Height="25" Grid.Column="1" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_address}" Margin="0.5,3,-1,2" Grid.Row="1" TextWrapping="Wrap" Height="25" Grid.Column="3" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" Width="Auto"  IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_phone}"  Margin="0.5,3,-1,2" Grid.Row="0" TextWrapping="Wrap" Height="25" Grid.Column="3" Width="Auto" RenderTransformOrigin="-0.288,0.36" HorizontalAlignment="Stretch"  IsReadOnly="True"/>
                                        <toolkit:TimePicker Value="{m:Bind Path=f_recorddate}" IsEnabled="False" Margin="0,3,0,2" Grid.Row="2" Height="25" Grid.Column="5" Width="Auto" HorizontalAlignment="Stretch" Visibility="Collapsed"/>
                                        <sdk:DatePicker SelectedDate="{m:Bind Path=f_reporttime}" IsEnabled="False" Grid.Column="5" Margin="0" Grid.Row="9" Height="25" Width="Auto"/>
                                        <TextBox Text="{m:Bind Path=f_gasmeteraccomodations}" Margin="0.5,3,-1,2" Grid.Row="3" TextWrapping="Wrap" Height="25" Grid.Column="3" Width="Auto" HorizontalAlignment="Stretch" IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_meternumber}" Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" Height="25" Grid.Column="5" Width="Auto" HorizontalAlignment="Stretch" IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_metertype}" Margin="0.5,3,-1,2" Grid.Row="4" TextWrapping="Wrap" Height="25" Grid.Column="3" Width="Auto" HorizontalAlignment="Stretch" IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_aroundmeter}" Margin="0,3,0,2" Grid.Row="4" TextWrapping="Wrap" Height="25" Grid.Column="5" Width="Auto" HorizontalAlignment="Stretch" IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_metergasnums}" Margin="0,3,0,2" Grid.Row="4" TextWrapping="Wrap" Height="25" Grid.Column="1" Width="Auto" IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_usertype}" Foreground="{m:Exp Str=maingo2.f_usertype \=\= $A$ or maingo2.f_usertype \=\= $B$:Red\,DataGridText}"  Margin="0,3,0,2" Grid.Row="3" TextWrapping="Wrap" Height="25" Grid.Column="1" Width="Auto" RenderTransformOrigin="-0.388,0.48" HorizontalAlignment="Stretch" IsReadOnly="True"/>
                                        <TextBox  IsReadOnly="True"      Text="{m:Bind Path=f_teltype}" Margin="0.5,5,-1,4" Grid.Row="7" Height="25" Grid.Column="3" RenderTransformOrigin="0.514,-0.54" Width="Auto" HorizontalAlignment="Stretch"/>
                                        <TextBox  IsReadOnly="True"   Text="{m:Bind Path=f_repairtype}" Margin="0,5,0,4" Grid.Row="7" Height="25" Grid.Column="1" Width="Auto" HorizontalAlignment="Stretch"/>
                                        <TextBox Text="{m:Bind Path=f_repairreason}"  VerticalScrollBarVisibility="Auto" AcceptsReturn="True"  Margin="0,-2,0,0" Grid.Row="8" TextWrapping="Wrap" Height="Auto" Grid.ColumnSpan="5" Grid.Column="1" VerticalAlignment="Stretch"  IsReadOnly="False"/>
                                        <TextBlock Margin="0" TextWrapping="Wrap" Text="报修编号：" HorizontalAlignment="Right" Height="25" VerticalAlignment="Center"/>
                                        <TextBox Text="{m:Bind Path=f_cucode}" Grid.Column="1" Margin="0,3,0,2" TextWrapping="Wrap" Height="25" IsReadOnly="True"/>

                                        <TextBox Text="{m:Bind Path=f_stopremark}" Grid.Column="3" Margin="0.5,3,-1,2" Grid.Row="5" TextWrapping="Wrap" Height="25" IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_fireopening}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="5" TextWrapping="Wrap" Height="25" IsReadOnly="True"/>
                                        <TextBox Text="{m:Bind Path=f_operator}"  Grid.Column="3" Margin="0" Grid.Row="9" TextWrapping="Wrap" Width="Auto" Height="25" HorizontalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1"/>
                                        <TextBlock Grid.Column="2" Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="值班人：" Height="22" TextAlignment="Right"/>
                                        <TextBlock Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="值班人部门：" TextAlignment="Right" Height="22"/>
                                        <TextBox Text="{m:Bind Path=f_department}"  Grid.Column="1" Margin="0" Grid.Row="9" TextWrapping="Wrap" Width="Auto" Height="25" HorizontalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1"/>
                                        <TextBlock Margin="0,4" Grid.Row="6" TextWrapping="Wrap" Text="维修费起始日期：" Height="22"/>
                                        <TextBlock Grid.Column="4" Margin="0,4" Grid.Row="6" TextWrapping="Wrap" Text="报修时间：" Height="22" HorizontalAlignment="Right"/>
                                        <TextBox Text="{m:Bind Path=f_beginfee}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="6" TextWrapping="Wrap" Height="25"  IsReadOnly="True"/>
                                        <toolkit:TimePicker Value="{m:Bind Path=f_recorddate}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="6" Height="25" IsEnabled="False"  />
                                        <TextBlock Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="备注：" TextAlignment="Right" Height="22"/>
                                        <TextBox Text="{m:Bind Path=f_beizhu}"  Grid.Column="1" Margin="0" Grid.Row="10" TextWrapping="Wrap" Width="Auto" Height="25" HorizontalAlignment="Stretch" IsReadOnly="False" Grid.ColumnSpan="1"/>

                                    </Grid>


                                    <Grid   HorizontalAlignment="Stretch"     >
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="123"/>
                                            <ColumnDefinition Width="0.562*"/>
                                            <ColumnDefinition Width="0.438*"/>
                                            <ColumnDefinition Width="132"/>
                                            <ColumnDefinition Width="80"/>
                                            <ColumnDefinition Width="148"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="1"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="60"/>
                                            <RowDefinition Height="30" />
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="60"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="60"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="30"/>
                                        </Grid.RowDefinitions>
                                        <TextBlock Margin="0" TextWrapping="Wrap" Text="处理方式：" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Margin="0" TextWrapping="Wrap" Text="是否处理：" Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Margin="0" Grid.Row="3" TextWrapping="Wrap" Text="处理记录：" Height="25" VerticalAlignment="Center" HorizontalAlignment="Right"/>

                                        <TextBlock TextWrapping="Wrap" Text="派单人：" HorizontalAlignment="Right" Margin="0" Grid.Row="4" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" TextWrapping="Wrap" Text="派单日期：" HorizontalAlignment="Right" Margin="0" Grid.Row="4" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="4" TextWrapping="Wrap" Text="派单时间：" HorizontalAlignment="Right" Margin="0" Grid.Row="4" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Row="5" TextWrapping="Wrap" Text="接单部门：" HorizontalAlignment="Right" Margin="0" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Grid.Row="5" TextWrapping="Wrap" Text="接单人：" HorizontalAlignment="Right" Margin="0" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="4" Grid.Row="5" TextWrapping="Wrap" Text="接单时间：" HorizontalAlignment="Right" Margin="0" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Row="7" TextWrapping="Wrap" Text="上门维修记录：" HorizontalAlignment="Right" Margin="0" Height="26" VerticalAlignment="Center"/>
                                        <TextBlock Margin="0" Grid.Row="8" TextWrapping="Wrap" Text="完成情况：" HorizontalAlignment="Right" Grid.Column="2" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Row="8" TextWrapping="Wrap" Text="维修人员：" Height="25" TextAlignment="Right" Margin="0" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="完成日期：" Height="24" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Margin="0" Grid.Row="9" TextWrapping="Wrap" Text="完成时间：" Height="21" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <ComboBox DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=chulifangshilist}" SelectedValue="{m:Bind Path=f_dealtype}" Grid.Column="1" Margin="0,3,0,2" Height="25" VerticalAlignment="Stretch" Width="Auto" Grid.Row="2" HorizontalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_dealtype" Default="{m:Exp Str='chulifangshilist.Count > 0 :chulifangshilist.First().name,null'}" ></o:PropertySetter>
                                            </a:Data.Prop>
                                        </ComboBox>
                                        <ComboBox DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=shifoulist}" SelectedValue="{m:Bind Path=f_havadeal}" Grid.Column="3" Margin="0,3,0,2" Height="25" Width="Auto" VerticalAlignment="Stretch" Grid.Row="2" HorizontalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_havadeal" Default="是"></o:PropertySetter>
                                            </a:Data.Prop>
                                        </ComboBox>
                                        <TextBox Text="{m:Bind Path=f_dealonline}"  VerticalScrollBarVisibility="Auto" TextWrapping="Wrap" AcceptsReturn="True" Grid.Column="1" Margin="0,3,0,2" Grid.Row="3"   Grid.ColumnSpan="5" Height="Auto"/>

                                        <TextBox Text="{m:Bind Path=f_sender}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="4" TextWrapping="Wrap" Height="25" Width="Auto" VerticalAlignment="Stretch" Grid.RowSpan="1">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_sender"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <sdk:DatePicker SelectedDate="{m:Bind Path=f_senddate}" Grid.Column="3" IsEnabled="True" Margin="0,3,0,2" Grid.Row="4" Height="25" Width="Auto" RenderTransformOrigin="-0.109,0.38" VerticalAlignment="Stretch" Grid.RowSpan="1">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_senddate" Default="{m:Exp Str=SysTime.Today}"/>
                                            </a:Data.Prop>
                                        </sdk:DatePicker>
                                        <toolkit:TimePicker Value="{m:Bind Path=f_sendtime}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="4" Height="25" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.RowSpan="1">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_sendtime" Default="{m:Exp Str='SecRefresh=>TimeEvent!=null:SysTime.Now,$$'}" />
                                            </a:Data.Prop>
                                        </toolkit:TimePicker>
                                        <ComboBox DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=jiedanbumenlist}" SelectedValue="{m:Bind Path=f_meetunit}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="5" Height="25" Width="Auto" VerticalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_meetunit"  ></o:PropertySetter>
                                            </a:Data.Prop>
                                        </ComboBox>
                                        <ComboBox Name="wxjiedanren" DisplayMemberPath="col0" SelectedValuePath="col0" ItemsSource="{m:Exp Str=works}" SelectedValue="{m:Bind Path=f_accepter}"    Grid.Column="3" Margin="0,3,0,2" Grid.Row="5"  Height="25" HorizontalAlignment="Stretch" d:LayoutOverrides="GridBox">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_accepter" ></o:PropertySetter>
                                            </a:Data.Prop>
                                        </ComboBox>
                                        <!--<TextBox Text="{m:Bind Path=f_accepter}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="5" TextWrapping="Wrap" Height="25" Width="Auto" VerticalAlignment="Stretch"/>-->
                                        <toolkit:TimePicker Value="{m:Bind Path=f_accepttime}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="5" Height="25" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_accepttime" Default="{m:Exp Str='SecRefresh=>TimeEvent!=null:SysTime.Now,$$'}"  />
                                            </a:Data.Prop>
                                        </toolkit:TimePicker>
                                        <TextBox Text="{m:Bind Path=f_smwxjl}" VerticalScrollBarVisibility="Auto" TextWrapping="Wrap" AcceptsReturn="True" Grid.Column="1" Margin="0,3,0,2" Grid.Row="7"  Height="Auto" Grid.ColumnSpan="5" VerticalAlignment="Stretch" Grid.RowSpan="1"/>
                                        <ComboBox DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=wcqklist}" SelectedValue="{m:Bind Path=f_havacomplete}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="8" Height="25" RenderTransformOrigin="0.605,-1.2" Width="Auto" VerticalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_havacomplete"   Default="{m:Exp Str='wcqklist.Count > 0 :wcqklist.First().name,null'}"></o:PropertySetter>
                                            </a:Data.Prop>
                                        </ComboBox>
                                        <TextBox Text="{m:Bind Path=f_accepter}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="8"   Height="25" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  />
                                        <sdk:DatePicker SelectedDate="{m:Bind Path=f_completedate2}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="9" Height="25" Width="Auto" VerticalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_completedate2" />
                                            </a:Data.Prop>
                                        </sdk:DatePicker>
                                        <toolkit:TimePicker Value="{m:Bind Path=f_completetime}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="9" Height="25" Width="Auto" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_completetime" />
                                            </a:Data.Prop>
                                        </toolkit:TimePicker>
                                        <sdk:DatePicker SelectedDate="{m:Bind Path=f_operatedate}" IsEnabled="False" Grid.Column="1" Margin="0,3,0,2" Grid.Row="10" Height="25" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_operatedate" Default="{m:Exp Str=SysTime.Now}"/>
                                            </a:Data.Prop>
                                        </sdk:DatePicker>
                                        <TextBlock Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="操作日期：" Height="25" TextAlignment="Right" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Margin="0" Grid.Row="10" TextWrapping="Wrap" Text="操作员：" TextAlignment="Right" Height="25" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBox Text="{m:Bind Path=f_operateman}" IsReadOnly="True" Grid.Column="3" Margin="0,3,0,2" Grid.Row="10" TextWrapping="Wrap" Height="25" TextAlignment="Right" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_operateman" NotNull="True" 
													Default="{m:Exp Str=LoginUser.name}"/>
                                            </a:Data.Prop>
                                        </TextBox>
                                        <TextBlock Margin="0" TextWrapping="Wrap" Text="是否回访：" Grid.Row="12" Height="25" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Margin="0" TextWrapping="Wrap" Text="回访员：" Grid.Row="12" Height="25" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="4" TextWrapping="Wrap" Text="回访日期：" Margin="0" Grid.Row="12" Height="25" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Row="13" TextWrapping="Wrap" Text="服务态度满意情况：" Width="77" Margin="0" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Margin="0" Grid.Row="13" TextWrapping="Wrap" Text="质量满意情况：" Width="93" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="4" Grid.Row="13" TextWrapping="Wrap" Text="回访时间：" Margin="0" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBlock Margin="0" Grid.Row="14" TextWrapping="Wrap" Text="用户意见：" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <ComboBox DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=sfhflist}" SelectedValue="{m:Bind Path=f_ifvisit}" Grid.Column="1" Margin="0,3,0,2" Height="25" Width="Auto" VerticalAlignment="Stretch" Grid.Row="12">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_ifvisit" />
                                            </a:Data.Prop>
                                        </ComboBox>
                                        <TextBox Text="{m:Bind Path=f_visitren}" Grid.Column="3" Margin="0,3,0,2" TextWrapping="Wrap" Height="25" Width="Auto" VerticalAlignment="Stretch" Grid.Row="12"/>
                                        <sdk:DatePicker SelectedDate="{m:Bind Path=f_visitrq}" Grid.Column="5" Margin="0,3,0,2" Height="25" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Row="12">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_visitrq" />
                                            </a:Data.Prop>
                                        </sdk:DatePicker>
                                        <ComboBox DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=fwtdlist}" SelectedValue="{m:Bind Path=f_fwtdmiqk}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="13" Height="25" Width="Auto" VerticalAlignment="Stretch" d:LayoutOverrides="GridBox">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_fwtdmiqk" />
                                            </a:Data.Prop>
                                        </ComboBox>
                                        <ComboBox DisplayMemberPath="name" SelectedValuePath="name" ItemsSource="{m:Exp Str=zlmylist}" SelectedValue="{m:Bind Path=f_zlmiqk}" Grid.Column="3" Margin="0,3,0,2" Grid.Row="13" Height="25" Width="Auto" VerticalAlignment="Stretch" d:LayoutOverrides="GridBox">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_zlmiqk" />
                                            </a:Data.Prop>
                                        </ComboBox>
                                        <toolkit:TimePicker Value="{m:Bind Path=f_visitsj}" Grid.Column="5" Margin="0,3,0,2" Grid.Row="13" Height="25" Width="138" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_visitsj"  />
                                            </a:Data.Prop>
                                        </toolkit:TimePicker>
                                        <TextBox Text="{m:Bind Path=f_consumeroption}"  VerticalScrollBarVisibility="Auto"  AcceptsReturn="True"  Grid.Row="14" Grid.Column="1" Margin="0,3,0,2"  TextWrapping="Wrap" Grid.ColumnSpan="5" Height="Auto" VerticalAlignment="Stretch" Grid.RowSpan="1"/>
                                        <TextBlock Grid.Row="15" TextWrapping="Wrap" Text="来电号码：" Margin="0" Height="25" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                        <TextBox Text="{m:Bind Path=f_phone}" Margin="0" Grid.Row="15" TextWrapping="Wrap" Height="25" Grid.Column="1" Width="Auto" RenderTransformOrigin="-0.288,0.36" HorizontalAlignment="Stretch" IsReadOnly="True" VerticalAlignment="Stretch" Grid.ColumnSpan="2">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_phone" />
                                            </a:Data.Prop>
                                        </TextBox>
                                        <Button Content="外拨" Click="{m:Exp Str=wbPhone.CallPhone()}" Grid.Column="3" Margin="30,2,8,2" Grid.Row="15" RenderTransformOrigin="0.543,0.577" Width="88"/>
                                        <Grid DataContext="{m:Exp Str=wbPhone}">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="CallPhone" Value="{m:Exp Str=maingo2.f_phone}"/>
                                            </a:Data.Prop>
                                        </Grid>
                                        <StackPanel x:Name="wxbuttons"  Orientation="Horizontal" Grid.Column="5" Height="35" Margin="0,0,0,0" Grid.Row="16" VerticalAlignment="Top" Grid.ColumnSpan="1">

                                            <Button x:Name="wxhfsave" Content=" 保 存 " Margin="0,0,0,8" 
											IsEnabled="{m:Exp Str=wxobj.DataContext.IsModified and !wxobj.DataContext.HasErrors}"
											Click="{m:Exp Str=wxobj.DataContext.Save()}" toolkit:DockPanel.Dock="Right" Width="88" Height="25" />

                                        </StackPanel>
                                        <Path Grid.ColumnSpan="6" Data="M-57,4.000134 L278,4.5001335 M432.03674,4.4786983 L1603.855,4.0001869" Margin="0,14,-2,13" Grid.Row="11" Stretch="Fill" UseLayoutRounding="False" StrokeThickness="2">
                                            <Path.Fill>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">

                                                    <GradientStop Color="Green" Offset="1"/>
                                                    <GradientStop Color="Green"/>
                                                </LinearGradientBrush>
                                            </Path.Fill>
                                            <Path.Stroke>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="Green" Offset="0"/>
                                                    <GradientStop Color="Green" Offset="1"/>
                                                </LinearGradientBrush>
                                            </Path.Stroke>
                                        </Path>
                                        <sdk:Label Grid.Column="1" Margin="21,2,45,-2" Grid.Row="11" FontSize="16" Content="回   访" HorizontalAlignment="Center"/>
                                        <Path Grid.ColumnSpan="6" Data="M-57,4.000134 L278,4.5001345 M432.03674,4.4786983 L1603.855,4.0001869" Margin="0,11,-2,0" Stretch="Fill" UseLayoutRounding="False" StrokeThickness="2" Height="3" VerticalAlignment="Top">
                                            <Path.Fill>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">

                                                    <GradientStop Color="Green" Offset="1"/>
                                                    <GradientStop Color="Green"/>
                                                </LinearGradientBrush>
                                            </Path.Fill>
                                            <Path.Stroke>
                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                    <GradientStop Color="Green" Offset="0"/>
                                                    <GradientStop Color="Green" Offset="1"/>
                                                </LinearGradientBrush>
                                            </Path.Stroke>
                                        </Path>
                                        <sdk:Label Grid.Column="1" Margin="21,-1,45,1" FontSize="16" Content="维   修" HorizontalAlignment="Center"/>
                                        <TextBlock Grid.Row="6" TextWrapping="Wrap" Text="接单人电话：" HorizontalAlignment="Right" Margin="0" d:LayoutOverrides="Height" VerticalAlignment="Center"/>
                                        <TextBox Text="{m:Bind Path=f_acceptertel}" Grid.Column="1" Margin="0,3,0,2" Grid.Row="6" TextWrapping="Wrap" Height="25" Width="Auto" VerticalAlignment="Stretch" Grid.ColumnSpan="1" RenderTransformOrigin="-0.326,0.56">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_acceptertel" Value="{m:Exp Str=wxjiedanren.SelectedItem.col1}" />
                                            </a:Data.Prop>
                                        </TextBox>

                                        <Button Content="重发任务" Click="{m:Exp Str=wxobj.DataContext.f_downloadstatus\=null;wxobj.DataContext.Save()}" Grid.Column="4" Margin="0,3,0,1" Grid.Row="6" RenderTransformOrigin="0.543,0.577"/>
                                        <Button Content="二次派单（新）" Click="{m:Exp Str=maingo22.Save();maingo22.New();updaterepairsys.Invoke();maingo2.New()}" Width="80" Grid.Column="5" Margin="0,3,0,1" Grid.Row="6" RenderTransformOrigin="0.543,0.577"/>
                                        <TextBlock Grid.Column="2" Grid.Row="6" TextWrapping="Wrap" Text="未处理任务数：" HorizontalAlignment="Right" Margin="0,6,0,5" VerticalAlignment="Center"/>
                                        <TextBox Text="{m:Bind Path=f_counts}"  Grid.Column="3" Margin="0.5,5,1.5,0" Grid.Row="6" TextWrapping="Wrap" Width="Auto" Height="25" HorizontalAlignment="Stretch" IsReadOnly="True" Grid.ColumnSpan="1" Grid.RowSpan="1" RenderTransformOrigin="0.391,-0.44">
                                            <a:Data.Prop>
                                                <o:PropertySetter PropertyName="f_counts" Value="{m:Exp Str=wxjiedanren.SelectedItem.col2}" />
                                            </a:Data.Prop>
                                        </TextBox>

                                    </Grid>
                                </StackPanel>
                            </ScrollViewer>
                        </sdk:TabItem>
                        <!--停气公告-->
                        <sdk:TabItem Header="停气公告" >
                            <Border BorderThickness="0"  Background="{StaticResource MainRightcontentColor}">
                                <Grid Margin="0,0,0,0" >
                                    <sdk:DataGrid  ItemsSource="{m:Exp Str=gaogaolist}" AutoGenerateColumns="False" IsReadOnly="True" d:LayoutOverrides="GridBox" Height="Auto" VerticalAlignment="Stretch">
                                        <sdk:DataGrid.Columns>
                                            <sdk:DataGridTemplateColumn Header="内容" >
                                                <sdk:DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBox Text="{Binding f_stopgascause}"  IsReadOnly="True"  Height="Auto"  AcceptsReturn="True" ></TextBox>

                                                    </DataTemplate>
                                                </sdk:DataGridTemplateColumn.CellTemplate>

                                            </sdk:DataGridTemplateColumn>
                                            <sdk:DataGridTextColumn Binding="{Binding f_stopgasid}" Header="停气编号" IsReadOnly="True"/>
                                            <sdk:DataGridTextColumn Binding="{Binding f_stopgasroad}" Header="停气路段" IsReadOnly="True"/>
                                            <sdk:DataGridTextColumn Binding="{Binding f_stopgascause}" Header="停气原因" IsReadOnly="True"/>
                                            <sdk:DataGridTextColumn Binding="{Binding f_influence}" Header="影响范围" IsReadOnly="True"/>
                                            <sdk:DataGridTextColumn Binding="{Binding f_stopgasrq}" Header="停气日期" IsReadOnly="True"/>
                                            <sdk:DataGridTextColumn Binding="{Binding f_expectegasrq}" Header="预计通气日期" IsReadOnly="True"/>
                                        </sdk:DataGrid.Columns>


                                    </sdk:DataGrid>
                                </Grid>
                            </Border>
                        </sdk:TabItem>

                    </sdk:TabControl>


                </Grid>
                <Grid Width="260"  HorizontalAlignment="Left" Grid.Column="2"  Margin="2,0,0,0" Height="Auto" VerticalAlignment="Top">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="28"/>
                        <RowDefinition Height="0.775*"/>
                    </Grid.RowDefinitions>
                    <Border BorderThickness="0" Margin="0" CornerRadius="3,3,0,0" Background="{StaticResource MainRightTitleColorBrush1}">
                        <sdk:Label Margin="0" Content="用户列表" Foreground="{StaticResource TopCloseFontBrush1}" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14.667" Style="{StaticResource TopLabelStyle1}"/>
                    </Border>
                    <Border BorderThickness="0" Margin="0" Grid.Row="1" CornerRadius="0,0,3,3" Background="{StaticResource MainRightcontentColor}">
                        <Grid Margin="0,0,0,-20"  >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="66"/>

                                <RowDefinition/>
                                <RowDefinition Height="30"/>
                            </Grid.RowDefinitions>
                            <Grid x:Name="personsearch1">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="33"/>
                                    <RowDefinition Height="33"/>

                                </Grid.RowDefinitions>
                                <a:Data.Context>
                                    <o:SearchObject  />
                                </a:Data.Context>
                                <StackPanel  toolkit:DockPanel.Dock="Top" Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Height="25" >

                                    <TextBlock TextWrapping="Wrap" Text="姓名：" d:IsLocked="True"/>
                                    <TextBox Text="{m:Bind Path=f_username}" a:ControlAttach.DefaultButton="searchbutton1" Margin="0,0,5,0" Width="70" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_username" Operator="f_username like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <TextBlock TextWrapping="Wrap" Text="编号：" d:IsLocked="True"/>
                                    <TextBox Text="{m:Bind Path=f_userid}" a:ControlAttach.DefaultButton="searchbutton1" Margin="0,0,5,0" Width="70" Height="25" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_userid" Operator="f_userid like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>

                                </StackPanel>
                                <Grid Grid.Row="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="50"/>
                                        <ColumnDefinition Width="120"/>
                                        <ColumnDefinition Width="40"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock TextWrapping="Wrap" Text="地址："  d:IsLocked="True"/>
                                    <TextBox Text="{m:Bind Path=f_address}" a:ControlAttach.DefaultButton="searchbutton1" Width="100" Height="25" Grid.Column="1" d:LayoutOverrides="Height, GridBox" VerticalAlignment="Bottom" >
                                        <a:Data.Prop>
                                            <o:PropertySetter PropertyName="f_address" Operator="f_address like 'this%'"/>
                                        </a:Data.Prop>
                                    </TextBox>
                                    <Button Content="查 询" x:Name="searchbutton1" Click="{m:Exp Str=personsearch1.DataContext.Search()}" Height="25" VerticalAlignment="Bottom" d:LayoutOverrides="Height, GridBox" RenderTransformOrigin="-1.028,0.24" Margin="5,0,-14,3" Grid.Column="2"/>

                                </Grid>
                            </Grid>
                            <sdk:DataPager Name="pager1" Source="{Binding Path=ItemsSource.Count,ElementName=cx,Converter={StaticResource DataPagerConverter}}" Margin="1,0,0,0" PageSize="16" Grid.Row="3" VerticalAlignment="Center" Height="26"/>
                            <sdk:DataGrid Margin="1,1,1,0" Grid.Row="1" AutoGenerateColumns="False" x:Name="cx">
                                <a:Data.Items>
                                    <o:PagedObjectList x:Name="consumerlist" WebClientInfo="{StaticResource dbclient}"
							Path="{m:Exp Str=$from t_userfiles where \{personsearch1.DataContext.Condition\}}"
							PageIndex="{m:Exp Str=pager1.PageIndex}" PageSize="{m:Exp Str=pager1.PageSize}" SumNames=","/>
                                </a:Data.Items>
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTextColumn Binding="{Binding f_userid}" Header="ID" IsReadOnly="True"/>
                                    <sdk:DataGridTextColumn Binding="{Binding f_username}" Header="用户姓名" IsReadOnly="True"/>

                                    <sdk:DataGridTextColumn Binding="{Binding f_address}" Header="地址" IsReadOnly="True"/>
                                    <sdk:DataGridTextColumn Binding="{Binding f_cusDom}" Header="楼号" IsReadOnly="True"/>
                                    <sdk:DataGridTextColumn Binding="{Binding f_phone}" Header="联系方式" IsReadOnly="True"/>

                                    <sdk:DataGridTextColumn Binding="{Binding f_metertype}" Header="气表型号" IsReadOnly="True"/>

                                    <sdk:DataGridTextColumn Binding="{Binding f_metergasnums}" Header="累计购气量" IsReadOnly="True"/>
                                    <sdk:DataGridTextColumn Binding="{Binding f_fireopening}" Header="通气日期" IsReadOnly="True"/>

                                    <sdk:DataGridTextColumn Binding="{Binding f_finallybought}" Header="最后购气量" IsReadOnly="True"/>
                                    <sdk:DataGridTextColumn Binding="{Binding f_finabuygasdate}" Header="最后购气日期" IsReadOnly="True"/>

                                    <!--、、、、-->
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>
                        </Grid>

                    </Border>
                    <!--电话对象的引用-->
                    <Grid DataContext="{m:Exp Str=Phone}">
                        <a:Data.Prop>
                            <o:PropertySetter PropertyName="CallPhone" Value="{m:Exp Str=main.DataContext.f_acceptertel}"/>
                        </a:Data.Prop>
                    </Grid>
                </Grid>
                <sdk:DataPager x:Name="pager" Source="{Binding Path=ItemsSource.Count,ElementName=wx,Converter={StaticResource DataPagerConverter}}" Margin="0,0,1,-16" PageSize="18" Height="24" VerticalAlignment="Bottom"/>
                <TextBlock HorizontalAlignment="Left" Height="23" Margin="8,0,0,-16" TextWrapping="Wrap" Text="{m:Exp Str='$共{wx.ItemsSource.Count}项'}" VerticalAlignment="Bottom" Width="64"/>


            </Grid>
        </toolkit:DockPanel>
    </Grid>
</UserControl>