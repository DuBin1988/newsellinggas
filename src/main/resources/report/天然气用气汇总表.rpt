{sqls:[{name:'jbyingshou', sql:'/*基表应收*/
select u.f_usertype,u.f_gasmeterstyle,isnull(sum(h.oughtfee),0) ysje,
isnull(sum(h.oughtamount),0) ysql from t_handplan h,t_userfiles u 
where h.f_userid=u.f_userid and h.f_state=$已抄表$ 
and h.lastinputdate>=${daninfosearch.DataContext.f_yytdate1}$  
and h.lastinputdate<=${daninfosearch.DataContext.f_yytdate2}$ 
group by u.f_usertype,u.f_gasmeterstyle'},{name:'kbyingshou', sql:'/*卡表应收，实收*/
select u.f_usertype,u.f_gasmeterstyle,isnull(sum(s.f_preamount),0) ysje,
isnull(sum(s.f_pregas),0) ysql,SUM(s.f_preamount) ssje  from t_sellinggas s,t_userfiles u 
where s.f_userid=u.f_userid  
and s.f_deliverydate>=${daninfosearch.DataContext.f_yytdate1}$   
and s.f_deliverydate<=${daninfosearch.DataContext.f_yytdate2}$  
group by u.f_usertype,u.f_gasmeterstyle'},{name:'jbqianfei', sql:'/*基表欠款*/
select h.f_usertype,isnull(oughtamount,0)+isnull(f_pregas,0) qiliang,
round(isnull(oughtfee,0)+isnull(f_preamount,0),2) jine from 
(select f_usertype from t_handplan group by f_usertype) h 
left join 
(select SUM(oughtamount) oughtamount,round(SUM(oughtfee),2) oughtfee,
f_usertype from t_handplan 
where f_state=$已抄表$ and shifoujiaofei=$否$ 
and lastinputdate>=${daninfosearch.DataContext.f_yytdate1}$  
and lastinputdate<=${daninfosearch.DataContext.f_yytdate2}$  
group by f_usertype) a 
on a.f_usertype=h.f_usertype  
left join 
(
select SUM(s.f_pregas) f_pregas,round(SUM(s.f_preamount),2) f_preamount, 
h.f_usertype from t_handplan h,t_sellinggas s  
where  
h.f_sellid=s.id and s.f_payfeetype=$机表收费$ and s.f_payfeevalid=$有效$ 
and s.f_deliverydate>=${daninfosearch.DataContext.f_yytdate2}$ 
and h.lastinputdate>=${daninfosearch.DataContext.f_yytdate1}$  
and h.lastinputdate<=${daninfosearch.DataContext.f_yytdate2}$ 
group by h.f_usertype 
) b 
on h.f_usertype=b.f_usertype'},{name:'jbqingqian', sql:'/*基表清欠*/
select SUM(h.oughtamount) qqql,round(SUM(h.oughtfee),2)  qqje,h.f_usertype  
from t_handplan h,t_sellinggas s  
where  
h.f_userid=s.f_userid  
and h.f_sellid=s.id and s.f_payfeetype=$机表收费$ and s.f_payfeevalid=$有效$ 
and s.f_deliverydate>=${daninfosearch.DataContext.f_yytdate1}$  
and s.f_deliverydate<=${daninfosearch.DataContext.f_yytdate2}$ 
and h.lastinputdate<=${daninfosearch.DataContext.f_yytdate1}$  
group by h.f_usertype'},{name:'jbshishou', sql:'/*机表实收*/
select u.f_usertype,SUM(s.f_pregas) qiliang,
round(SUM(s.f_preamount),2) jine from t_sellinggas s,t_userfiles u  
where s.f_userid=u.f_userid  
and u.f_inputtor is not null and u.f_inputtor!=\'\'  
and s.f_payfeevalid=$有效$ 
and s.f_payfeetype in ($自动下账$,$机表收费$) 
and s.f_deliverydate>=${daninfosearch.DataContext.f_yytdate1}$  
and s.f_deliverydate<=${daninfosearch.DataContext.f_yytdate2}$  
group by u.f_usertype'}],headsql:'',leftsql:'',columns:[{width:100},{width:89},{width:100},{width:100},{width:100},{width:100},{width:100},{width:100},{width:100},{width:104},{width:100},{width:100},{width:100}], rows:[{height:44,type:'head'},{height:32,type:'head'},{height:37,type:'head'},{height:27,type:'head'},{height:23,type:'head'},{height:34,type:'head'},{height:100,type:''}], cells:[{row:0,type:'head',rowspan:1,columnspan:1, column:0, content:'$类型项目$', location:'center',height:44},{row:0,type:'head',rowspan:1,columnspan:1, column:1, content:'$应收气量（m3）$', location:'center',height:44},{row:0,type:'head',rowspan:1,columnspan:1, column:2, content:'$应收金额（元）$', location:'center',height:44},{row:0,type:'head',rowspan:1,columnspan:1, column:5, content:'$欠款气量（m3）$', location:'center',height:44},{row:0,type:'',rowspan:1,columnspan:1, column:12, content:'', location:'',height:44},{row:1,type:'head',rowspan:1,columnspan:1, column:0, content:'$居民基表$', location:'center',height:32},{row:1,type:'head',rowspan:1,columnspan:1, column:1, content:'jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$机表$].Sum(ysql)', location:'center',height:32},{row:1,type:'head',rowspan:1,columnspan:1, column:2, content:'jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$机表$].Sum(ysje).MathRound(2)', location:'center',height:32},{row:1,type:'head',rowspan:1,columnspan:1, column:5, content:'jbqianfei[data.f_usertype==$民用$].Sum(qiliang)', location:'center',height:32},{row:1,type:'',rowspan:1,columnspan:1, column:12, content:'', location:'',height:32},{row:2,type:'head',rowspan:1,columnspan:1, column:0, content:'$居民IC卡表$', location:'center',height:37},{row:2,type:'head',rowspan:1,columnspan:1, column:1, content:'kbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)', location:'center',height:37},{row:2,type:'head',rowspan:1,columnspan:1, column:2, content:'kbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysje).MathRound(2)', location:'center',height:37},{row:2,type:'head',rowspan:1,columnspan:1, column:5, content:'$0$', location:'center',height:37},{row:2,type:'',rowspan:1,columnspan:1, column:12, content:'', location:'',height:37},{row:4,type:'head',rowspan:1,columnspan:1, column:0, content:'$营业IC卡表$', location:'center',height:23},{row:4,type:'head',rowspan:1,columnspan:1, column:1, content:'kbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)', location:'center',height:23},{row:4,type:'head',rowspan:1,columnspan:1, column:2, content:'kbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysje).MathRound(2)', location:'center',height:23},{row:4,type:'head',rowspan:1,columnspan:1, column:5, content:'$0$', location:'center',height:23},{row:4,type:'',rowspan:1,columnspan:1, column:12, content:'', location:'',height:23},{row:6,type:'',rowspan:1,columnspan:1, column:0, content:'', location:'',height:100},{row:6,type:'',rowspan:1,columnspan:1, column:1, content:'', location:'',height:100},{row:6,type:'',rowspan:1,columnspan:1, column:2, content:'', location:'',height:100},{row:6,type:'',rowspan:1,columnspan:1, column:5, content:'', location:'',height:100},{row:6,type:'',rowspan:1,columnspan:1, column:12, content:'', location:'',height:100},{row:3,type:'head',rowspan:1,columnspan:1, column:0, content:'$营业基表$', location:'center',height:27},{row:3,type:'head',rowspan:1,columnspan:1, column:1, content:'jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$机表$].Sum(ysql)', location:'center',height:27},{row:3,type:'head',rowspan:1,columnspan:1, column:2, content:'jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$机表$].Sum(ysje).MathRound(2)', location:'center',height:27},{row:3,type:'head',rowspan:1,columnspan:1, column:5, content:'jbqianfei[data.f_usertype==$非民用$].Sum(qiliang)', location:'center',height:27},{row:3,type:'',rowspan:1,columnspan:1, column:12, content:'', location:'',height:27},{row:5,type:'head',rowspan:1,columnspan:1, column:0, content:'$合计$', location:'center',height:34},{row:5,type:'head',rowspan:1,columnspan:1, column:1, content:'jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$机表$].Sum(ysql)+kbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)+jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$机表$].Sum(ysql)+kbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)', location:'center',height:34},{row:5,type:'head',rowspan:1,columnspan:1, column:2, content:'(jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$机表$].Sum(ysje)+kbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysje)+jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$机表$].Sum(ysje)+kbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysje)).MathRound(2)', location:'center',height:34},{row:5,type:'head',rowspan:1,columnspan:1, column:5, content:'jbqianfei[data.f_usertype==$民用$].Sum(qiliang)+jbqianfei[data.f_usertype==$非民用$].Sum(qiliang)', location:'center',height:34},{row:5,type:'',rowspan:1,columnspan:1, column:12, content:'', location:'',height:34},{row:0,type:'head',rowspan:1,columnspan:1, column:3, content:'$实收气量（m3）$', location:'center',height:44},{row:1,type:'head',rowspan:1,columnspan:1, column:3, content:'jbshishou[data.f_usertype==$民用$].Sum(qiliang)', location:'center',height:32},{row:2,type:'head',rowspan:1,columnspan:1, column:3, content:'kbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)', location:'center',height:37},{row:3,type:'head',rowspan:1,columnspan:1, column:3, content:'jbshishou[data.f_usertype==$非民用$].Sum(qiliang)', location:'center',height:27},{row:4,type:'head',rowspan:1,columnspan:1, column:3, content:'kbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)', location:'center',height:23},{row:5,type:'head',rowspan:1,columnspan:1, column:3, content:'jbshishou[data.f_usertype==$民用$].Sum(qiliang)+kbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)+jbshishou[data.f_usertype==$非民用$].Sum(qiliang)+kbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)', location:'center',height:34},{row:6,type:'',rowspan:1,columnspan:1, column:3, content:'', location:'',height:100},{row:0,type:'head',rowspan:1,columnspan:1, column:4, content:'$实收金额（元）$', location:'center',height:44},{row:1,type:'head',rowspan:1,columnspan:1, column:4, content:'jbshishou[data.f_usertype==$民用$].Sum(jine)', location:'center',height:32},{row:2,type:'head',rowspan:1,columnspan:1, column:4, content:'kbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ssje)', location:'center',height:37},{row:3,type:'head',rowspan:1,columnspan:1, column:4, content:'jbshishou[data.f_usertype==$非民用$].Sum(jine)', location:'center',height:27},{row:4,type:'head',rowspan:1,columnspan:1, column:4, content:'kbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ssje)', location:'center',height:23},{row:5,type:'head',rowspan:1,columnspan:1, column:4, content:'jbshishou[data.f_usertype==$民用$].Sum(jine)+kbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ssje)+jbshishou[data.f_usertype==$非民用$].Sum(jine)+kbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ssje)', location:'center',height:34},{row:6,type:'',rowspan:1,columnspan:1, column:4, content:'', location:'',height:100},{row:0,type:'head',rowspan:1,columnspan:1, column:6, content:'$欠款金额（元）$', location:'center',height:44},{row:1,type:'head',rowspan:1,columnspan:1, column:6, content:'jbqianfei[data.f_usertype==$民用$].Sum(jine)', location:'center',height:32},{row:2,type:'head',rowspan:1,columnspan:1, column:6, content:'$0$', location:'center',height:37},{row:3,type:'head',rowspan:1,columnspan:1, column:6, content:'jbqianfei[data.f_usertype==$非民用$].Sum(jine)', location:'center',height:27},{row:4,type:'head',rowspan:1,columnspan:1, column:6, content:'$0$', location:'center',height:23},{row:5,type:'head',rowspan:1,columnspan:1, column:6, content:'jbqianfei[data.f_usertype==$民用$].Sum(jine)+jbqianfei[data.f_usertype==$非民用$].Sum(jine)', location:'center',height:34},{row:6,type:'',rowspan:1,columnspan:1, column:6, content:'', location:'',height:100},{row:0,type:'head',rowspan:1,columnspan:1, column:7, content:'$清欠气量（m3）$', location:'center',height:44},{row:1,type:'head',rowspan:1,columnspan:1, column:7, content:'jbqingqian[data.f_usertype==$民用$].Sum(qqql)', location:'center',height:32},{row:2,type:'head',rowspan:1,columnspan:1, column:7, content:'$0$', location:'center',height:37},{row:3,type:'head',rowspan:1,columnspan:1, column:7, content:'jbqingqian[data.f_usertype==$非民用$].Sum(qqql)', location:'center',height:27},{row:4,type:'head',rowspan:1,columnspan:1, column:7, content:'$0$', location:'center',height:23},{row:5,type:'head',rowspan:1,columnspan:1, column:7, content:'jbqingqian[data.f_usertype==$民用$].Sum(qqql)+jbqingqian[data.f_usertype==$非民用$].Sum(qqql)', location:'center',height:34},{row:6,type:'',rowspan:1,columnspan:1, column:7, content:'', location:'',height:100},{row:0,type:'head',rowspan:1,columnspan:1, column:8, content:'$清欠金额（元）$', location:'center',height:44},{row:1,type:'head',rowspan:1,columnspan:1, column:8, content:'jbqingqian[data.f_usertype==$民用$].Sum(qqje)', location:'center',height:32},{row:2,type:'head',rowspan:1,columnspan:1, column:8, content:'$0$', location:'center',height:37},{row:3,type:'head',rowspan:1,columnspan:1, column:8, content:'jbqingqian[data.f_usertype==$非民用$].Sum(qqje)', location:'center',height:27},{row:4,type:'head',rowspan:1,columnspan:1, column:8, content:'$$', location:'center',height:23},{row:5,type:'head',rowspan:1,columnspan:1, column:8, content:'jbqingqian[data.f_usertype==$民用$].Sum(qqje)+jbqingqian[data.f_usertype==$非民用$].Sum(qqje)', location:'center',height:34},{row:6,type:'',rowspan:1,columnspan:1, column:8, content:'', location:'',height:100},{row:0,type:'head',rowspan:1,columnspan:1, column:9, content:'$实抄气量（m3）$', location:'center',height:44},{row:1,type:'head',rowspan:1,columnspan:1, column:9, content:'jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$机表$].Sum(ysql)', location:'center',height:32},{row:2,type:'head',rowspan:1,columnspan:1, column:9, content:'jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)', location:'center',height:37},{row:3,type:'head',rowspan:1,columnspan:1, column:9, content:'jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$机表$].Sum(ysql)', location:'center',height:27},{row:4,type:'head',rowspan:1,columnspan:1, column:9, content:'jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)', location:'center',height:23},{row:5,type:'head',rowspan:1,columnspan:1, column:9, content:'jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$机表$].Sum(ysql)+jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)+jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$机表$].Sum(ysql)+jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysql)', location:'center',height:34},{row:6,type:'',rowspan:1,columnspan:1, column:9, content:'', location:'',height:100},{row:0,type:'head',rowspan:1,columnspan:1, column:10, content:'$实抄金额（元）$', location:'center',height:44},{row:1,type:'head',rowspan:1,columnspan:1, column:10, content:'jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$机表$].Sum(ysje).MathRound(2)', location:'center',height:32},{row:2,type:'head',rowspan:1,columnspan:1, column:10, content:'jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysje).MathRound(2)', location:'center',height:37},{row:3,type:'head',rowspan:1,columnspan:1, column:10, content:'jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$机表$].Sum(ysje).MathRound(2)', location:'center',height:27},{row:4,type:'head',rowspan:1,columnspan:1, column:10, content:'jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysje).MathRound(2)', location:'center',height:23},{row:5,type:'head',rowspan:1,columnspan:1, column:10, content:'(jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$机表$].Sum(ysje)+jbyingshou[data.f_usertype==$民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysje)+jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$机表$].Sum(ysje)+jbyingshou[data.f_usertype==$非民用$ and data.f_gasmeterstyle==$卡表$].Sum(ysje)).MathRound(2)', location:'center',height:34},{row:6,type:'',rowspan:1,columnspan:1, column:10, content:'', location:'',height:100},{row:0,type:'',rowspan:1,columnspan:1, column:11, content:'', location:'',height:44},{row:1,type:'',rowspan:1,columnspan:1, column:11, content:'', location:'',height:32},{row:2,type:'',rowspan:1,columnspan:1, column:11, content:'', location:'',height:37},{row:3,type:'',rowspan:1,columnspan:1, column:11, content:'', location:'',height:27},{row:4,type:'',rowspan:1,columnspan:1, column:11, content:'', location:'',height:23},{row:5,type:'',rowspan:1,columnspan:1, column:11, content:'', location:'',height:34},{row:6,type:'',rowspan:1,columnspan:1, column:11, content:'', location:'',height:100}]}